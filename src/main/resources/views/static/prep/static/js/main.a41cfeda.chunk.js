(this.webpackJsonpLamisPlus=this.webpackJsonpLamisPlus||[]).push([[0],{706:function(e,t,r){},707:function(e,t,r){},789:function(e,t,r){},938:function(e,t,r){},942:function(e,t,r){"use strict";r.r(t);var a=r(1),s=r.n(a),i=r(20),n=r.n(i),o=r(47),c=r(9),l=(r(156),r(706),r(707),r(708),r(1032)),d=r(1033),j=r(1068),b=r(1055),h=r(1034),p=r(1051),u=r(168),m=r.n(u);const O="/api/v1/",x=new URLSearchParams(window.location.search).get("jwt");r(295);var g=r(80),v=r(240),f=r.n(v),y=r(250),N=r.n(y),S=r(241),T=r.n(S),R=r(248),C=r.n(R),D=r(148),P=r.n(D),I=r(147),w=r.n(I),A=r(242),E=r.n(A),B=r(243),k=r.n(B),$=r(245),_=r.n($),L=r(246),F=r.n(L),Y=r(247),H=r.n(Y),z=r(251),M=r.n(z),W=r(244),V=r.n(W),q=r(249),U=r.n(q),G=r(252),K=r.n(G),J=(r(93),r(499)),X=r(1028),Z=r(660),Q=(r(479),r(433)),ee=r(27),te=r.n(ee),re=r(397),ae=r.n(re),se=r(2);te.a.locale("en"),ae()();const ie={Add:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(f.a,{...e,ref:t}))),Check:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(T.a,{...e,ref:t}))),Clear:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(w.a,{...e,ref:t}))),Delete:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(E.a,{...e,ref:t}))),DetailPanel:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(P.a,{...e,ref:t}))),Edit:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(k.a,{...e,ref:t}))),Export:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(V.a,{...e,ref:t}))),Filter:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(_.a,{...e,ref:t}))),FirstPage:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(F.a,{...e,ref:t}))),LastPage:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(H.a,{...e,ref:t}))),NextPage:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(P.a,{...e,ref:t}))),PreviousPage:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(C.a,{...e,ref:t}))),ResetSearch:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(w.a,{...e,ref:t}))),Search:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(U.a,{...e,ref:t}))),SortArrow:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(N.a,{...e,ref:t}))),ThirdStateCheck:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(M.a,{...e,ref:t}))),ViewColumn:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(K.a,{...e,ref:t})))};var ne=e=>{const[t,r]=Object(a.useState)([]),[s,i]=Object(a.useState)(!0),[n,o]=Object(a.useState)(!0);Object(a.useEffect)((()=>{!async function(){i(!0),p.a.get(`${O}prep/persons`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{i(!1),r(e.data)})).catch((e=>{i(!1)}))}()}),[]);const c=e=>{e.target.checked?o(!1):o(!0)};return Object(se.jsx)("div",{children:Object(se.jsx)(m.a,{icons:ie,title:"Find Patient",columns:[{title:"Patient Name",field:"name",hidden:n},{title:"Hospital Number",field:"hospital_number",filtering:!1},{title:"PrEP Code",field:"clientCode",filtering:!1},{title:"Sex",field:"gender",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"PrEP Status",field:"status",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],data:e=>new Promise(((t,r)=>p.a.get(`${O}prep/persons?pageSize=${e.pageSize}&pageNo=${e.page}&searchValue=${e.search}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>e)).then((r=>{var a,s,i;t({data:null===r||void 0===r||null===(a=r.data)||void 0===a||null===(s=a.records)||void 0===s||null===(i=s.map)||void 0===i?void 0:i.call(s,(e=>({name:e.firstName+" "+e.surname,hospital_number:e.hospitalNumber,clientCode:e.uniqueId,gender:e&&e.gender?e.gender:"",age:e.age,status:Object(se.jsx)(Q.a,{color:"blue",size:"mini",children:e.prepStatus}),actions:Object(se.jsx)("div",{children:Object(se.jsx)(g.b,{to:{pathname:"/patient-dashboard",state:{patientObj:e}},children:Object(se.jsxs)(X.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(se.jsx)(J.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(se.jsx)(Z.a,{})}),Object(se.jsx)(J.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(se.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})}))),page:e.page,totalCount:r.data.totalRecords})})))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!0,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400},components:{Toolbar:e=>Object(se.jsxs)("div",{className:"p-2",children:[Object(se.jsxs)("div",{className:"form-check custom-checkbox  float-left mt-4 ml-3",children:[Object(se.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==n,onChange:c,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(se.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(se.jsx)("b",{style:{color:"#014d88",fontWeight:"bold"},children:"SHOW PII"})})]}),Object(se.jsx)(u.MTableToolbar,{...e})]})}})})};const oe={borderRadius:"2px",fontSize:14};var ce=()=>{const[e,t]=Object(a.useState)("home");return Object(se.jsxs)(a.Fragment,{children:[Object(se.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(se.jsx)("ol",{className:"breadcrumb",children:Object(se.jsx)("li",{className:"breadcrumb-item active",children:Object(se.jsx)("h4",{children:"PrEP"})})})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)(l.a,{children:Object(se.jsx)(d.a,{xl:12,children:Object(se.jsx)(j.a,{style:oe,children:Object(se.jsx)(j.a.Body,{children:Object(se.jsx)("div",{className:"custom-tab-1",children:Object(se.jsx)(b.a,{id:"controlled-tab-example",activeKey:e,onSelect:e=>t(e),className:"mb-3",children:Object(se.jsx)(h.a,{eventKey:"home",title:"Find Patients",children:Object(se.jsx)(ne,{})})})})})})})})]})},le=r(7),de=r(1059),je=r(1069),be=r(1026),he=r(264),pe=r(1031),ue=r(1035),me=r(1036),Oe=r(151),xe=r(1027);te.a.locale("en"),ae()();var ge=Object(le.a)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:`2px solid ${e.palette.divider}`,padding:`${e.spacing}px ${e.spacing(2)}px`},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}})))((function(e){var t,r,a;const{classes:s}=e,i=null===e||void 0===e?void 0:e.patientObj;return Object(se.jsx)("div",{className:s.root,children:Object(se.jsxs)(be.a,{children:[Object(se.jsx)(xe.a,{children:Object(se.jsx)(ue.a,{children:Object(se.jsx)(me.a,{md:12,children:i&&null!==i?Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)(ue.a,{className:"mt-1",children:[Object(se.jsxs)(me.a,{md:12,className:null===s||void 0===s?void 0:s.root2,children:[Object(se.jsx)("b",{style:{fontSize:"25px",color:"rgb(153, 46, 98)"},children:(null===i||void 0===i?void 0:i.firstName)+" "+(null===i||void 0===i?void 0:i.surname)}),Object(se.jsx)(g.b,{to:"/",children:Object(se.jsx)(J.a,{variant:"contained",color:"primary",className:" float-end ms-2 mr-2 mt-2",startIcon:Object(se.jsx)(he.a,{}),style:{backgroundColor:"rgb(153, 46, 98)",color:"#fff",height:"35px"},children:Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})})]}),Object(se.jsx)(me.a,{md:4,className:s.root2,children:Object(se.jsxs)("span",{children:[" ","Patient ID :"," ",Object(se.jsx)("b",{style:{color:"#0B72AA"},children:null===i||void 0===i?void 0:i.hospitalNumber})]})}),Object(se.jsx)(me.a,{md:4,className:s.root2,children:Object(se.jsxs)("span",{children:["Date Of Birth :"," ",Object(se.jsx)("b",{style:{color:"#0B72AA"},children:null===i||void 0===i?void 0:i.dateOfBirth})]})}),Object(se.jsx)(me.a,{md:4,className:s.root2,children:Object(se.jsxs)("span",{children:[" ","Age :"," ",Object(se.jsx)("b",{style:{color:"#0B72AA"},children:(e=>{var t=new Date,r=e.split("-"),a=new Date(+r[2],r[1]-1,+r[0]),s=new Date(a),i=(null===t||void 0===t?void 0:t.getFullYear())-(null===s||void 0===s?void 0:s.getFullYear()),n=(null===t||void 0===t?void 0:t.getMonth())-(null===s||void 0===s?void 0:s.getMonth());return(n<0||0===n&&(null===t||void 0===t?void 0:t.getDate())<(null===s||void 0===s?void 0:s.getDate()))&&i--,0===i?n+" month(s)":i+" year(s)"})(te()(null===i||void 0===i?void 0:i.dateOfBirth).format("DD-MM-YYYY"))})]})}),Object(se.jsx)(me.a,{md:4,children:Object(se.jsxs)("span",{children:[" ","Gender :"," ",Object(se.jsx)("b",{style:{color:"#0B72AA"},children:null===i||void 0===i?void 0:i.gender})]})}),Object(se.jsx)(me.a,{md:4,children:Object(se.jsxs)("span",{children:[" ","Sex at Birth :"," ",Object(se.jsx)("b",{style:{color:"#0B72AA"},children:(null===i||void 0===i?void 0:i.sexAtBirth)||(null===i||void 0===i?void 0:i.gender)})]})}),Object(se.jsx)(me.a,{md:4,className:s.root2,children:Object(se.jsxs)("span",{children:[" ","Phone Number :"," ",Object(se.jsx)("b",{style:{color:"#0B72AA"},children:null===i||void 0===i?void 0:i.phoneNumber})]})}),Object(se.jsx)(me.a,{md:6,className:s.root2,children:Object(se.jsxs)("span",{children:[" ","Address :"," ",Object(se.jsxs)("b",{style:{color:"#0B72AA"},children:[null===i||void 0===i?void 0:i.address," "]})]})}),null!==(null===i||void 0===i?void 0:i.prepStatus)&&Object(se.jsx)(me.a,{md:12,children:Object(se.jsx)("div",{children:Object(se.jsx)(Oe.a,{variant:"caption",children:Object(se.jsxs)(Q.a,{color:"teal",size:"mini",children:["STATUS :"," ",(null===(t=e.activeContent)||void 0===t||null===(r=t.obj)||void 0===r||null===(a=r.newStatus)||void 0===a?void 0:a.display)||(null===i||void 0===i?void 0:i.prepStatus)]})})})})]})}):Object(se.jsx)(se.Fragment,{children:Object(se.jsx)("p",{children:"Loading please wait.."})})})})}),Object(se.jsx)(pe.a,{})]})})})),ve=r(662),fe=r(1054);var ye=function(e){const t=e.patientObj;Object(a.useEffect)((()=>{}),[e.patientObj]);const r=t=>{e.setActiveContent({...e.activeContent,route:"prep-interruptions"})},s=t=>{e.setActiveContent({...e.activeContent,route:"prep-registration"})},i=t=>{e.setActiveContent({...e.activeContent,route:"prep-commencement"})},n=t=>{e.setActiveContent({...e.activeContent,route:"prep-screening"})},o=t=>{e.setActiveContent({...e.activeContent,route:"consultation"})},c=t=>{e.setActiveContent({...e.activeContent,route:"recent-history"})},l=()=>{e.setActiveContent({...e.activeContent,route:"patient-history"})};return Object(ve.useHistory)(),Object(a.useEffect)((()=>{})),Object(se.jsx)("div",{children:Object(se.jsx)(fe.a,{size:"large",color:"black",inverted:!0,children:"ETL"!==(null===t||void 0===t?void 0:t.createdBy)?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(fe.a.Item,{onClick:()=>{c()},children:"Home"}),(null===t||void 0===t?void 0:t.eligibilityCount)<=0||null===(null===t||void 0===t?void 0:t.eligibilityCount)?Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(fe.a.Item,{onClick:()=>n(),children:"PrEP Eligibility Screening"})}):Object(se.jsx)(se.Fragment,{children:"0"===(null===t||void 0===t?void 0:t.prepCount)||null===(null===t||void 0===t?void 0:t.commencementCount)?Object(se.jsxs)(se.Fragment,{children:["0"===(null===t||void 0===t?void 0:t.prepCount)&&"Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)&&Object(se.jsx)(fe.a.Item,{onClick:()=>s(),children:"PrEP Enrollment"}),(null===(null===t||void 0===t?void 0:t.commencementCount)||(null===t||void 0===t?void 0:t.commencementCount)<=0)&&"Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)&&Object(se.jsx)(fe.a.Item,{onClick:()=>i(),children:"PrEP Commencement"})]}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)(fe.a.Item,{onClick:()=>n(),children:[" ","PrEP Eligibility Screening"," "]}),(null===(null===t||void 0===t?void 0:t.prepCount)||(null===t||void 0===t?void 0:t.prepCount)<0)&&"Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)&&Object(se.jsx)(fe.a.Item,{onClick:()=>s(),children:"PrEP Enrollment"}),(null===(null===t||void 0===t?void 0:t.commencementCount)||(null===t||void 0===t?void 0:t.commencementCount)<=0)&&"Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)&&Object(se.jsx)(fe.a.Item,{onClick:()=>i(),children:"PrEP Commencement"}),"Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)&&Object(se.jsxs)(fe.a.Item,{onClick:()=>o(),children:[" ","PrEP Visit"]}),"Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)&&Object(se.jsx)(fe.a.Item,{onClick:()=>r(),children:"PrEP Discontinuations & Interruptions"})]})}),Object(se.jsx)(fe.a.Item,{onClick:()=>l(),children:"History"})]}):Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(fe.a.Item,{onClick:()=>c(),children:"Home"}),("Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)||null===(null===t||void 0===t?void 0:t.hivresultAtVisit))&&Object(se.jsx)(fe.a.Item,{onClick:()=>n(),children:"PrEP Eligibility Screening"}),("Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)||null===(null===t||void 0===t?void 0:t.hivresultAtVisit))&&"0"===(null===t||void 0===t?void 0:t.prepCount)&&Object(se.jsx)(fe.a.Item,{onClick:()=>s(),children:"PrEP Enrollment"}),("Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)||null===(null===t||void 0===t?void 0:t.hivresultAtVisit))&&(null===(null===t||void 0===t?void 0:t.commencementCount)||(null===t||void 0===t?void 0:t.commencementCount)<=0)&&Object(se.jsx)(fe.a.Item,{onClick:()=>i(),children:"PrEP Commencement"}),("Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)||null===(null===t||void 0===t?void 0:t.hivresultAtVisit))&&Object(se.jsxs)(fe.a.Item,{onClick:()=>o(),children:[" ","PrEP Visit"]}),("Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)||null===(null===t||void 0===t?void 0:t.hivresultAtVisit))&&Object(se.jsx)(fe.a.Item,{onClick:()=>r(),children:"PrEP Discontinuations & Interruptions"}),Object(se.jsx)(fe.a.Item,{onClick:()=>l(),children:"History"})]})})})},Ne=r(1050),Se=r(663),Te=r.n(Se),Re=r(1058),Ce=r(1053),De=r(1062);var Pe=e=>{var t;const[r,i]=Object(a.useState)([]),[n,o]=Object(a.useState)(null),[l,d]=Object(a.useState)(!1),[b,h]=s.a.useState(!1),[u,m]=Object(a.useState)(null),g=()=>h(!b),[v,f]=Object(a.useState)(0);Object(a.useEffect)((()=>{N(),y()}),[null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.personId]);const y=()=>{p.a.get(`${O}prep/activities/patients/${e.patientObj.personId}?full=true`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{i(e.data)})).catch((e=>{}))},N=()=>{p.a.get(`${O}prep-clinic/person/${e.patientObj.personId}?full=true`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{o(e.data[0])})).catch((e=>{}))};const S=(t,r)=>{"prep-eligibility"===t.path?e.setActiveContent({...e.activeContent,route:"prep-screening",id:t.id,actionType:r}):"prep-enrollment"===t.path?e.setActiveContent({...e.activeContent,route:"prep-registration",id:t.id,actionType:r}):"prep-clinic"===t.path?e.setActiveContent({...e.activeContent,route:"consultation",id:t.id,actionType:r}):"prep-commencement"===t.path?e.setActiveContent({...e.activeContent,route:"prep-commencement",id:t.id,actionType:r}):"prep-interruption"===t.path&&e.setActiveContent({...e.activeContent,route:"prep-interruptions",id:t.id,actionType:r})};return Object(se.jsxs)(a.Fragment,{children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-xl-4 col-xxl-4 col-lg-4",children:Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header  border-0 pb-0",children:Object(se.jsx)("h4",{className:"card-title",children:"Recent Activities"})}),Object(se.jsx)("div",{className:"card-body",children:Object(se.jsx)(Te.a,{style:{height:"370px"},id:"DZ_W_Todo1",className:"widget-media dz-scroll ps ps--active-y",children:Object(se.jsx)(Re.a,{className:"accordion accordion-header-bg accordion-header-shadow accordion-rounded ",defaultActiveKey:"0",children:Object(se.jsx)(se.Fragment,{children:r.map(((e,t)=>Object(se.jsxs)("div",{className:"accordion-item",children:[Object(se.jsxs)(Re.a.Toggle,{as:j.a.Text,eventKey:`${t}`,className:`accordion-header ${1===v?"":"collapsed"} accordion-header-info`,onClick:()=>f(1===v?-1:t),children:[Object(se.jsx)("span",{className:"accordion-header-icon"}),Object(se.jsxs)("span",{className:"accordion-header-text",children:["Encounter Date :"," ",Object(se.jsx)("span",{className:"",children:e.date})," "]}),Object(se.jsx)("span",{className:"accordion-header-indicator"})]}),Object(se.jsx)(Re.a.Collapse,{eventKey:`${t}`,className:"accordion__body",children:Object(se.jsx)("div",{className:"accordion-body-text",children:Object(se.jsx)("ul",{className:"timeline",children:(null===e||void 0===e?void 0:e.activities)&&(null===e||void 0===e?void 0:e.activities.map(((t,r)=>{return Object(se.jsx)("li",{children:Object(se.jsxs)("div",{className:"timeline-panel",children:[Object(se.jsx)("div",{className:r%2===0?"media me-2 media-info":"media me-2 media-success",children:(a=e.name,"HIV Enrollment"===a?"HE":"Prep Clinic"===a?"PC":"Prep Enrollment"===a||"Prep Eligibility"===a?"PE":"ART Commencement"===a?"AC":"RA")},0),Object(se.jsxs)("div",{className:"media-body",children:[Object(se.jsx)("h5",{className:"mb-1",children:t.name}),Object(se.jsx)("small",{className:"d-block",children:t.date})]},1),Object(se.jsxs)(Ne.a,{className:"dropdown",children:[Object(se.jsx)(Ne.a.Toggle,{variant:"light",className:"i-false p-0 btn-info sharp",children:Object(se.jsx)("svg",{width:"18px",height:"18px",viewBox:"0 0 24 24",version:"1.1",children:Object(se.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(se.jsx)("rect",{x:"0",y:"0",width:"24",height:"24"}),Object(se.jsx)("circle",{fill:"#000000",cx:"5",cy:"12",r:"2"}),Object(se.jsx)("circle",{fill:"#000000",cx:"12",cy:"12",r:"2"}),Object(se.jsx)("circle",{fill:"#000000",cx:"19",cy:"12",r:"2"})]})})}),Object(se.jsxs)(Ne.a.Menu,{className:"dropdown-menu",children:[Object(se.jsx)(Ne.a.Item,{className:"dropdown-item",onClick:()=>S(t,"view"),children:"View"}),Object(se.jsx)(Ne.a.Item,{className:"dropdown-item",onClick:()=>S(t,"update"),children:"Update"}),Object(se.jsx)(Ne.a.Item,{className:"dropdown-item",to:"/widget-basic",onClick:()=>{return e=t,g(),void m(e);var e},children:"Delete"})]})]})]})},t.id);var a})))})})})]},t)))})})})})]})}),Object(se.jsx)("div",{className:"col-xl-8 col-xxl-8 col-lg-8",children:Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header border-0  pb-2",style:{backgroundColor:"#EEEEEE"},children:Object(se.jsx)("h4",{className:"card-title",children:"Summary "})}),Object(se.jsx)("div",{className:"row",children:Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-12",children:Object(se.jsxs)("div",{className:"card overflow-hidden",children:[Object(se.jsx)("div",{className:"social-graph-wrapper widget-facebook",children:Object(se.jsx)("span",{className:"s-icon",children:Object(se.jsxs)("span",{style:{fontSize:"16px"},children:["Total Clinic Visit :"," ",function(e){let t=0,r=["Prep Commencement","Prep Clinic"];return e.forEach((e=>{var a;null===e||void 0===e||null===(a=e.activities)||void 0===a||a.forEach((e=>{r.includes(null===e||void 0===e?void 0:e.name)&&t++}))})),t}(r)]})})}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-6 border-right",children:Object(se.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(se.jsx)("h4",{className:"m-1",children:Object(se.jsx)("span",{className:"counter",children:Object(se.jsx)("b",{children:null===n||void 0===n?void 0:n.encounterDate})})}),n&&Object(se.jsx)("p",{className:"m-0",children:Object(se.jsx)("b",{children:"Last Visit "})})]})}),Object(se.jsx)("div",{className:"col-6",children:Object(se.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(se.jsx)("h4",{className:"m-1",children:Object(se.jsx)("span",{className:"counter",children:Object(se.jsx)("b",{children:null===n||void 0===n?void 0:n.nextAppointment})})}),n&&Object(se.jsx)("p",{className:"m-0",children:Object(se.jsx)("b",{children:"Next Visit"})})]})})]})]})}),Object(se.jsx)("div",{className:"col-xl-12 col-lg-12 col-sm-12",children:Object(se.jsx)("div",{className:"widget-stat card",children:Object(se.jsxs)("div",{className:"card-body p-4",style:{backgroundColor:"#fff"},children:[Object(se.jsx)("h4",{className:"card-title",style:{fontSize:"15px"},children:Object(se.jsx)("b",{children:"Current Regimen Given"})}),Object(se.jsx)("h4",{className:"text-info ",children:n?null===n||void 0===n?void 0:n.regimen:"NIL"})]})})})]})}),Object(se.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:Object(se.jsx)("div",{className:"card-body",children:Object(se.jsxs)("div",{className:"card overflow-hidden",children:[Object(se.jsx)("div",{className:"social-graph-wrapper widget-linkedin",children:Object(se.jsx)("span",{className:"s-icon",children:Object(se.jsx)("span",{style:{fontSize:"16px"},children:Object(se.jsxs)(se.Fragment,{children:["BMI :"," ",n?((null===n||void 0===n?void 0:n.weight)/((null===n||void 0===n?void 0:n.height)/100*((null===n||void 0===n?void 0:n.height)/100))).toFixed(2):"NIL"," ",n&&Object(se.jsxs)(se.Fragment,{children:["kg/m",Object(se.jsx)("sup",{children:"2"}),Object(se.jsx)("span",{})]})]})})})}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-6 border-right",children:Object(se.jsx)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:n&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("h4",{className:"m-1",children:Object(se.jsxs)("span",{className:"counter",children:[n?n.weight:"0"," Kg"]})}),Object(se.jsx)("p",{className:"m-0",children:Object(se.jsx)("b",{children:"Weight "})})]})})}),Object(se.jsx)("div",{className:"col-6",children:Object(se.jsx)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:n&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("h4",{className:"m-1",children:Object(se.jsxs)("span",{className:"counter",children:[n?n.height:"0"," cm"]})}),Object(se.jsx)("p",{className:"m-0",children:Object(se.jsx)("b",{children:"Height "})})]})})})]})]})})})]})})]})})]}),Object(se.jsxs)(Ce.a,{show:b,toggle:g,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(se.jsx)(Ce.a.Header,{children:Object(se.jsx)(Ce.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(se.jsx)(Ce.a.Body,{children:Object(se.jsxs)("h4",{children:["Are you Sure you want to delete ",Object(se.jsx)("b",{children:u&&u.name})]})}),Object(se.jsxs)(Ce.a.Footer,{children:[Object(se.jsx)(De.a,{onClick:()=>{var e;"prep-eligibility"===(e=u).path?(d(!0),p.a.delete(`${O}prep-eligibility/${e.id}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{d(!1),c.b.success("Record Deleted Successfully"),y(),g()})).catch((e=>{if(d(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";c.b.error(t)}else c.b.error("Something went wrong. Please try again...")}))):"prep-clinic"===e.path?(d(!0),p.a.delete(`${O}prep-clinic/${e.id}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{d(!1),c.b.success("Record Deleted Successfully"),y(),g()})).catch((e=>{if(d(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";c.b.error(t)}else c.b.error("Something went wrong. Please try again...")}))):"prep-enrollment"===e.path?(d(!0),p.a.delete(`${O}prep-enrollment/${e.id}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{d(!1),c.b.success("Record Deleted Successfully"),y(),g()})).catch((e=>{if(d(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";c.b.error(t)}else c.b.error("Something went wrong. Please try again...")}))):"prep-commencement"===e.path?(d(!0),p.a.delete(`${O}prep-clinic/${e.id}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{d(!1),c.b.success("Record Deleted Successfully"),y(),g()})).catch((e=>{if(d(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";c.b.error(t)}else c.b.error("Something went wrong. Please try again...")}))):"prep-interruption"===e.path&&(d(!0),p.a.delete(`${O}prep-interruption/${e.id}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{d(!1),c.b.success("Record Deleted Successfully"),y(),g()})).catch((e=>{if(d(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";c.b.error(t)}else c.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:l,children:!1===l?"Yes":"Deleting..."}),Object(se.jsx)(De.a,{onClick:g,style:{backgroundColor:"#014d88",color:"#fff"},disabled:l,children:"No"})]})]})]})},Ie=r(1052),we=r(185);const Ae={Add:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(f.a,{...e,ref:t}))),Check:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(T.a,{...e,ref:t}))),Clear:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(w.a,{...e,ref:t}))),Delete:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(E.a,{...e,ref:t}))),DetailPanel:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(P.a,{...e,ref:t}))),Edit:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(k.a,{...e,ref:t}))),Export:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(V.a,{...e,ref:t}))),Filter:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(_.a,{...e,ref:t}))),FirstPage:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(F.a,{...e,ref:t}))),LastPage:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(H.a,{...e,ref:t}))),NextPage:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(P.a,{...e,ref:t}))),PreviousPage:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(C.a,{...e,ref:t}))),ResetSearch:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(w.a,{...e,ref:t}))),Search:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(U.a,{...e,ref:t}))),SortArrow:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(N.a,{...e,ref:t}))),ThirdStateCheck:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(M.a,{...e,ref:t}))),ViewColumn:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(K.a,{...e,ref:t})))};var Ee=e=>{const[t,r]=Object(a.useState)([]),[i,n]=Object(a.useState)(!0),[o,l]=Object(a.useState)(!1),[d,j]=s.a.useState(!1),[b,h]=Object(a.useState)(null),u=()=>j(!d);Object(a.useEffect)((()=>{g()}),[e.patientObj.id]);const g=()=>{n(!0),p.a.get(`${O}prep/general-activities/patients/${e.patientObj.personId}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{n(!1),r(e.data)})).catch((e=>{}))},v=(r,a)=>{"prep-eligibility"===r.path?e.setActiveContent({...e.activeContent,route:"prep-screening",id:r.id,actionType:a}):"prep-enrollment"===r.path?e.setActiveContent({...e.activeContent,route:"prep-registration",id:r.id,actionType:a}):"prep-clinic"===r.path?e.setActiveContent({...e.activeContent,route:"consultation",recentActivities:t,id:r.id,actionType:a}):"prep-commencement"===r.path?e.setActiveContent({...e.activeContent,route:"prep-commencement",id:r.id,actionType:a}):"prep-interruption"===r.path&&e.setActiveContent({...e.activeContent,route:"prep-interruptions",id:r.id,actionType:a})};return Object(se.jsxs)("div",{children:[Object(se.jsx)("br",{}),Object(se.jsx)(m.a,{icons:Ae,title:"Patient History ",columns:[{title:"Name",field:"name"},{title:"Encounter Date",field:"date"},{title:"Actions",field:"actions",filtering:!1}],isLoading:i,data:t&&t.map((e=>({name:e.name,date:e.date,actions:Object(se.jsx)("div",{children:Object(se.jsx)(fe.a.Menu,{position:"right",children:Object(se.jsx)(fe.a.Item,{children:Object(se.jsx)(De.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(se.jsx)(Ie.a,{item:!0,text:"Action",children:Object(se.jsxs)(Ie.a.Menu,{style:{marginTop:"10px"},children:[e.viewable&&Object(se.jsxs)(Ie.a.Item,{onClick:()=>v(e,"view"),children:[" ",Object(se.jsx)(we.a,{name:"eye"}),"View  "]}),e.editable&&Object(se.jsxs)(Ie.a.Item,{onClick:()=>v(e,"update"),children:[Object(se.jsx)(we.a,{name:"edit"}),"Edit"]}),Object(se.jsxs)(Ie.a.Item,{onClick:()=>(e=>{u(),h(e)})(e),children:[" ",Object(se.jsx)(we.a,{name:"trash"})," Delete"]})]})})})})})})}))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),Object(se.jsxs)(Ce.a,{show:d,toggle:u,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(se.jsx)(Ce.a.Header,{children:Object(se.jsx)(Ce.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(se.jsx)(Ce.a.Body,{children:Object(se.jsxs)("h4",{children:["Are you Sure you want to delete ",Object(se.jsx)("b",{children:b&&b.name})]})}),Object(se.jsxs)(Ce.a.Footer,{children:[Object(se.jsx)(De.a,{onClick:()=>{var e;"prep-eligibility"===(e=b).path?(l(!0),p.a.delete(`${O}prep-eligibility/${e.id}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{l(!1),c.b.success("Record Deleted Successfully"),g(),u()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";c.b.error(t)}else c.b.error("Something went wrong. Please try again...")}))):"prep-clinic"===e.path?(l(!0),p.a.delete(`${O}prep-clinic/${e.id}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{l(!1),c.b.success("Record Deleted Successfully"),g(),u()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";c.b.error(t)}else c.b.error("Something went wrong. Please try again...")}))):"prep-enrollment"===e.path?(l(!0),p.a.delete(`${O}prep-enrollment/${e.id}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{l(!1),c.b.success("Record Deleted Successfully"),g(),u()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";c.b.error(t)}else c.b.error("Something went wrong. Please try again...")}))):"prep-commencement"===e.path?(l(!0),p.a.delete(`${O}prep-clinic/${e.id}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{l(!1),c.b.success("Record Deleted Successfully"),g(),u()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";c.b.error(t)}else c.b.error("Something went wrong. Please try again...")}))):"prep-interruption"===e.path&&(l(!0),p.a.delete(`${O}prep-interruption/${e.id}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{l(!1),c.b.success("Record Deleted Successfully"),g(),u()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";c.b.error(t)}else c.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:o,children:!1===o?"Yes":"Deleting..."}),Object(se.jsx)(De.a,{onClick:u,style:{backgroundColor:"#014d88",color:"#fff"},disabled:o,children:"No"})]})]})]})},Be=r(1064),ke=r(1065),$e=r(1038),_e=r(1039),Le=r(1040),Fe=r(1042),Ye=r(1043),He=r(588),ze=r(53),Me=r.n(ze),We=r(667),Ve=r.n(We),qe=r(1070),Ue=r(1037),Ge=r(1041),Ke=r(665),Je=r.n(Ke),Xe=(r(785),r(1029)),Ze=r(958),Qe=(r(606),r(1061));r(786),r(789),r(790);const et=Object(He.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}))),tt=e=>{let{objValues:t,handleInputChange:r,disabledField:s,liverFunctionTestResult:i,isAutoPop:n}=e;const[o,c]=Object(a.useState)(null===t||void 0===t?void 0:t.liverFunctionTestResults),l=i.map((e=>({value:e.code,label:e.display})));return Object(a.useEffect)((()=>{c(t.liverFunctionTestResults)}),[t.liverFunctionTestResults]),Object(se.jsx)(Je.a,{options:l,selected:o,onChange:e=>{c(e),r({target:{name:"liverFunctionTestResults",value:e}})},disabled:n||s,canFilter:!0})};var rt=e=>{var t;const r=et(),[s,i]=Object(a.useState)(!1);e.patientDetail&&e.patientDetail.personResponseDto&&e.patientDetail.personResponseDto.id;console.log("patient ID OBS: ",e);const[n,o]=Object(a.useState)(!1),[l,d]=Object(a.useState)({}),[j,b]=Object(a.useState)([]),[h,u]=Object(a.useState)([]),[m,g]=Object(a.useState)([]),[v,f]=Object(a.useState)([]),[y,N]=Object(a.useState)([]);let S={...l};const[T,R]=Object(a.useState)({counselingType:"",drugUseHistory:{},extra:{},firstTimeVisit:!0,hivRisk:{},numChildrenLessThanFive:"",numWives:"",personId:"",personalHivRiskAssessment:{},sexPartner:"TARGET_GROUP_GEN_POP",sexPartnerRisk:{},stiScreening:{},targetGroup:"TARGET_GROUP_GEN_POP",uniqueId:"",visitDate:"",visitType:"",populationType:"",pregnancyStatus:"",lftConducted:"false",liverFunctionTestResults:[],dateLiverFunctionTestResults:"",score:0});Object(a.useEffect)((async()=>{D(),P(),await I(),w(),A(),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(C(e.activeContent.id),i("view"===e.activeContent.actionType))}),[e.patientObj]);const C=e=>{p.a.get(`${O}prep/eligibility/${e}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{R(e.data),k(e.data.personalHivRiskAssessment),F(e.data.sexPartnerRisk),M(e.data.stiScreening),U(e.data.drugUseHistory),X(e.data.assessmentForPepIndication),te(e.data.assessmentForAcuteHivInfection),ce(e.data.servicesReceivedByClient),ie(e.data.assessmentForPrepEligibility)})).catch((e=>{}))},D=()=>{p.a.get(`${O}application-codesets/v2/COUNSELING_TYPE`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{b(e.data)})).catch((e=>{}))},P=()=>{p.a.get(`${O}application-codesets/v2/PrEP_VISIT_TYPE`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{u(e.data)})).catch((e=>{}))},I=async()=>{p.a.get(`${O}application-codesets/v2/REASON_PREP_DECLINED`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{g(e.data)})).catch((e=>{}))},w=()=>{p.a.get(`${O}application-codesets/v2/POPULATION_TYPE`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{f(e.data)})).catch((e=>{}))},A=()=>{p.a.get(`${O}application-codesets/v2/PREGNANCY_STATUS`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{N(e.data)})).catch((e=>{}))},E=e=>{d({...S,[e.target.name]:""}),R({...T,[e.target.name]:e.target.value})},[B,k]=Object(a.useState)({unprotectedVaginalSexCasual:"",unprotectedVaginalSexRegular:"",uprotectedAnalSexWithCasual:"",uprotectedAnalSexWithRegular:"",stiHistory:"",sharedNeedles:"",moreThan1SexPartner:"",analSexWithPartner:"",unprotectedAnalSexWithPartner:"",haveYouPaidForSex:"",haveSexWithoutCondom:"",experienceCondomBreakage:"",takenPartInSexualOrgy:""}),$=e=>{k({...B,[e.target.name]:e.target.value})},_=Object.values(B).filter((e=>"true"===e)),[L,F]=Object(a.useState)({haveSexWithHIVPositive:"",haveSexWithPartnerInjectDrug:"",haveSexWithPartnerWhoHasSexWithMen:"",haveSexWithPartnerTransgender:"",sexWithPartnersWithoutCondoms:""}),Y=e=>{d({...S,[e.target.name]:""}),F({...L,[e.target.name]:e.target.value})},H=Object.values(L).filter((e=>"true"===e)),[z,M]=Object(a.useState)({vaginalDischarge:"",lowerAbdominalPains:"",urethralDischarge:"",complaintsOfScrotal:"",complaintsGenitalSore:"",analDischarge:"",analItching:"",analpain:"",swollenIguinal:"",genitalScore:""}),W=e=>{d({...l,[e.target.name]:""}),M({...z,[e.target.name]:e.target.value})},V=Object.values(z).filter((e=>"true"===e)),[q,U]=Object(a.useState)({useAnyOfTheseDrugs:"",inject:"",sniff:"",smoke:"",Snort:"",useDrugSexualPerformance:"",hivTestedBefore:"",recommendHivRetest:"",clinicalSetting:"",reportHivRisk:"",hivExposure:"",hivTestResultAtvisit:"",lastTest:""}),G=e=>{d({...S,[e.target.name]:""}),"true"===q.hivTestedBefore&&U({...q,lastTest:""}),U({...q,[e.target.name]:e.target.value})},[K,X]=Object(a.useState)({unprotectedSexWithHivPositiveOrUnknownStatusLast72Hours:"",sharedInjectionOrNeedleWithHivPositiveOrUnknownStatusLast72Hours:""}),Z=e=>{d({...S,[e.target.name]:""}),X({...K,[e.target.name]:e.target.value})},[Q,te]=Object(a.useState)({acuteHivSymptomsLasttwoWeeks:"",unprotectedAnalOrVaginalOrSharedNeedlesLast28Days:""}),re=e=>{d({...S,[e.target.name]:""}),te({...Q,[e.target.name]:e.target.value})},[ae,ie]=Object(a.useState)({hivNegative:"",hivRiskScore:"",noIndicationForPep:"",hasNoProteinuria:"",noHistoryOrSignsOfLiverAbnormalitiesCabLa:"",noHistoryOfDrugToDrugInteractionCabLa:"",noHistoryOfDrugHypersensitivityCabLa:""}),ne=e=>{d({...S,[e.target.name]:""}),ie({...ae,[e.target.name]:e.target.value})},[oe,ce]=Object(a.useState)({willingToCommencePrep:"",reasonsForDecline:[],otherReasonsForDecline:""}),le=(e,t)=>{d({...S,[e.target.name]:""}),"willingToCommencePrep"===e.target.name?ce({...oe,[e.target.name]:e.target.value,reasonsForDecline:[]}):ce({...oe,[e.target.name]:e.target.value})},[de,je]=Object(a.useState)(0),be=t=>{var r,a;(t.preventDefault(),S.visitDate=T.visitDate?"":"This field is required.",S.lftConducted=T.lftConducted?"":"This field is required",S.liverFunctionTestResults="true"===T.lftConducted&&0===T.liverFunctionTestResults.length?"LFT is required":"",S.sexPartner=T.sexPartner?"":"This field is required.",S.hivTestResultAtvisit=q.hivTestResultAtvisit?"":"This field is required.",d({...S}),Object.values(S).every((e=>""===e)))?(o(!0),T.drugUseHistory=q,T.personalHivRiskAssessment=B,T.sexPartnerRisk=L,T.stiScreening=z,T.personId=null===e||void 0===e||null===(r=e.patientObj)||void 0===r?void 0:r.personId,T.uniqueId=null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.uniqueId,T.assessmentForAcuteHivInfection=Q,T.assessmentForPepIndication=K,T.assessmentForPrepEligibility=ae,T.servicesReceivedByClient=oe,T.score=Oe(),e.activeContent&&"update"===e.activeContent.actionType?p.a.put(`${O}prep-eligibility/${e.activeContent.id}`,T,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{o(!1),e.patientObj.eligibilityCount=1,e.patientObj.hivresultAtVisit=q.hivTestResultAtvisit,e.PatientObject(),c.b.success("Prep Eligilibility save successful!",{position:c.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{if(o(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror?c.b.error(e.response.data.apierror.message,{position:c.b.POSITION.BOTTOM_CENTER}):c.b.error(t,{position:c.b.POSITION.BOTTOM_CENTER})}else c.b.error("Something went wrong, please try again...",{position:c.b.POSITION.BOTTOM_CENTER})})):p.a.post(`${O}prep/eligibility`,T,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{o(!1),e.patientObj.eligibilityCount=1,e.patientObj.hivresultAtVisit=q.hivTestResultAtvisit,c.b.success("Prep Eligilibility save successful!",{position:c.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{if(o(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror?c.b.error(e.response.data.apierror.message,{position:c.b.POSITION.BOTTOM_CENTER}):c.b.error(t,{position:c.b.POSITION.BOTTOM_CENTER})}else c.b.error("Something went wrong, please try again...",{position:c.b.POSITION.BOTTOM_CENTER})}))):(o(!1),c.b.error("All field are required ",{position:c.b.POSITION.BOTTOM_CENTER}))},he=()=>"female"===e.patientObj.gender.toLowerCase(),pe=()=>Number(e.patientObj.age)>=30,ue=()=>{if(null!==K&&void 0!==K)return Object.values(K).filter((e=>"true"===e)).length>0?0:1},me=()=>{if(null!==Q&&void 0!==Q)return Object.values(Q).filter((e=>"true"===e)).length>0?0:1},Oe=()=>{var e=0;return e+="Negative"===q.hivTestResultAtvisit?1:0,e+=_.length>0?1:0,e+=me(),e+=ue(),pe()&&!1===he()&&(e+="true"===(null===ae||void 0===ae?void 0:ae.hasNoProteinuria)?1:0),e+="true"===(null===ae||void 0===ae?void 0:ae.noHistoryOrSignsOfLiverAbnormalitiesCabLa)?1:0,e+="true"===(null===ae||void 0===ae?void 0:ae.noHistoryOfDrugToDrugInteractionCabLa)?1:0,e+="true"===(null===ae||void 0===ae?void 0:ae.noHistoryOfDrugHypersensitivityCabLa)?1:0,pe()&&!1===he()?e>=8?1:0:e>=7?1:0},[xe,ge]=Object(a.useState)([]);const[ve,fe]=Object(a.useState)([]);return Object(a.useEffect)((()=>{p.a.get(`${O}prep/activities/patients/${e.patientObj.personId}?full=true`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{ge(e.data)})).catch((e=>{})),p.a.get(`${O}application-codesets/v2/LIVER_FUNCTION_TEST_RESULT`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{fe(e.data)})).catch((e=>{}))}),[]),Object(a.useEffect)((()=>console.log("objValues: ",T))),Object(a.useEffect)((()=>console.log("temp: ",S))),Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(Xe.a,{className:r.root,children:Object(se.jsxs)(Ue.a,{children:[Object(se.jsx)("h2",{children:"PrEP Eligibilty Screening Form"}),Object(se.jsx)("form",{children:Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(se.jsxs)($e.a,{className:"p-2",children:[Object(se.jsxs)(_e.a,{children:["Visit Date ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)("input",{type:"date",onKeyDown:e=>e.preventDefault(),className:"form-control",name:"visitDate",id:"visitDate",value:T.visitDate,onChange:E,min:e.patientDetail&&null!==e.patientDetail.dateHivPositive?e.patientDetail.dateHivPositive:e.patientObj.dateOfRegistration,max:ee(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s}),""!==l.visitDate?Object(se.jsx)("span",{className:r.error,children:l.visitDate}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(se.jsxs)($e.a,{className:"p-2",children:[Object(se.jsxs)(_e.a,{children:["Visit type ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)("select",{className:"form-control",name:"visitType",id:"visitType",value:T.visitType,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),h.map((e=>Object(se.jsxs)("option",{value:e.code,children:[" ",e.display," "]})))]}),""!==l.visitType?Object(se.jsx)("span",{className:r.error,children:l.visitType}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(se.jsxs)($e.a,{className:"p-2",children:[Object(se.jsxs)(_e.a,{children:["Population type ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)("select",{className:"form-control",name:"populationType",id:"populationType",value:T.populationType,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),v.map((e=>Object(se.jsxs)("option",{value:e.code,children:[" ",e.display," "]}))),!(null!==v&&void 0!==v&&v.find((e=>"GenPop"===e.display)))&&Object(se.jsx)("option",{value:"POPULATION_TYPE_GEN_POP",children:"GenPop"})]}),""!==l.populationType?Object(se.jsx)("span",{className:r.error,children:l.populationType}):""]})}),he()&&Object(se.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(se.jsxs)($e.a,{className:"p-2",children:[Object(se.jsxs)(_e.a,{children:["Pregnancy Status ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)("select",{className:"form-control",name:"pregnancyStatus",id:"pregnancyStatus",value:T.pregnancyStatus,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),y.map((e=>Object(se.jsxs)("option",{value:e.code,children:[" ",e.display," "]})))]}),""!==l.pregnancyStatus?Object(se.jsx)("span",{className:r.error,children:l.pregnancyStatus}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(se.jsxs)($e.a,{className:"p-2",children:[Object(se.jsxs)(_e.a,{children:["Sex partners ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)("select",{className:"form-control",name:"sexPartner",id:"sexPartner",value:T.sexPartner,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"Male",children:"Male"}),Object(se.jsx)("option",{value:"Female",children:"Female"}),Object(se.jsx)("option",{value:"Both",children:"Both"})]}),""!==l.sexPartner?Object(se.jsx)("span",{className:r.error,children:l.sexPartner}):""]})}),"Male"===e.patientObj.gender||"male"===e.patientObj.gender&&Object(se.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(se.jsxs)($e.a,{className:"p-2",children:[Object(se.jsx)(_e.a,{children:"Number of wives "}),Object(se.jsx)("input",{className:"form-control",name:"numWives",id:"numWives",value:T.numWives,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s}),""!==l.numWives?Object(se.jsx)("span",{className:r.error,children:l.numWives}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(se.jsxs)($e.a,{className:"p-2",children:[Object(se.jsxs)(_e.a,{children:["Type of counseling ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)("select",{className:"form-control",name:"counselingType",id:"counselingType",value:T.counselingType,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),j.map((e=>Object(se.jsxs)("option",{value:e.id,children:[" ",e.display," "]})))]}),""!==l.counselingType?Object(se.jsx)("span",{className:r.error,children:l.counselingType}):""]})}),Object(se.jsxs)("div",{className:"form-group mb-3 col-md-4",children:[Object(se.jsxs)($e.a,{children:[Object(se.jsx)(Ze.a,{children:"Liver Function Test conducted"}),Object(se.jsx)("span",{style:{color:"red"},children:" *"}),Object(se.jsxs)(Le.a,{type:"select",name:"lftConducted",id:"lftConducted",value:T.lftConducted,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:!0,children:"Yes"}),Object(se.jsx)("option",{value:!1,children:"No"})]})]}),""!==l.lftConducted?Object(se.jsx)("span",{className:r.error,children:l.lftConducted}):""]}),"true"===T.lftConducted&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-8",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"liverFunctionTestResults",children:["Liver Function Tests Result",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(tt,{objValues:T,handleInputChange:e=>{const{name:t,value:r}=e.target;R((e=>({...e,[t]:r})))},liverFunctionTestResult:ve,disabledField:s}),""!==l.liverFunctionTestResults?Object(se.jsx)("span",{className:r.error,children:l.liverFunctionTestResults}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-8",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"dateLiverFunctionTestResults",children:["Date of Liver Function Tests Result"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(Le.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateLiverFunctionTestResults",id:"dateLiverFunctionTestResults",max:ee(new Date).format("YYYY-MM-DD"),value:T.dateLiverFunctionTestResults,onChange:E,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s}),""!==l.dateLiverFunctionTestResults?Object(se.jsx)("span",{className:r.error,children:l.dateLiverFunctionTestResults}):""]})})]}),Object(se.jsx)("div",{className:"form-group my-4 col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment (Last 3 months)"}),Object(se.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(se.jsxs)($e.a,{className:"p-2",children:[Object(se.jsx)(_e.a,{children:"Unprotected Vaginal sex with casual partner"}),Object(se.jsxs)("select",{className:"form-control",name:"unprotectedVaginalSexCasual",id:"unprotectedVaginalSexCasual",value:B.unprotectedVaginalSexCasual,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.unprotectedVaginalSexCasual?Object(se.jsx)("span",{className:r.error,children:l.unprotectedVaginalSexCasual}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(se.jsxs)($e.a,{className:"p-2",children:[Object(se.jsx)(_e.a,{children:"Unprotected Vaginal sex with regular partner "}),Object(se.jsxs)("select",{className:"form-control",name:"unprotectedVaginalSexRegular",id:"unprotectedVaginalSexRegular",value:B.unprotectedVaginalSexRegular,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.unprotectedVaginalSexRegular?Object(se.jsx)("span",{className:r.error,children:l.unprotectedVaginalSexRegular}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Unprotected Anal sex with regular partner"}),Object(se.jsxs)("select",{className:"form-control",name:"uprotectedAnalSexWithRegular",id:"uprotectedAnalSexWithRegular",value:B.uprotectedAnalSexWithRegular,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.uprotectedAnalSexWithRegular?Object(se.jsx)("span",{className:r.error,children:l.uprotectedAnalSexWithRegular}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"History of STI"}),Object(se.jsxs)("select",{className:"form-control",name:"stiHistory",id:"stiHistory",value:B.stiHistory,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.stiHistory?Object(se.jsx)("span",{className:r.error,children:l.stiHistory}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Shared needles/injecting materials"}),Object(se.jsxs)("select",{className:"form-control",name:"sharedNeedles",id:"sharedNeedles",value:B.sharedNeedles,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.sharedNeedles?Object(se.jsx)("span",{className:r.error,children:l.sharedNeedles}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"More than 1 sex partner"}),Object(se.jsxs)("select",{className:"form-control",name:"moreThan1SexPartner",id:"moreThan1SexPartner",value:B.moreThan1SexPartner,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.moreThan1SexPartner?Object(se.jsx)("span",{className:r.error,children:l.moreThan1SexPartner}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Anal sex with Male/Female partner"}),Object(se.jsxs)("select",{className:"form-control",name:"analSexWithPartner",id:"analSexWithPartner",value:B.analSexWithPartner,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.analSexWithPartner?Object(se.jsx)("span",{className:r.error,children:l.analSexWithPartner}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Unprotected Anal sex with male/female partner"}),Object(se.jsxs)("select",{className:"form-control",name:"unprotectedAnalSexWithPartner",id:"unprotectedAnalSexWithPartner",value:B.unprotectedAnalSexWithPartner,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.unprotectedAnalSexWithPartner?Object(se.jsx)("span",{className:r.error,children:l.unprotectedAnalSexWithPartner}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Have you paid for sex in the last 6 months?"}),Object(se.jsxs)("select",{className:"form-control",name:"haveYouPaidForSex",id:"haveYouPaidForSex",value:B.haveYouPaidForSex,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveYouPaidForSex?Object(se.jsx)("span",{className:r.error,children:l.haveYouPaidForSex}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Have you been paid for sex in the last 6 months?"}),Object(se.jsxs)("select",{className:"form-control",name:"moreThanOneSexPartnerLastThreeMonths",id:"moreThanOneSexPartnerLastThreeMonths",value:B.moreThanOneSexPartnerLastThreeMonths,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.moreThanOneSexPartnerLastThreeMonths?Object(se.jsx)("span",{className:r.error,children:l.moreThanOneSexPartnerLastThreeMonths}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Have you experienced condom breakage?"}),Object(se.jsxs)("select",{className:"form-control",name:"experienceCondomBreakage",id:"experienceCondomBreakage",value:B.experienceCondomBreakage,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.experienceCondomBreakage?Object(se.jsx)("span",{className:r.error,children:l.experienceCondomBreakage}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Have you taken part in sexual orgy?"}),Object(se.jsxs)("select",{className:"form-control",name:"takenPartInSexualOrgy",id:"takenPartInSexualOrgy",value:B.takenPartInSexualOrgy,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.takenPartInSexualOrgy?Object(se.jsx)("span",{className:r.error,children:l.takenPartInSexualOrgy}):""]})}),Object(se.jsxs)(Qe.a,{warning:!0,children:[Object(se.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(se.jsxs)("b",{children:["Score : ",_.length]})]}),Object(se.jsx)("hr",{}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Sex Partner Risk Assessment (Last 3 months)"}),Object(se.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Have you had sex with a partner who is HIV positive?"}),Object(se.jsxs)("select",{className:"form-control",name:"haveSexWithHIVPositive",id:"haveSexWithHIVPositive",value:L.haveSexWithHIVPositive,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveSexWithHIVPositive?Object(se.jsx)("span",{className:r.error,children:l.haveSexWithHIVPositive}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Have you had sex with a partner who injects drugs?"}),Object(se.jsxs)("select",{className:"form-control",name:"haveSexWithPartnerInjectDrug",id:"haveSexWithPartnerInjectDrug",value:L.haveSexWithPartnerInjectDrug,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveSexWithPartnerInjectDrug?Object(se.jsx)("span",{className:r.error,children:l.haveSexWithPartnerInjectDrug}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Have you had sex with a partner who has sex with men?"}),Object(se.jsxs)("select",{className:"form-control",name:"haveSexWithPartnerWhoHasSexWithMen",id:"haveSexWithPartnerWhoHasSexWithMen",value:L.haveSexWithPartnerWhoHasSexWithMen,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveSexWithPartnerWhoHasSexWithMen?Object(se.jsx)("span",{className:r.error,children:l.haveSexWithPartnerWhoHasSexWithMen}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-6 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Have you had sex with a partner who is a transgender person?"}),Object(se.jsxs)("select",{className:"form-control",name:"haveSexWithPartnerTransgender",id:"haveSexWithPartnerTransgender",value:L.haveSexWithPartnerTransgender,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveSexWithPartnerTransgender?Object(se.jsx)("span",{className:r.error,children:l.haveSexWithPartnerTransgender}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-6 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Have you had sex with a partner who has sex with multiple partners without condoms?"}),Object(se.jsxs)("select",{className:"form-control",name:"sexWithPartnersWithoutCondoms",id:"sexWithPartnersWithoutCondoms",value:L.sexWithPartnersWithoutCondoms,onChange:Y,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.sexWithPartnersWithoutCondoms?Object(se.jsx)("span",{className:r.error,children:l.sexWithPartnersWithoutCondoms}):""]})}),Object(se.jsxs)(Qe.a,{warning:!0,children:[Object(se.jsx)("h4",{children:"Sex Partner Risk Assessment score (sum of all 6 answers)"}),Object(se.jsxs)("b",{children:["Score: ",H.length]})]}),Object(se.jsx)("hr",{}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"form-group col-md-12 text-center p-2 mb-4",style:{backgroundColor:"#014D88",width:"125%",color:"#fff",fontWeight:"bold"},children:"Assessment for PEP Indication"}),Object(se.jsx)("div",{className:"form-group col-md-6 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"In the past 72 hours, have you had sex without a condom with someone whose HIV status is positive or not known to you?"}),Object(se.jsxs)("select",{className:"form-control",name:"unprotectedSexWithHivPositiveOrUnknownStatusLast72Hours",id:"unprotectedSexWithHivPositiveOrUnknownStatusLast72Hours",value:null===K||void 0===K?void 0:K.unprotectedSexWithHivPositiveOrUnknownStatusLast72Hours,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.unprotectedSexWithHivPositiveOrUnknownStatusLast72Hours?Object(se.jsx)("span",{className:r.error,children:l.unprotectedSexWithHivPositiveOrUnknownStatusLast72Hours}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-6 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Have you shared injection equipment like needles with someone whose HIV status is positive or unknown to you?"}),Object(se.jsxs)("select",{className:"form-control",name:"sharedInjectionOrNeedleWithHivPositiveOrUnknownStatusLast72Hours",id:"sharedInjectionOrNeedleWithHivPositiveOrUnknownStatusLast72Hours",value:null===K||void 0===K?void 0:K.sharedInjectionOrNeedleWithHivPositiveOrUnknownStatusLast72Hours,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.sharedInjectionOrNeedleWithHivPositiveOrUnknownStatusLast72Hours?Object(se.jsx)("span",{className:r.error,children:l.sharedInjectionOrNeedleWithHivPositiveOrUnknownStatusLast72Hours}):""]})}),Object(se.jsx)("hr",{}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Assessment for Acute HIV Infection"}),Object(se.jsx)("div",{className:"form-group  col-md-6 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"In the past 2 weeks: Have you had a cold or flu such as fever, sore throat, abnormal sweats, swollen lymph nodes, mouth sores, headache or rash?"}),Object(se.jsxs)("select",{className:"form-control",name:"acuteHivSymptomsLasttwoWeeks",id:"acuteHivSymptomsLasttwoWeeks",value:null===Q||void 0===Q?void 0:Q.acuteHivSymptomsLasttwoWeeks,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.acuteHivSymptomsLasttwoWeeks?Object(se.jsx)("span",{className:r.error,children:l.acuteHivSymptomsLasttwoWeeks}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-6 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Have you had condomless anal or vaginal sex or shared injection materials and/or equipment in the past 28 days?"}),Object(se.jsxs)("select",{className:"form-control",name:"unprotectedAnalOrVaginalOrSharedNeedlesLast28Days",id:"unprotectedAnalOrVaginalOrSharedNeedlesLast28Days",value:null===Q||void 0===Q?void 0:Q.unprotectedAnalOrVaginalOrSharedNeedlesLast28Days,onChange:re,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.unprotectedAnalOrVaginalOrSharedNeedlesLast28Days?Object(se.jsx)("span",{className:r.error,children:l.unprotectedAnalOrVaginalOrSharedNeedlesLast28Days}):""]})}),Object(se.jsx)("hr",{}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#000",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Drug Use History"}),Object(se.jsx)("hr",{}),Object(se.jsx)("h3",{children:"Route of Administration"}),Object(se.jsx)("h4",{children:"Do you use any of these drugs/substances ?"}),Object(se.jsx)("br",{}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group col-md-6 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Inject"}),Object(se.jsxs)("select",{className:"form-control",name:"inject",id:"inject",value:q.inject,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.inject?Object(se.jsx)("span",{className:r.error,children:l.inject}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-6 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Sniff"}),Object(se.jsxs)("select",{className:"form-control",name:"sniff",id:"sniff",value:q.sniff,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.sniff?Object(se.jsx)("span",{className:r.error,children:l.sniff}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-6 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Snort"}),Object(se.jsxs)("select",{className:"form-control",name:"Snort",id:"Snort",value:q.fever,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.Snort?Object(se.jsx)("span",{className:r.error,children:l.Snort}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-6 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Smoke"}),Object(se.jsxs)("select",{className:"form-control",name:"smoke",id:"smoke",value:q.smoke,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.smoke?Object(se.jsx)("span",{className:r.error,children:l.smoke}):""]})})]}),Object(se.jsx)("hr",{}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Have you used drugs to enhance sexual performance ?"}),Object(se.jsxs)("select",{className:"form-control",name:"useDrugSexualPerformance",id:"useDrugSexualPerformance",value:q.useDrugSexualPerformance,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.useDrugSexualPerformance?Object(se.jsx)("span",{className:r.error,children:l.useDrugSexualPerformance}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Have you had HIV testing before ?"}),Object(se.jsxs)("select",{className:"form-control",name:"hivTestedBefore",id:"hivTestedBefore",value:q.hivTestedBefore,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.hivTestedBefore?Object(se.jsx)("span",{className:r.error,children:l.hivTestedBefore}):""]})}),"true"===q.hivTestedBefore&&Object(se.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"When was your last test?"}),Object(se.jsxs)("select",{className:"form-control",name:"lastTest",id:"lastTest",value:q.lastTest,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsxs)("option",{value:"1 Month",children:["<","1 Month"]}),Object(se.jsx)("option",{value:"1-3 Months",children:"1-3 Months"}),Object(se.jsx)("option",{value:"4-6Months",children:"4-6 Months"}),Object(se.jsxs)("option",{value:"6Months",children:[">","6 months"]})]}),""!==l.lastTest?Object(se.jsx)("span",{className:r.error,children:l.lastTest}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{children:["HIV test result at visit"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)("select",{className:"form-control",name:"hivTestResultAtvisit",id:"hivTestResultAtvisit",value:q.hivTestResultAtvisit,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"Positive",children:"Positive"}),Object(se.jsx)("option",{value:"Negative",children:"Negative"})]}),""!==l.hivTestResultAtvisit?Object(se.jsx)("span",{className:r.error,children:l.hivTestResultAtvisit}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Recommended for HIV Retest ?"}),Object(se.jsxs)("select",{className:"form-control",name:"recommendHivRetest",id:"recommendHivRetest",value:q.recommendHivRetest,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.recommendHivRetest?Object(se.jsx)("span",{className:r.error,children:l.recommendHivRetest}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Tested in certain Clinical settings, such as STI clinics?"}),Object(se.jsxs)("select",{className:"form-control",name:"clinicalSetting",id:"clinicalSetting",value:q.clinicalSetting,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.clinicalSetting?Object(se.jsx)("span",{className:r.error,children:l.clinicalSetting}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Report ongoing HIV risk behaviors?"}),Object(se.jsxs)("select",{className:"form-control",name:"reportHivRisk",id:"reportHivRisk",value:q.reportHivRisk,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.reportHivRisk?Object(se.jsx)("span",{className:r.error,children:l.reportHivRisk}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Report a specific HIV exposure within the last 3 months"}),Object(se.jsxs)("select",{className:"form-control",name:"hivExposure",id:"hivExposure",value:q.hivExposure,onChange:G,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.hivExposure?Object(se.jsx)("span",{className:r.error,children:l.hivExposure}):""]})})]}),Object(se.jsx)("hr",{}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#014D88",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Syndromic STI Screening"}),e.patientDetail&&"Female"===e.patientDetail.personResponseDto.sex&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Complaints of vaginal discharge or burning when urinating?"}),Object(se.jsxs)("select",{className:"form-control",name:"vaginalDischarge",id:"vaginalDischarge",value:z.vaginalDischarge,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.vaginalDischarge?Object(se.jsx)("span",{className:r.error,children:l.vaginalDischarge}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Complaints of lower abdominal pains with or without vaginal discharge?"}),Object(se.jsxs)("select",{className:"form-control",name:"lowerAbdominalPains",id:"lowerAbdominalPains",value:z.lowerAbdominalPains,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.lowerAbdominalPains?Object(se.jsx)("span",{className:r.error,children:l.lowerAbdominalPains}):""]})})]}),e.patientObj.personResponseDto&&"Male"===e.patientDetail.personResponseDto.sex&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Complaints of urethral discharge or burning when urinating?"}),Object(se.jsxs)("select",{className:"form-control",name:"urethralDischarge",id:"urethralDischarge",value:z.urethralDischarge,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.urethralDischarge?Object(se.jsx)("span",{className:r.error,children:l.urethralDischarge}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Complaints of scrotal swelling and pain"}),Object(se.jsxs)("select",{className:"form-control",name:"complaintsOfScrotal",id:"complaintsOfScrotal",value:z.complaintsOfScrotal,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.complaintsOfScrotal?Object(se.jsx)("span",{className:r.error,children:l.complaintsOfScrotal}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Complaints of genital sore(s) or swollen inguinal lymph nodes with or without pains?"}),Object(se.jsxs)("select",{className:"form-control",name:"complaintsGenitalSore",id:"complaintsGenitalSore",value:z.complaintsGenitalSore,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.complaintsGenitalSore?Object(se.jsx)("span",{className:r.error,children:l.complaintsGenitalSore}):""]})})]}),Object(se.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Genital sore +/-pains?"}),Object(se.jsxs)("select",{className:"form-control",name:"genitalScore",id:"genitalScore",value:z.genitalScore,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.genitalScore?Object(se.jsx)("span",{className:r.error,children:l.genitalScore}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Swollen iguinal lymph node +/-pains?"}),Object(se.jsxs)("select",{className:"form-control",name:"swollenIguinal",id:"swollenIguinal",value:z.swollenIguinal,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.swollenIguinal?Object(se.jsx)("span",{className:r.error,children:l.swollenIguinal}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Anal pain on stooling?"}),Object(se.jsxs)("select",{className:"form-control",name:"analpain",id:"analpain",value:z.analpain,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.analpain?Object(se.jsx)("span",{className:r.error,children:l.analpain}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Anal itching?"}),Object(se.jsxs)("select",{className:"form-control",name:"analItching",id:"analItching",value:z.analItching,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.analItching?Object(se.jsx)("span",{className:r.error,children:l.analItching}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-6 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Anal discharge?"}),Object(se.jsxs)("select",{className:"form-control",name:"analDischarge",id:"analDischarge",value:z.analDischarge,onChange:W,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.analDischarge?Object(se.jsx)("span",{className:r.error,children:l.analDischarge}):""]})}),Object(se.jsxs)(Qe.a,{warning:!0,children:[Object(se.jsxs)("h4",{children:["Calculate the sum of the STI screening. If ",">= ","1, should be referred for STI test"," "]}),Object(se.jsxs)("b",{children:["Score :",V.length]})]}),Object(se.jsx)("hr",{}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4 p-3",style:{backgroundColor:"#014D88",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Assessment for PrEP Eligibilty"}),Object(se.jsxs)("div",{className:"col-md-6 p-3",children:[Object(se.jsxs)("div",{className:"d-flex",children:[Object(se.jsx)("div",{style:{flex:1},children:Object(se.jsx)($e.a,{children:Object(se.jsxs)(_e.a,{children:["HIV Negative:"," ",Object(se.jsx)("span",{className:"badge badge-info",children:""+("Negative"===q.hivTestResultAtvisit?1:0)})," "]})})}),Object(se.jsx)("div",{style:{flex:1},children:Object(se.jsxs)(_e.a,{children:["HIV Risk Score > 1:"," ",Object(se.jsx)("span",{className:"badge badge-info",children:""+(_.length>0?1:0)})]})})]}),Object(se.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Has no proteinuria (>=30 Years)"}),Object(se.jsxs)("select",{className:"form-control",name:"hasNoProteinuria",id:"hasNoProteinuria",value:null===ae||void 0===ae?void 0:ae.hasNoProteinuria,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.hasNoProteinuria?Object(se.jsx)("span",{className:r.error,children:l.hasNoProteinuria}):""]})})]}),Object(se.jsx)("div",{className:"form-group  col-md-6 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"No history/signs & symptoms of Liver abnormalities (CAB-LA)"}),Object(se.jsxs)("select",{className:"form-control",name:"noHistoryOrSignsOfLiverAbnormalitiesCabLa",id:"noHistoryOrSignsOfLiverAbnormalitiesCabLa",value:null===ae||void 0===ae?void 0:ae.noHistoryOrSignsOfLiverAbnormalitiesCabLa,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.noHistoryOrSignsOfLiverAbnormalitiesCabLa?Object(se.jsx)("span",{className:r.error,children:l.noHistoryOrSignsOfLiverAbnormalitiesCabLa}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"No history of PrEP drug interaction (CAB-LA)"}),Object(se.jsxs)("select",{className:"form-control",name:"noHistoryOfDrugToDrugInteractionCabLa",id:"noHistoryOfDrugToDrugInteractionCabLa",value:null===ae||void 0===ae?void 0:ae.noHistoryOfDrugToDrugInteractionCabLa,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.noHistoryOfDrugToDrugInteractionCabLa?Object(se.jsx)("span",{className:r.error,children:l.noHistoryOfDrugToDrugInteractionCabLa}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-8 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"No history of drug hypersensitivity (CAB-LA)"}),Object(se.jsxs)("select",{className:"form-control",name:"noHistoryOfDrugHypersensitivityCabLa",id:"noHistoryOfDrugHypersensitivityCabLa",value:null===ae||void 0===ae?void 0:ae.noHistoryOfDrugHypersensitivityCabLa,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.noHistoryOfDrugHypersensitivityCabLa?Object(se.jsx)("span",{className:r.error,children:l.noHistoryOfDrugHypersensitivityCabLa}):""]})}),Object(se.jsxs)(Qe.a,{warning:!0,children:[Object(se.jsxs)("h4",{children:["Calculate the sum of PrEP Eligibility. If ",">= ","1 client is Eligible for PrEP. (Score: Count Yes=1, No=0)."]}),Object(se.jsx)("h5",{children:"HIV Negative: "+("Negative"===q.hivTestResultAtvisit?1:0)}),Object(se.jsx)("h5",{children:"HIV risk score >=1 : "+(_.length>0?1:0)}),Object(se.jsx)("h5",{children:`No signs & symptoms of acute HIV infection: ${me()}`}),Object(se.jsx)("h5",{children:`No Indication for PEP: ${ue()}`}),pe()&&!1===he()&&Object(se.jsx)("h5",{children:"Has no proteinuria: "+("true"===(null===ae||void 0===ae?void 0:ae.hasNoProteinuria)?1:0)})]}),Object(se.jsxs)(Qe.a,{warning:!0,children:[Object(se.jsxs)("h4",{children:["Calculate the sum of PrEP Eligibility for CAB-LA regimen. If the following below =1 client is Eligible for CAB-LA."," ","(Score: Count Yes=1, No=0)"]}),Object(se.jsx)("h5",{children:"No history / signs & symptoms of Liver abnormalities (CAB-LA): "+("true"===(null===ae||void 0===ae?void 0:ae.noHistoryOrSignsOfLiverAbnormalitiesCabLa)?1:0)}),Object(se.jsx)("h5",{children:"No history of PrEP drug interaction (CAB-LA): "+("true"===(null===ae||void 0===ae?void 0:ae.noHistoryOfDrugToDrugInteractionCabLa)?1:0)}),Object(se.jsx)("h5",{children:"No history of drug hypersensitivity (CAB-LA): "+("true"===(null===ae||void 0===ae?void 0:ae.noHistoryOfDrugHypersensitivityCabLa)?1:0)})]}),Object(se.jsx)("hr",{}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"form-group  col-md-12 text-center mb-4 p-2",style:{backgroundColor:"#014D88",width:"125%",color:"#fff",fontWeight:"bold"},children:"Services Received by Client"}),Object(se.jsx)("div",{className:"form-group  col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Willing to commence PrEP"}),Object(se.jsxs)("select",{className:"form-control",name:"willingToCommencePrep",id:"willingToCommencePrep",value:null===oe||void 0===oe?void 0:oe.willingToCommencePrep,onChange:le,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]}),""!==l.willingToCommencePrep?Object(se.jsx)("span",{className:r.error,children:l.willingToCommencePrep}):""]})}),"false"===(null===oe||void 0===oe?void 0:oe.willingToCommencePrep)&&Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Reasons for Declining PrEP"}),Object(se.jsx)(Ie.a,{value:null===oe||void 0===oe?void 0:oe.reasonsForDecline,placeholder:"select reasons for decline",onChange:(e,t)=>{ce({...oe,reasonsForDecline:t.value})},fluid:!0,multiple:!0,selection:!0,options:m.map((e=>({key:e.code,text:e.display,value:e.code})))}),""!==l.reasonsForDecline?Object(se.jsx)("span",{className:r.error,children:l.reasonsForDecline}):""]})}),void 0!==(null===oe||void 0===oe||null===(t=oe.reasonsForDecline)||void 0===t?void 0:t.find((e=>"REASON_PREP_DECLINED_OTHERS_(SPECIFY)"===e)))&&Object(se.jsx)("div",{className:"form-group  col-md-12 p-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Other Reasons for Declining PrEP (Specify)"}),Object(se.jsx)(Le.a,{className:"form-control",name:"otherReasonsForDecline",id:"otherReasonsForDecline",value:null===oe||void 0===oe?void 0:oe.otherReasonsForDecline,onChange:le,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s}),""!==l.reasonsForDecline?Object(se.jsx)("span",{className:r.error,children:l.reasonsForDecline}):""]})}),n?Object(se.jsx)(Ge.a,{}):"",Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"row",children:Object(se.jsx)("div",{className:"form-group mb-3 col-md-12 p-3",children:e.activeContent&&"update"===e.activeContent.actionType?Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(J.a,{type:"submit",variant:"contained",color:"primary",hidden:s,className:r.button,startIcon:Object(se.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:be,disabled:n,children:n?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(J.a,{type:"submit",variant:"contained",color:"primary",className:r.button,startIcon:Object(se.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:be,disabled:n,children:n?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})})]})})]})})})};const at=Object(He.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var st=e=>{var t,r;const[s,i]=Object(a.useState)({}),[n,o]=Object(a.useState)(!1),[l,d]=Object(a.useState)();let j={...s};const b=at(),[h,u]=Object(a.useState)(!1),[m,g]=Object(a.useState)([]),[v,f]=Object(a.useState)([]),[y,N]=Object(a.useState)([]),[S,T]=Object(a.useState)([]),[R,C]=Object(a.useState)([]),[D,P]=Object(a.useState)([]),[I,w]=Object(a.useState)([]),[A,E]=Object(a.useState)([]),[B,k]=Object(a.useState)([]),[$,_]=Object(a.useState)([]),[L,F]=Object(a.useState)([]),[Y,H]=Object(a.useState)([]),[z,M]=Object(a.useState)([]),[W,V]=Object(a.useState)([]),[q,U]=Object(a.useState)([]),[G,K]=Object(a.useState)([]),[X,Z]=Object(a.useState)([]),[ee,re]=Object(a.useState)([]),[ae,ie]=Object(a.useState)(""),[ne,oe]=Object(a.useState)(null);let ce=[];const[le,de]=Object(a.useState)(""),[je,be]=Object(a.useState)(""),[pe,ue]=Object(a.useState)({weight:"",diastolic:"",height:"",systolic:"",pulse:"",temperature:"",respiratoryRate:""}),[me,Oe]=Object(a.useState)({adherenceLevel:"",dateInitialAdherenceCounseling:"",datePrepGiven:"",datePrepStart:"",dateReferre:"",diastolic:"",encounterDate:"",extra:{},height:"",hepatitis:{},nextAppointment:"",notedSideEffects:"",wasPrepAdministered:"false",otherTestsDone:[],personId:e.patientObj.personId,pregnant:"",prepEnrollmentUuid:"",pulse:"",referred:"",regimenId:"",otherRegimenId:"",otherPrepgiven:"false",respiratoryRate:"",riskReductionServices:"",healthCareWorkerSignature:"",stiScreening:"",syndromicStiScreening:null,syphilis:{},systolic:"",temperature:"",urinalysis:{},urinalysisResult:"",weight:"",why:"",otherDrugs:"",duration:"",prepGiven:"",hivTestResult:"",hivTestResultDate:"",prepType:"",otherPrepType:"",populationType:"",prepDistributionSetting:"",familyPlanning:"",dateOfFamilyPlanning:"",monthsOfRefill:"",visitType:"",reasonForSwitch:"",dateLiverFunctionTestResults:"",liverFunctionTestResults:[]}),[xe,ge]=Object(a.useState)({urinalysisTest:"Yes",testDate:"",result:""}),[ve,fe]=Object(a.useState)({prepType:"Yes",prepRegimen:"",datePrepgiven:""}),[ye,Ne]=Object(a.useState)({syphilisTest:"Yes",testDate:"",result:"",others:""}),[Se,Te]=Object(a.useState)({hepatitisTest:"Yes",testDate:"",result:""}),[Re,Ce]=Object(a.useState)([{localId:0,otherTest:"Yes",testDate:"",result:"",name:"",otherTestName:""}]);Object(a.useEffect)((async()=>{me.urinalysis.testDate&&me.urinalysis.result&&me.urinalysis.urinalysisTest&&ge({...xe,testDate:me.urinalysis.testDate,result:me.urinalysis.result,urinalysisTest:me.urinalysis.urinalysisTest}),me.otherPrepgiven.prepType&&me.otherPrepgiven.prepRegimen&&me.otherPrepgiven.datePrepgiven&&fe({...ve,prepType:me.otherPrepgiven.prepType,prepRegimen:me.otherPrepgiven.prepRegimen,datePrepgiven:me.otherPrepgiven.datePrepgiven}),me.syphilis.testDate&&me.syphilis.result&&me.syphilis.syphilisTest&&Ne({...ye,testDate:me.syphilis.testDate,result:me.syphilis.result,syphilisTest:me.syphilis.syphilisTest,others:me.syphilis.others}),me.hepatitis.testDate&&me.hepatitis.result&&me.hepatitis.hepatitisTest&&Te({...Se,testDate:me.hepatitis.testDate,result:me.hepatitis.result,hepatitisTest:me.hepatitis.hepatitisTest})}),[me]),Object(a.useEffect)((()=>{console.log("objectVals: ",me.wasPrepAdministered)})),Object(a.useEffect)((()=>{!async function(){p.a.get(`${O}application-codesets/v2/PrEP_LEVEL_OF_ADHERENCE`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{g(e.data)})).catch((e=>{}))}(),it(),Je(),Ue(),Ze(),Xe(),He(),st(),ze(),we(),nt(),ot(),lt(),ct(),De(),Pe(),Ie(),et(),rt(),dt(),Ee(e.activeContent.id),o(!["update",void 0].includes(e.activeContent.actionType))}),[e.activeContent]),Object(a.useEffect)((()=>{Qe()}),[]);const De=()=>{p.a.get(`${O}application-codesets/v2/PREGNANCY_STATUS`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{V(e.data)})).catch((e=>{}))},Pe=()=>{p.a.get(`${O}application-codesets/v2/PrEP_ENTRY_POINT`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{U(e.data)})).catch((e=>{}))},Ie=()=>{p.a.get(`${O}application-codesets/v2/PrEP_TYPE`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{K(e.data)})).catch((e=>{}))},we=()=>{p.a.get(`${O}laboratory/labtestgroups`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{e.data.map((e=>{e.labTests.map((t=>{ce.push({value:t.id,label:t.labTestName,testGroupId:e.id,testGroupName:e.groupName,sampleType:t.sampleType})}))})),E(ce)})).catch((e=>{}))},Ae=async(t,r)=>{t&&await p.a.get(`${O}prep-clinic/checkEnableCab/${e.patientObj.personId}/${t}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{if(null!==e&&void 0!==e&&e.data||null===e||void 0===e||!e.data){if((null===e||void 0===e?void 0:e.data)||"PREP_VISIT_TYPE_METHOD_SWITCH"===(null===me||void 0===me?void 0:me.visitType))K(G),P(r);else{let e=r.filter(((e,t)=>"CAB-LA(600mg/3mL)"!==e.code)),t=G.filter(((e,t)=>"PREP_TYPE_INJECTIBLES"!==e.code));K(t),P(e)}return null===e||void 0===e?void 0:e.data}})).catch((e=>{}))},Ee=async t=>{p.a.get(`${O}prep-clinic/${e.activeContent.id}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{var t;const{data:r}=JSON.parse(JSON.stringify(e));console.log("resp: ",r.regimen),Ce(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.otherTestsDone),Oe(r)})).catch((e=>{}))},He=()=>{p.a.get(`${O}prep/enrollment/open/patients/${e.patientObj.personId}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{d(e.data)})).catch((e=>{}))},ze=()=>{p.a.get(`${O}prep/eligibility/open/patients/${e.patientObj.personId}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{me.prepEnrollmentUuid=""})).catch((e=>{}))},We=e=>{p.a.get(`${O}prep-regimen`,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{Ae(e,t.data)})).catch((e=>{}))},Ue=()=>{p.a.get(`${O}application-codesets/v2/PREP_STATUS`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{N(e.data)})).catch((e=>{}))},[Ge,Ke]=Object(a.useState)([]),Je=()=>{p.a.get(`${O}application-codesets/v2/PrEP_RISK_REDUCTION_PLAN`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{console.log("prep codeset: ",e.data),Ke(e.data)})).catch((e=>{}))},Xe=()=>{p.a.get(`${O}application-codesets/v2/PREP_SIDE_EFFECTS`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{T(e.data)})).catch((e=>{}))},Ze=()=>{p.a.get(`${O}application-codesets/v2/HTS_RESULT`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{C(e.data)})).catch((e=>{}))};Object(a.useEffect)((()=>{if(null!==ne){var e,t,r;Oe({...me,populationType:null!==ne?null===ne||void 0===ne?void 0:ne.populationType:"",visitType:null!==ne?null===ne||void 0===ne?void 0:ne.visitType:"",pregnant:null!==ne?null===ne||void 0===ne?void 0:ne.pregnancyStatus:""});const a=null===X||void 0===X||null===(e=X.find((e=>(null===e||void 0===e?void 0:e.code)===(null===ne||void 0===ne?void 0:ne.populationType))))||void 0===e?void 0:e.display;null===(t=ee.find((e=>(null===e||void 0===e?void 0:e.code)===(null===ne||void 0===ne?void 0:ne.visitType))))||void 0===t||t.display,null===W||void 0===W||null===(r=W.find((e=>(null===e||void 0===e?void 0:e.code)===(null===ne||void 0===ne?void 0:ne.pregnancyStatus))))||void 0===r||r.display;ie(a)}}),[ne]);const Qe=async()=>{p.a.get(`${O}prep-eligibility/person/${null===me||void 0===me?void 0:me.personId}`,{headers:{Authorization:`Bearer ${x}`}}).then((async e=>{var t;const r=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.sort(((e,t)=>te()(null===e||void 0===e?void 0:e.visitDate).isBefore(te()(null===t||void 0===t?void 0:t.visitDate))))[e.data.length-1];console.log("CabLa Eligibility Assesment: ",null===r||void 0===r?void 0:r.assessmentForPrepEligibility),oe(r)})).catch((e=>{}))};Object(a.useEffect)((()=>{if(null!==me.populationType&&void 0!==me.populationType){const e=X.find((e=>e.code===me.populationType));ie(e?e.display:"")}}),[me.populationType]);const et=async()=>{p.a.get(`${O}application-codesets/v2/POPULATION_TYPE`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{Z(null===e||void 0===e?void 0:e.data)})).catch((e=>{}))},rt=()=>{p.a.get(`${O}application-codesets/v2/PrEP_VISIT_TYPE`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{re(e.data)})).catch((e=>{}))},st=()=>{p.a.get(`${O}application-codesets/v2/WHY_POOR_FAIR_ADHERENCE`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{w(e.data)})).catch((e=>{}))},it=()=>{p.a.get(`${O}application-codesets/v2/SYNDROMIC_STI_SCREENING`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{f(e.data)})).catch((e=>{}))},nt=()=>{p.a.get(`${O}application-codesets/v2/PREP_URINALYSIS_RESULT`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{k(null===e||void 0===e?void 0:e.data)})).catch((e=>{}))},ot=()=>{p.a.get(`${O}application-codesets/v2/PREP_OTHER_TEST`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{_(e.data)})).catch((e=>{}))},ct=()=>{p.a.get(`${O}application-codesets/v2/SYPHILIS_RESULT`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{F(e.data)})).catch((e=>{}))},lt=()=>{p.a.get(`${O}application-codesets/v2/HEPATITIS_SCREENING_RESULT`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{H(null===e||void 0===e?void 0:e.data)})).catch((e=>{}))},dt=()=>{p.a.get(`${O}application-codesets/v2/FAMILY_PLANNING_METHOD`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{M(e.data)})).catch((e=>{}))};const jt=e=>{if(i({...s,[e.target.name]:""}),"monthsOfRefill"===e.target.name){const t=Number(e.target.value);Oe({...me,monthsOfRefill:e.target.value,duration:`${t}`})}else"encounterDate"===e.target.name?(We(e.target.value),Oe({...me,[e.target.name]:e.target.value})):"otherPrepgiven"===e.target.name?Oe({...me,[e.target.name]:e.target.value}):Oe({...me,[e.target.name]:e.target.value})},bt=e=>{i({...s,[e.target.name]:""}),ge({...xe,[e.target.name]:e.target.value})},ht=(e,t)=>{let r=[...Re],a=r.findIndex((e=>Number(e.localId)===Number(t)));console.log("index found: ",a,e.target.name),console.log("index found: ",a,e.target.value),r[a][e.target.name]=e.target.value,console.log("otherTest: ",r),Ce(r)},pt=e=>{i({...s,[e.target.name]:""}),Te({...Se,[e.target.name]:e.target.value})},ut=e=>{i({...s,[e.target.name]:""}),Ne({...ye,[e.target.name]:e.target.value}),"result"===e.target.name&&"Others"!==e.target.value&&(ye.others="",Ne({...ye,others:""}),Ne({...ye,[e.target.name]:e.target.value})),Ne({...ye,[e.target.name]:e.target.value})},mt=Object(a.useRef)();Object(a.useEffect)((()=>{""!==e.activeContent.actionType&&null!==e.activeContent.actionType||Ot()}),[e.activeContent.actionType]);const Ot=()=>{Oe({adherenceLevel:"",dateInitialAdherenceCounseling:"",datePrepGiven:"",datePrepStart:"",dateReferre:"",diastolic:"",encounterDate:"",extra:{},height:"",hepatitis:{},nextAppointment:"",notedSideEffects:"",otherTestsDone:[],personId:e.patientObj.personId,pregnant:"",prepEnrollmentUuid:"",pulse:"",referred:"",regimenId:"",respiratoryRate:"",riskReductionServices:"",stiScreening:"",syndromicStiScreening:null,syphilis:{},systolic:"",temperature:"",urinalysis:{},urinalysisResult:"",weight:"",why:"",otherDrugs:"",hivTestResult:"",duration:"",prepGiven:"",prepDistributionSetting:"",visitType:""}),ge({}),Ne({}),Te({}),Ce([])},xt=()=>(j.lastHts=le?"":"Atleast, 1 HIV test result is required",j.monthsOfRefill=me.monthsOfRefill?"":"This field is required",j.wasPrepAdministered=me.wasPrepAdministered?"":"This field is required",function(e,t){for(const r of t)for(const t of null===r||void 0===r?void 0:r.activities)if("Prep Eligibility"===t.name&&ft(new Date(t.date),new Date(e)))return!0}(j.encounterDate,e.encounters),j.encounterDate=me.encounterDate?"":"This field is required",vt()&&(j.pregnant=me.pregnant?"":"This field is required"),j.nextAppointment=me.nextAppointment?"":"This field is required",j.height=me.height?"":"This field is required",j.weight=me.weight?"":"This field is required",j.urinalysisTest=xe.urinalysisTest?"":"This field is required",j.testDate=xe.testDate?"":"This field is required",j.result=xe.result?"":"This field is required",j.regimenId=me.regimenId?"":"This field is required",j.duration=me.duration?"":"This field is required",j.prepDistributionSetting=me.prepDistributionSetting?"":"This field is required",j.populationType=me.populationType?"":"This field is required",j.visitType=me.visitType?"":"This field is required","PREP_VISIT_TYPE_METHOD_SWITCH"===me.visitType?j.reasonForSwitch=me.reasonForSwitch?"":"This field is required":j.reasonForSwitch="",i({...j}),Object.values(j).every((e=>""===e))),gt=t=>{t.preventDefault(),xt()&&(u(!0),me.hivTestResultDate=je,me.hivTestResult=le,me.syphilis=ye,me.hepatitis=Se,me.urinalysis=xe,me.otherTestsDone=Re,me.prepEnrollmentUuid=l.uuid,e.activeContent&&"update"===e.activeContent.actionType?p.a.put(`${O}prep-clinic/${e.activeContent.id}`,me,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{u(!1),c.b.success("Clinic visit update successful",{position:c.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"consultation",activeTab:"history",actionType:"view"})})).catch((e=>{if(u(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror?c.b.error(e.response.data.apierror.message,{position:c.b.POSITION.BOTTOM_CENTER}):c.b.error(t,{position:c.b.POSITION.BOTTOM_CENTER})}else c.b.error("Something went wrong, please try again...",{position:c.b.POSITION.BOTTOM_CENTER})})):p.a.post(`${O}prep/clinic-visit`,me,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{u(!1),Ot(),c.b.success("Clinic Visit save successful",{position:c.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"consultation",activeTab:"history",actionType:"view"})})).catch((e=>{if(u(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror?c.b.error(e.response.data.apierror.message,{position:c.b.POSITION.BOTTOM_CENTER}):c.b.error(t,{position:c.b.POSITION.BOTTOM_CENTER})}else c.b.error("Something went wrong, please try again...",{position:c.b.POSITION.BOTTOM_CENTER})})))},vt=()=>"female"===e.patientObj.gender.toLowerCase();function ft(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}const[yt,Nt]=Object(a.useState)([]),St=(e,t)=>e.filter((e=>e.id!==t));Object(a.useEffect)((()=>{p.a.get(`${O}prep/activities/patients/${e.patientObj.personId}?full=true`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{Nt(e.data)})).catch((e=>{})),p.a.get(`${O}prep-clinic/hts-record/${e.patientObj.personId}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{var t,r,a,s,i,n;0===(null===(t=e.data)||void 0===t?void 0:t.length)?c.b.error("No HTS record found. Atleast, 1 test result is required to proceed."):(null===(r=e.data)||void 0===r?void 0:r.length)>0&&c.b.success("HTS record found. You may proceed."),de(null===e||void 0===e||null===(a=e.data)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.hivTestResult),be(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(n=i[0])||void 0===n?void 0:n.visitDate)})).catch((e=>{}))}),[]);Object(a.useEffect)((()=>{["update","view"].includes(e.activeContent.actionType)&&p.a.get(`${O}prep-regimen`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{P(e.data)})).catch((e=>{}))}),[e.activeContent.actionType]);const[Tt,Rt]=Object(a.useState)([]);return Object(a.useEffect)((()=>{p.a.get(`${O}application-codesets/v2/LIVER_FUNCTION_TEST_RESULT`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{Rt(e.data)})).catch((e=>{}))}),[]),Object(a.useEffect)((()=>{ne&&Oe((e=>({...e,liverFunctionTestResults:ne.liverFunctionTestResults||["LIVER_FUNCTION_TEST_RESULT_ALANINE_AMINOTRANSFERASE_(ALT)__DERANGED"],dateLiverFunctionTestResults:ne.dateLiverFunctionTestResults||""})))}),[ne]),Object(a.useEffect)((()=>{console.log("objValues: ",me),console.log("errors: : ",s)})),Object(se.jsxs)("div",{className:b.root,children:[Object(se.jsx)("div",{className:"row",children:Object(se.jsx)("div",{className:"col-md-6",children:Object(se.jsx)("h2",{children:"Clinic Follow-up Visit"})})}),Object(se.jsx)(Be.a,{children:Object(se.jsx)(Be.a.Column,{children:Object(se.jsxs)(ke.a,{children:[Object(se.jsx)(Q.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(se.jsx)("h4",{style:{color:"#fff"},children:"VITAL SIGNS"})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{children:["Date of Visit ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(Le.a,{className:"form-control",type:"date",name:"encounterDate",id:"encounterDate",onKeyDown:e=>e.preventDefault(),value:me.encounterDate,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:jt,min:l&&l.dateEnrolled?l.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),disabled:n}),""!==s.encounterDate?Object(se.jsx)("span",{className:b.error,children:s.encounterDate}):""]})}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:" mb-3 col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Pulse"}),Object(se.jsxs)(Fe.a,{children:[Object(se.jsx)(Le.a,{type:"number",name:"pulse",id:"pulse",onChange:jt,min:"40",max:"120",value:me.pulse,onKeyUp:e=>{if("pulse"===e.target.name&&(e.target.value<40||e.target.value>120)){const e="Pulse must not be greater than 120 and less than 40";ue({...pe,pulse:e})}else ue({...pe,pulse:""})},style:{border:"1px solid #014D88",borderRadius:"0.25rem",borderTopRightRadius:"0",borderBottomRightRadius:"0"},disabled:n}),Object(se.jsx)(Ye.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},children:"bmp"})]}),""!==pe.pulse?Object(se.jsx)("span",{className:b.error,children:pe.pulse}):"",""!==s.pulse?Object(se.jsx)("span",{className:b.error,children:s.pulse}):""]})}),Object(se.jsx)("div",{className:" mb-3 col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Respiratory Rate "}),Object(se.jsxs)(Fe.a,{children:[Object(se.jsx)(Le.a,{type:"number",name:"respiratoryRate",id:"respiratoryRate",onChange:jt,min:"10",max:"70",value:me.respiratoryRate,onKeyUp:e=>{if("respiratoryRate"===e.target.name&&(e.target.value<10||e.target.value>70)){const e="Respiratory Rate must not be greater than 70 and less than 10";ue({...pe,respiratoryRate:e})}else ue({...pe,respiratoryRate:""})},style:{border:"1px solid #014D88",borderRadius:"0rem",borderTopLeftRadius:"0.25rem",borderBottomLeftRadius:"0.25rem"},disabled:n}),Object(se.jsx)(Ye.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},children:"bmp"})]}),""!==pe.respiratoryRate?Object(se.jsx)("span",{className:b.error,children:pe.respiratoryRate}):"",""!==s.respiratoryRate?Object(se.jsx)("span",{className:b.error,children:s.respiratoryRate}):""]})}),Object(se.jsx)("div",{className:" mb-3 col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Temperature "}),Object(se.jsxs)(Fe.a,{children:[Object(se.jsx)(Le.a,{type:"number",name:"temperature",id:"temperature",onChange:jt,min:"35",max:"47",value:me.temperature,onKeyUp:e=>{if("temperature"===e.target.name&&(e.target.value<35||e.target.value>47)){const e="Temperature must not be greater than 47 and less than 35";ue({...pe,temperature:e})}else ue({...pe,temperature:""})},style:{border:"1px solid #014D88",borderRadius:"0rem",borderTopLeftRadius:"0.25rem",borderBottomLeftRadius:"0.25rem"},disabled:n}),Object(se.jsxs)(Ye.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},children:[Object(se.jsx)("sup",{children:"o"}),"c"]})]}),""!==pe.temperature?Object(se.jsx)("span",{className:b.error,children:pe.temperature}):"",""!==s.temperature?Object(se.jsx)("span",{className:b.error,children:s.temperature}):""]})}),Object(se.jsx)("div",{className:" mb-3 col-md-5",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{children:["Body Weight ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Fe.a,{children:[Object(se.jsx)(Le.a,{type:"number",name:"weight",id:"weight",onChange:jt,min:"3",max:"150",value:me.weight,onKeyUp:e=>{if("weight"===e.target.name&&(e.target.value<3||e.target.value>150)){const e="Body weight must not be greater than 150 and less than 3";ue({...pe,weight:e})}else ue({...pe,weight:""})},style:{border:"1px solid #014D88",borderRadius:"0rem",borderTopLeftRadius:"0.25rem",borderBottomLeftRadius:"0.25rem"},disabled:n}),Object(se.jsx)(Ye.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},children:"kg"})]}),""!==pe.weight?Object(se.jsx)("span",{className:b.error,children:pe.weight}):"",""!==s.weight?Object(se.jsx)("span",{className:b.error,children:s.weight}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{children:["Height ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Fe.a,{children:[Object(se.jsx)(Ye.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem",borderTopLeftRadius:"0.25rem",borderBottomLeftRadius:"0.25rem"},children:"cm"}),Object(se.jsx)(Le.a,{type:"number",name:"height",id:"height",onChange:jt,value:me.height,min:"48.26",max:"216.408",onKeyUp:e=>{if("height"===e.target.name&&(e.target.value<48.26||e.target.value>216.408)){const e="Height cannot be greater than 216.408 and less than 48.26";ue({...pe,height:e})}else ue({...pe,height:""})},style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:n}),Object(se.jsx)(Ye.a,{addonType:"append",style:{backgroundColor:"#992E62",color:"#fff",border:"1px solid #992E62",borderRadius:"0rem",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},children:""!==me.height?(me.height/100).toFixed(2)+"m":"m"})]}),""!==pe.height?Object(se.jsx)("span",{className:b.error,children:pe.height}):"",""!==s.height?Object(se.jsx)("span",{className:b.error,children:s.height}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 mt-2 col-md-2",children:""!==me.weight&&""!==me.height&&Object(se.jsxs)($e.a,{children:[Object(se.jsx)(Q.a,{children:" "}),Object(se.jsx)(Fe.a,{children:Object(se.jsxs)(Ye.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88"},children:["BMI :"," ",(me.weight/(me.height/100*(me.height/100))).toFixed(2)]})})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-8",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Blood Pressure"}),Object(se.jsxs)(Fe.a,{children:[Object(se.jsx)(Ye.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem",borderTopLefttRadius:"0.25rem",borderBottomLeftRadius:"0.25rem"},children:"systolic(mmHg)"}),Object(se.jsx)(Le.a,{type:"number",name:"systolic",id:"systolic",min:"90",max:"240",onChange:jt,value:me.systolic,onKeyUp:e=>{if("systolic"===e.target.name&&(e.target.value<90||e.target.value>240)){const e="Blood Pressure systolic must not be greater than 240 and less than 90";ue({...pe,systolic:e})}else ue({...pe,systolic:""})},style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:n}),Object(se.jsx)(Ye.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"diastolic(mmHg)"}),Object(se.jsx)(Le.a,{type:"number",name:"diastolic",id:"diastolic",min:0,max:140,onChange:jt,value:me.diastolic,onKeyUp:e=>{if("diastolic"===e.target.name&&(e.target.value<60||e.target.value>140)){const e="Blood Pressure diastolic must not be greater than 140 and less than 60";ue({...pe,diastolic:e})}else ue({...pe,diastolic:""})},style:{border:"1px solid #014D88",borderRadius:"0rem",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},disabled:n})]}),""!==pe.systolic?Object(se.jsx)("span",{className:b.error,children:pe.systolic}):"",""!==s.systolic?Object(se.jsx)("span",{className:b.error,children:s.systolic}):"",""!==pe.diastolic?Object(se.jsx)("span",{className:b.error,children:pe.diastolic}):"",""!==s.diastolic?Object(se.jsx)("span",{className:b.error,children:s.diastolic}):""]})}),vt()&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{children:["Pregnancy Status"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Le.a,{type:"select",name:"pregnant",id:"pregnant",onChange:jt,value:me.pregnant,disabled:n,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(se.jsx)("option",{value:"",children:"Select Pregnancy Status"}),W.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==s.pregnant?Object(se.jsx)("span",{className:b.error,children:s.pregnant}):""]})})]})]}),Object(se.jsx)(Q.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(se.jsx)("h4",{style:{color:"#fff"}})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{children:["Result of Last HIV Test"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(se.jsx)(Le.a,{type:"text",name:"hivTestResult",id:"hivTestResult",value:le,onChange:e=>{de(e.target.value),jt(e)},style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!0}),Object(se.jsx)("div",{className:"p-1",children:""!==s.lastHts?Object(se.jsx)("span",{className:b.error,children:s.lastHts}):""})]})}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{children:["Date of Last HIV Test"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(Le.a,{type:"NOT DONE"==le?"text":"date",name:"hivTestResultDate",id:"hivTestResultDate",value:"NOT DONE"==le?"NOT APPLICABLE":je,onChange:e=>{de(e.target.value),jt(e)},style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!0}),Object(se.jsx)("div",{className:"p-1",children:""!==s.lastHtsDate?Object(se.jsx)("span",{className:b.error,children:s.lastHtsDate}):""})]})}),Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"liverFunctionTestResults",children:["Liver Function Tests Result",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(tt,{objValues:me,handleInputChange:e=>{const{name:t,value:r}=e.target;Oe((e=>({...e,[t]:r})))},liverFunctionTestResult:Tt,disabledField:n,isAutoPop:!0}),""!==s.liverFunctionTestResults?Object(se.jsx)("span",{className:b.error,children:s.liverFunctionTestResults}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-8",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"dateLiverFunctionTestResults",children:["Date of Liver Function Tests Result"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(Le.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateLiverFunctionTestResults",id:"dateLiverFunctionTestResults",max:te()(new Date).format("YYYY-MM-DD"),value:me.dateLiverFunctionTestResults,onChange:jt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!0}),""!==s.dateLiverFunctionTestResults?Object(se.jsx)("span",{className:b.error,children:s.dateLiverFunctionTestResults}):""]})})]}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Noted Side Effects "}),Object(se.jsxs)(Le.a,{type:"select",name:"notedSideEffects",id:"notedSideEffects",value:me.notedSideEffects,onChange:jt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n,children:[Object(se.jsx)("option",{value:"",children:"Select"}),S.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"STI Screening"}),Object(se.jsxs)(Le.a,{type:"select",name:"stiScreening",id:"stiScreening",value:me.stiScreening,onChange:jt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]})]})}),"true"===me.stiScreening&&Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Syndromic STI Screening "}),Object(se.jsxs)(Le.a,{type:"select",name:"syndromicStiScreening",id:"syndromicStiScreening",value:me.syndromicStiScreening,onChange:jt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n,children:[Object(se.jsx)("option",{value:"",children:"Select"}),v.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Risk Reduction Service "}),Object(se.jsxs)(Le.a,{type:"select",name:"riskReductionServices",id:"riskReductionServices",value:me.riskReductionServices,onChange:jt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n,children:[Object(se.jsx)("option",{value:"",children:"Select"},100),Ge.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Level of Adherence"}),Object(se.jsxs)(Le.a,{type:"select",name:"adherenceLevel",id:"adherenceLevel",value:me.adherenceLevel,onChange:jt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n,children:[Object(se.jsx)("option",{value:"",children:"Select"}),m.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==s.adherenceLevel?Object(se.jsx)("span",{className:b.error,children:s.adherenceLevel}):""]})}),"PREP_LEVEL_OF_ADHERENCE_(POOR)_\u2265_7_DOSES"===me.adherenceLevel&&Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Why Poor/Fair Adherence "}),Object(se.jsxs)(Le.a,{type:"select",name:"whyAdherenceLevelPoor",id:"whyAdherenceLevelPoor",value:me.whyAdherenceLevelPoor,onChange:jt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n,children:[Object(se.jsx)("option",{value:"",children:"Select"}),I.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"",children:["Population Type ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Le.a,{type:"select",name:"populationType",id:"populationType",onChange:jt,value:me.populationType,disabled:n,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(se.jsx)("option",{value:"",children:" Select Population Type"}),null===X||void 0===X?void 0:X.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==s.populationType?Object(se.jsx)("span",{className:b.error,children:s.populationType}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"",children:["Visit Type ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Le.a,{type:"select",name:"visitType",id:"visitType",onChange:jt,value:me.visitType,disabled:n,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(se.jsx)("option",{value:"",children:" Select Visit Type"}),ee.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==s.visitType?Object(se.jsx)("span",{className:b.error,children:s.visitType}):""]})}),"PREP_VISIT_TYPE_METHOD_SWITCH"===me.visitType&&Object(se.jsxs)("div",{className:"form-group mb-3 col-md-6",children:[Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Reason for switch"}),Object(se.jsx)("span",{style:{color:"red"},children:" *"}),Object(se.jsxs)(Le.a,{type:"select",name:"reasonForSwitch",id:"reasonForSwitch",value:me.reasonForSwitch,onChange:jt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"A",children:"A"}),Object(se.jsx)("option",{value:"B",children:"B"}),Object(se.jsx)("option",{value:"C",children:"C"})]})]}),""!==s.reasonForSwitch?Object(se.jsx)("span",{className:b.error,children:s.reasonForSwitch}):""]}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"",children:["Prep Type",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Le.a,{type:"select",name:"prepType",id:"prepType",style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:e=>{Oe({...me,regimenId:"",prepType:e.target.value}),"PREP_TYPE_OTHERS"===e.target.value||"PREP_TYPE_ED_PREP"===e.target.value?We(me.encounterDate):p.a.get(`${O}prep-regimen/prepType?prepType=${e.target.value}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{Ae(me.encounterDate,e.data)})).catch((e=>{})),i({...s,[e.target.name]:""})},value:me.prepType,disabled:n,children:[Object(se.jsx)("option",{value:"",children:" Select PrEP Type"}),G.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==s.prepType?Object(se.jsx)("span",{className:b.error,children:s.prepType}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"",children:["PrEP Regimen ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Le.a,{type:"select",name:"regimenId",id:"regimenId",onChange:jt,value:me.regimenId,disabled:n,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(se.jsx)("option",{value:"",children:" Select"}),["update","view"].includes(e.activeContent.actionType)?null===D||void 0===D?void 0:D.map((e=>Object(se.jsx)("option",{value:e.id,children:e.regimen},e.id))):"PREP_VISIT_TYPE_METHOD_SWITCH"===(null===me||void 0===me?void 0:me.visitType)?St(D,null===(t=e.recentActivities[0])||void 0===t?void 0:t.regimenId).map((e=>Object(se.jsx)("option",{value:e.id,children:e.regimen},e.id))):null===D||void 0===D?void 0:D.map((e=>Object(se.jsx)("option",{value:e.id,children:e.regimen},e.id)))]}),""!==s.regimenId?Object(se.jsx)("span",{className:b.error,children:s.regimenId}):""]})}),"PREP_TYPE_INJECTIBLES"===me.prepType&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Other PrEP given"}),Object(se.jsx)("span",{style:{color:"red"},children:" *"}),Object(se.jsxs)(Le.a,{type:"select",name:"otherPrepgiven",id:"otherPrepgiven",value:me.otherPrepgiven,onChange:jt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]})]}),""!==s.otherPrepgiven?Object(se.jsx)("span",{className:b.error,children:s.otherPrepgiven}):""]})}),"true"===me.otherPrepgiven&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"",children:["Other PrEP Type",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Le.a,{type:"select",name:"otherPrepType",id:"otherPrepType",style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:jt,value:me.otherPrepType,disabled:n,children:[Object(se.jsx)("option",{value:"",children:" Select Prep Type"}),G.filter(((e,t)=>"PREP_TYPE_INJECTIBLES"!==e.code)).map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==s.otherPrepType?Object(se.jsx)("span",{className:b.error,children:s.otherPrepType}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"",children:["Other PrEP Regimen"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Le.a,{type:"select",name:"otherRegimenId",id:"otherRegimenId",onChange:jt,value:me.otherRegimenId,disabled:n,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(se.jsx)("option",{value:"",children:" Select"}),["update","view"].includes(e.activeContent.actionType)?null===D||void 0===D?void 0:D.filter(((e,t)=>"CAB-LA(600mg/3mL)"!==e.code)).map((e=>Object(se.jsx)("option",{value:e.id,children:e.regimen},e.id))):"PREP_VISIT_TYPE_METHOD_SWITCH"===(null===me||void 0===me?void 0:me.visitType)?St(D,null===(r=e.recentActivities[0])||void 0===r?void 0:r.regimenId).filter(((e,t)=>"CAB-LA(600mg/3mL)"!==e.code)).map((e=>Object(se.jsx)("option",{value:e.id,children:e.regimen},e.id))):null===D||void 0===D?void 0:D.filter(((e,t)=>"CAB-LA(600mg/3mL)"!==e.code)).map((e=>Object(se.jsx)("option",{value:e.id,children:e.regimen},e.id)))]}),""!==s.otherRegimenId?Object(se.jsx)("span",{className:b.error,children:s.otherRegimenId}):""]})})]})]}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"",children:["PrEP Distribution Setting"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Le.a,{type:"select",name:"prepDistributionSetting",id:"prepDistributionSetting",onChange:jt,value:me.prepDistributionSetting,disabled:n,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(se.jsx)("option",{value:""}),q.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==s.prepDistributionSetting?Object(se.jsx)("span",{className:b.error,children:s.prepDistributionSetting}):""]})}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{children:["Duration of refill (Day[s])"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(Le.a,{type:"number",name:"monthsOfRefill",id:"monthsOfRefill",value:me.monthsOfRefill,min:0,onChange:jt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n}),""!==s.monthsOfRefill?Object(se.jsx)("span",{className:b.error,children:s.monthsOfRefill}):""]})}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Other Drugs"}),Object(se.jsx)(Le.a,{type:"text",name:"otherDrugs",id:"otherDrugs",value:me.otherDrugs,onChange:jt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"",children:"Family Planning"}),Object(se.jsxs)(Le.a,{type:"select",name:"familyPlanning",id:"familyPlanning",onChange:jt,value:me.familyPlanning,disabled:n,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(se.jsx)("option",{value:""}),z.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Date of Family Planning "}),Object(se.jsx)(Le.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateOfFamilyPlanning",id:"dateOfFamilyPlanning",value:me.dateOfFamilyPlanning,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:jt,max:te()(new Date).format("YYYY-MM-DD"),disabled:n}),""!==s.dateOfFamilyPlanning?Object(se.jsx)("span",{className:b.error,children:s.dateOfFamilyPlanning}):""]})}),Object(se.jsxs)("div",{className:"form-group mb-3 col-md-6",children:[Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Was PrEP Administered?"}),Object(se.jsx)("span",{style:{color:"red"},children:" *"}),Object(se.jsxs)(Le.a,{type:"select",name:"wasPrepAdministered",id:"wasPrepAdministered",value:me.wasPrepAdministered,onChange:jt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]})]}),""!==s.wasPrepAdministered?Object(se.jsx)("span",{className:b.error,children:s.wasPrepAdministered}):""]}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)(Q.a,{as:"a",color:"teal",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(se.jsxs)("h4",{style:{color:"#fff"},children:[Object(se.jsx)("input",{type:"checkbox",name:"urinalysisTest",value:"Yes",onChange:e=>{i({...s,[e.target.name]:""}),e.target.checked?ge({...xe,urinalysisTest:"Yes"}):ge({...Re,urinalysisTest:"No"})},checked:"Yes"==xe.urinalysisTest})," ","Urinalysis Test"]})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),"Yes"===xe.urinalysisTest&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{children:["Urinalysis Test Date"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(Le.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"testDate",id:"testDate",value:xe.testDate,onChange:bt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:me.encounterDate,max:te()(new Date).format("YYYY-MM-DD"),disabled:n}),""!==s.testDate?Object(se.jsx)("span",{className:b.error,children:s.testDate}):""]})}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{children:["Urinalysis Test Result"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Le.a,{type:"select",name:"result",id:"result",value:xe.result,onChange:bt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n,children:[Object(se.jsx)("option",{value:"",children:"Select"}),B.map((e=>Object(se.jsx)("option",{value:e.display,children:e.display},e.id)))]}),""!==s.result?Object(se.jsx)("span",{className:b.error,children:s.result}):""]})})]}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)(Q.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(se.jsxs)("h4",{style:{color:"#fff"},children:[Object(se.jsx)("input",{type:"checkbox",name:"hepatitisTest",value:"Yes",onChange:e=>{i({...s,[e.target.name]:""}),e.target.checked?Te({...Se,hepatitisTest:"Yes"}):Te({...ye,syphilisTest:"No"})},checked:"Yes"===Se.hepatitisTest})," ","Hepatitis Test"," "]})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),"Yes"===Se.hepatitisTest&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Hepatitis Test Date"}),Object(se.jsx)(Le.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"testDate",id:"testDate",value:Se.testDate,onChange:pt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:me.encounterDate,max:te()(new Date).format("YYYY-MM-DD"),disabled:n})]})}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Hepatitis Test Result"}),Object(se.jsxs)(Le.a,{type:"select",name:"result",id:"result",value:Se.result,onChange:pt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Y.map((e=>Object(se.jsx)("option",{value:e.display,children:e.display},e.id)))]})]})})]}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)(Q.a,{as:"a",color:"red",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(se.jsxs)("h4",{style:{color:"#fff"},children:[Object(se.jsx)("input",{type:"checkbox",name:"syphilisTest",value:"Yes",onChange:e=>{i({...s,[e.target.name]:""}),e.target.checked?Ne({...ye,syphilisTest:"Yes"}):Ne({...ye,syphilisTest:"No"})},checked:"Yes"===ye.syphilisTest})," ","Syphilis Test"," "]})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),"Yes"===ye.syphilisTest&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Syphilis Test Date"}),Object(se.jsx)(Le.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"testDate",id:"testDate",value:ye.testDate,onChange:ut,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n,min:me.encounterDate,max:te()(new Date).format("YYYY-MM-DD")})]})}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Syphilis Test Result"}),Object(se.jsxs)(Le.a,{type:"select",name:"result",id:"result",value:ye.result,onChange:ut,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n,children:[Object(se.jsx)("option",{value:"",children:"Select"}),L.map((e=>Object(se.jsx)("option",{value:e.display,children:e.display},e.id)))]})]})}),"Others"===ye.result&&Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Syphilis Test Result (Others)"}),Object(se.jsx)(Le.a,{type:"text",name:"others",id:"others",value:ye.others,onChange:ut,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n})]})})]}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)(Q.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(se.jsxs)("h4",{style:{color:"#fff"},children:[Object(se.jsx)("input",{type:"checkbox",name:"otherTest",value:"Yes",ref:mt,onChange:e=>{var t;(i({...s,[e.target.name]:""}),e.target.checked)?Ce([...Re,...me.otherTestsDone,{localId:(null===(t=me.otherTestsDone)||void 0===t?void 0:t.length)||0,otherTest:"Yes",testDate:"",result:"",name:"",otherTestName:""}]):Ce([])},checked:Re.length>0}),"Other Test"]})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Re.length>0&&Re.map((e=>Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:" mb-1 col-md-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:" Test Name"}),Object(se.jsxs)(Le.a,{type:"select",name:"otherTestsDone",id:"otherTestsDone","data-localid":e.localId,"data-field":"name",onChange:t=>ht(t,e.localId),value:e.otherTestsDone,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n,children:[Object(se.jsx)("option",{value:"",children:"Select"}),null===$||void 0===$?void 0:$.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]})]})}),"PREP_OTHER_TEST_OTHER_(SPECIFY)"===e.name&&Object(se.jsx)("div",{style:{display:"none"},className:" mb-1 col-md-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:" Other Test Name "}),Object(se.jsx)(Le.a,{type:"text",name:"otherTestName",id:"otherTestName","data-localid":e.localId,"data-field":"otherTestName",value:e.otherTestName,onChange:t=>ht(t,e.localId),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n})]})}),Object(se.jsx)("div",{className:" mb-1 col-md-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:" Test Date"}),Object(se.jsx)(Le.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"testDate",id:"testDate","data-localid":e.localId,"data-field":"testDate",value:e.testDate,onChange:t=>ht(t,e.localId),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n,min:me.encounterDate,max:te()(new Date).format("YYYY-MM-DD")})]})}),Object(se.jsx)("div",{className:" mb-1 col-md-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:" Test Result"}),Object(se.jsx)(Le.a,{type:"text",name:"result",id:"result","data-localid":e.localId,"data-field":"result",value:e.result,onChange:t=>ht(t,e.localId),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:n})]})}),Object(se.jsx)("div",{className:" mb-1 col-md-3 d-flex align-items-end",children:Object(se.jsx)("button",{variant:"contained",color:"secondary",size:"medium",className:`${b.button} btn btn-danger`,style:{display:"block",margin:0,fontSize:"1.2em"},onClick:()=>{return t=e.localId,void Ce((e=>e.filter((e=>e.localId!==t))));var t},children:Object(se.jsx)(he.b,{})})}),Re.length>1&&Object(se.jsx)(qe.a,{component:"li",style:{marginBottom:"10px"}})]},e.localId))),""!==s.otherTestsDone?Object(se.jsx)("span",{className:b.error,children:s.otherTestsDone}):"",Re.length>0&&Object(se.jsx)("div",{children:Object(se.jsx)(J.a,{type:"button",variant:"contained",color:"primary",className:`${b.button}`,startIcon:Object(se.jsx)(Ve.a,{}),style:{backgroundColor:"#014d88"},onClick:()=>{Ce([...Re,{localId:Re.length,otherTest:"Yes",testDate:"",result:"",name:"",otherTestName:""}])},disabled:h,children:Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Add more test results"})})}),Object(se.jsx)("br",{}),Object(se.jsx)(Q.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(se.jsx)("h4",{style:{color:"#fff"},children:"NEXT APPOINTMENT DATE "})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsxs)("div",{className:"mb-3 col-md-6",children:[Object(se.jsx)(_e.a,{children:"Next Appointment Date"}),Object(se.jsx)(Le.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"nextAppointment",id:"nextAppointment",value:me.nextAppointment,onChange:jt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:me.encounterDate,disabled:n}),""!==s.nextAppointment?Object(se.jsx)("span",{className:b.error,children:s.nextAppointment}):""]}),Object(se.jsxs)("div",{className:" mb-3 col-md-6",children:[Object(se.jsx)(_e.a,{children:"Healthcare Worker Signature"}),Object(se.jsx)(Le.a,{name:"healthCareWorkerSignature",id:"healthCareWorkerSignature",placeholder:"Enter signature...",value:me.healthCareWorkerSignature,disabled:n,onChange:jt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==s.healthCareWorkerSignature?Object(se.jsx)("span",{className:b.error,children:s.healthCareWorkerSignature}):""]})]}),Object(se.jsx)("br",{}),!n&&Object(se.jsx)(se.Fragment,{children:e.activeContent&&"update"===e.activeContent.actionType?Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(J.a,{type:"submit",variant:"contained",color:"primary",hidden:n,className:b.button,startIcon:Object(se.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:gt,disabled:h,children:h?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(J.a,{type:"submit",variant:"contained",color:"primary",className:b.button,startIcon:Object(se.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:gt,disabled:h,children:h?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})]})})})]})};const it={Add:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(f.a,{...e,ref:t}))),Check:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(T.a,{...e,ref:t}))),Clear:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(w.a,{...e,ref:t}))),Delete:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(E.a,{...e,ref:t}))),DetailPanel:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(P.a,{...e,ref:t}))),Edit:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(k.a,{...e,ref:t}))),Export:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(V.a,{...e,ref:t}))),Filter:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(_.a,{...e,ref:t}))),FirstPage:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(F.a,{...e,ref:t}))),LastPage:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(H.a,{...e,ref:t}))),NextPage:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(P.a,{...e,ref:t}))),PreviousPage:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(C.a,{...e,ref:t}))),ResetSearch:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(w.a,{...e,ref:t}))),Search:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(U.a,{...e,ref:t}))),SortArrow:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(N.a,{...e,ref:t}))),ThirdStateCheck:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(M.a,{...e,ref:t}))),ViewColumn:Object(a.forwardRef)(((e,t)=>Object(se.jsx)(K.a,{...e,ref:t})))};Object(He.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var nt=e=>{const[t,r]=Object(a.useState)(!1),[i,n]=s.a.useState(!1),[o,l]=Object(a.useState)(null),d=()=>n((e=>!e));Object(a.useEffect)((()=>{e.getPatientHistory(),"view"===e.activeContent.actionType&&e.getPatientHistory()}),[e.patientObj.id,e.activeContent.actionType]);const j=(t,r)=>{e.setActiveContent({...e.activeContent,route:"consultation",id:t.id,actionType:r,activeTab:"home"})};return Object(se.jsxs)("div",{children:[Object(se.jsx)("br",{}),Object(se.jsx)(m.a,{icons:it,title:"Patient Clinic Visit History",columns:[{title:"Visit Date",field:"date"},{title:"Regimen Given",field:"regimen"},{title:"Next Appointment",field:"nextAppointment",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],isLoading:e.loading,data:e.recentActivities&&e.recentActivities.map((e=>({date:e.encounterDate,regimen:e.regimen,nextAppointment:e.nextAppointment,actions:Object(se.jsx)("div",{children:Object(se.jsx)(fe.a.Menu,{position:"right",children:Object(se.jsx)(fe.a.Item,{children:Object(se.jsx)(De.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(se.jsx)(Ie.a,{item:!0,text:"Action",children:Object(se.jsxs)(Ie.a.Menu,{style:{marginTop:"10px"},children:[Object(se.jsxs)(Ie.a.Item,{onClick:()=>j(e,"view"),children:[" ",Object(se.jsx)(we.a,{name:"eye"}),"View"]}),Object(se.jsxs)(Ie.a.Item,{onClick:()=>j(e,"update"),children:[Object(se.jsx)(we.a,{name:"edit"}),"Edit"]}),Object(se.jsxs)(Ie.a.Item,{onClick:()=>(e=>{d(),l(e)})(e),children:[" ",Object(se.jsx)(we.a,{name:"trash"})," Delete"]})]})})})})})})}))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),Object(se.jsxs)(Ce.a,{show:i,toggle:d,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(se.jsx)(Ce.a.Header,{children:Object(se.jsx)(Ce.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(se.jsx)(Ce.a.Body,{children:Object(se.jsxs)("h4",{children:["Are you Sure you want to delete ",Object(se.jsx)("b",{children:o&&o.name})]})}),Object(se.jsxs)(Ce.a.Footer,{children:[Object(se.jsx)(De.a,{onClick:()=>{var t;"prep-eligibility"===(t={...o,path:"prep-clinic"}).path?(r(!0),p.a.delete(`${O}prep-eligibility/${t.id}`,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{r(!1),c.b.success("Record Deleted Successfully"),e.getPatientHistory(),d()})).catch((e=>{if(r(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";c.b.error(t)}else c.b.error("Something went wrong. Please try again...")}))):"prep-clinic"===t.path?(r(!0),p.a.delete(`${O}prep-clinic/${t.id}`,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{r(!1),c.b.success("Record Deleted Successfully"),e.getPatientHistory(),e.setActiveContent({...e.activeContent,route:"recent-history"}),d()})).catch((e=>{if(r(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";c.b.error(t)}else c.b.error("Something went wrong. Please try again...")}))):"prep-enrollment"===t.path?(r(!0),p.a.delete(`${O}prep-enrollment/${t.id}`,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{r(!1),c.b.success("Record Deleted Successfully"),e.getPatientHistory(),d()})).catch((e=>{if(r(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";c.b.error(t)}else c.b.error("Something went wrong. Please try again...")}))):"prep-enrollment2"===t.path&&(r(!0),p.a.delete(`${O}prep-enrollment/${t.id}`,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{r(!1),c.b.success("Record Deleted Successfully"),e.getPatientHistory(),d()})).catch((e=>{if(r(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";c.b.error(t)}else c.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:t,children:!1===t?"Yes":"Deleting..."}),Object(se.jsx)(De.a,{onClick:d,style:{backgroundColor:"#014d88",color:"#fff"},disabled:t,children:"No"})]})]})]})};const ot={borderRadius:"2px",fontSize:14};var ct=e=>{const[t,r]=Object(a.useState)("home"),s=e.patientObj,[i,n]=Object(a.useState)([]),[o,c]=Object(a.useState)(!0),[u,m]=Object(a.useState)([]);return Object(a.useEffect)((()=>{r(e.activeContent.activeTab)}),[e.activeContent]),Object(a.useEffect)((()=>{c(!0),p.a.get(`${O}prep/activities/patients/${e.patientObj.personId}?isCommenced=false&last=false`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{c(!1),m(e.data)})).catch((e=>{}))}),[]),Object(se.jsx)(a.Fragment,{children:Object(se.jsx)(l.a,{children:Object(se.jsx)(d.a,{xl:12,children:Object(se.jsx)(j.a,{style:ot,children:Object(se.jsx)(j.a.Body,{children:Object(se.jsx)("div",{className:"custom-tab-1",children:Object(se.jsxs)(b.a,{id:"controlled-tab-example",activeKey:t,onSelect:e=>r(e),className:"mb-3",children:[Object(se.jsx)(h.a,{eventKey:"home",title:"CLINIC VISIT ",children:Object(se.jsx)(st,{encounters:u,recentActivities:i,patientObj:s,setActiveContent:e.setActiveContent,activeContent:e.activeContent})}),Object(se.jsx)(h.a,{eventKey:"history",title:"HISTORY",children:Object(se.jsx)(nt,{encounters:u,getPatientHistory:()=>{c(!0),p.a.get(`${O}prep-clinic/person/${e.patientObj.personId}?isCommenced=false&last=false`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{c(!1),n(e.data)})).catch((e=>{}))},loading:o,recentActivities:i,patientObj:s,activeContent:e.activeContent,setActiveContent:e.setActiveContent})})]})})})})})})})},lt=r(1046);const dt=Object(He.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var jt=e=>{const t=e.patientObj,r=dt(),[s,i]=Object(a.useState)(!1),[n,o]=Object(a.useState)([]),[l,d]=Object(a.useState)([]),[j,b]=Object(a.useState)({dateInitialAdherenceCounseling:"",datePrepStart:"",height:"",personId:t.personId,prepClientId:e.prepId,regimenId:"",urinalysisResult:"",prepEligibilityUuid:"",weight:"",drugAllergies:"",referred:"",datereferred:"",extra:{},nextAppointment:"",pregnant:!0,prepEnrollmentUuid:"",duration:"",prepDistributionSetting:"",prepType:"",monthsOfRefill:"",liverFunctionTestResults:[],dateLiverFunctionTestResults:"",historyOfDrugToDrugInteraction:""}),[h,u]=Object(a.useState)(!1),[m,g]=Object(a.useState)({}),[v,f]=Object(a.useState)([]),[y,N]=Object(a.useState)(),[S,T]=Object(a.useState)([]),[R,C]=Object(a.useState)([]),[D,P]=Object(a.useState)([]),[I,w]=Object(a.useState)([]);Object(a.useEffect)((()=>{F(),Y(),A(),E(),k(),$(),_(),B(),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(L(e.activeContent.id),i("view"===e.activeContent.actionType))}),[]);const A=async()=>{p.a.get(`${O}prep-regimen`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{o(e.data)})).catch((e=>{}))},E=()=>{p.a.get(`${O}application-codesets/v2/PrEP_ENTRY_POINT`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{T(e.data)})).catch((e=>{}))},B=()=>{p.a.get(`${O}application-codesets/v2/PREP_URINALYSIS_RESULT`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{C(e.data)})).catch((e=>{}))},k=async()=>{p.a.get(`${O}application-codesets/v2/PrEP_TYPE`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{P(e.data)})).catch((e=>{}))},$=()=>{p.a.get(`${O}application-codesets/v2/LIVER_FUNCTION_TEST_RESULT`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{w(e.data)})).catch((e=>{}))},_=()=>{p.a.get(`${O}application-codesets/v2/PREP_HISTORY_OF_DRUG_INTERACTIONS`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{d(e.data)})).catch((e=>{}))},L=t=>{p.a.get(`${O}prep/commencement/person/${e.patientObj.personId}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{b(e.data.find((e=>e.id===t)))})).catch((e=>{}))},F=()=>{p.a.get(`${O}application-codesets/v2/PREGNANCY_STATUS`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{f(e.data)})).catch((e=>{}))},Y=()=>{p.a.get(`${O}prep/enrollment/open/patients/${e.patientObj.personId}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{N(e.data)})).catch((e=>{}))},[H,z]=Object(a.useState)({weight:"",height:""}),M=e=>{if(g({...m,[e.target.name]:""}),"referred"===e.target.name&&"false"===e.target.value)j.datereferred="",b({...j,datereferred:""});else if("monthsOfRefill"===e.target.name){const t=30*Number(e.target.value);b({...j,monthsOfRefill:e.target.value,duration:t})}b({...j,[e.target.name]:e.target.value})},W=r=>{r.preventDefault(),(()=>{let e={...m};return e.dateInitialAdherenceCounseling=j.dateInitialAdherenceCounseling?"":"This field is required",e.datePrepStart=j.datePrepStart?"":"This field is required",e.prepType=j.prepType?"":"This field is required",e.regimenId=j.regimenId?"":"This field is required",e.height=j.height?"":"This field is required",e.weight=j.weight?"":"This field is required",e.referred=j.referred?"":"This field is required",e.prepDistributionSetting=j.prepDistributionSetting?"":"This field is required",g({...e}),Object.values(e).every((e=>""==e))})()&&(u(!0),j.prepEnrollmentUuid=y.uuid,e.activeContent&&"update"===e.activeContent.actionType?p.a.put(`${O}prep-clinic/${e.activeContent.id}`,j,{headers:{Authorization:`Bearer ${x}`}}).then((r=>{u(!1),t.commencementCount=1,c.b.success("Record save successful",{position:c.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{if(u(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror?c.b.error(e.response.data.apierror.message,{position:c.b.POSITION.BOTTOM_CENTER}):c.b.error(t,{position:c.b.POSITION.BOTTOM_CENTER})}else c.b.error("Something went wrong, please try again...",{position:c.b.POSITION.BOTTOM_CENTER})})):p.a.post(`${O}prep/commencement`,j,{headers:{Authorization:`Bearer ${x}`}}).then((r=>{u(!1),t.commencementCount=1,e.PatientObject(),c.b.success("Record save successful",{position:c.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{if(u(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror?c.b.error(e.response.data.apierror.message,{position:c.b.POSITION.BOTTOM_CENTER}):c.b.error(t,{position:c.b.POSITION.BOTTOM_CENTER})}else c.b.error("Something went wrong, please try again...",{position:c.b.POSITION.BOTTOM_CENTER})})))},[V,q]=Object(a.useState)(null);return Object(a.useEffect)((()=>{(async()=>{try{var e;const t=await p.a.get(`${O}prep-eligibility/person/${null===j||void 0===j?void 0:j.personId}`,{headers:{Authorization:`Bearer ${x}`}}),r=null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.sort(((e,t)=>te()(null===e||void 0===e?void 0:e.visitDate).isBefore(te()(null===t||void 0===t?void 0:t.visitDate))))[t.data.length-1];q(r)}catch(t){console.error("Error fetching latest eligibility:",t)}})()}),[]),Object(a.useEffect)((()=>{V&&b((e=>({...e,liverFunctionTestResults:V.liverFunctionTestResults||[],dateLiverFunctionTestResults:V.dateLiverFunctionTestResults||""})))}),[V]),Object(se.jsx)("div",{children:Object(se.jsx)(lt.a,{className:r.root,children:Object(se.jsx)(Ue.a,{children:Object(se.jsxs)("form",{children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("h2",{children:" PrEP Commencement "}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"uniqueId",children:["Date of Initial Adherence Counseling"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(Le.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateInitialAdherenceCounseling",id:"dateInitialAdherenceCounseling",min:y&&y.dateEnrolled?y.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),value:j.dateInitialAdherenceCounseling,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s}),""!==m.dateInitialAdherenceCounseling?Object(se.jsx)("span",{className:r.error,children:m.dateInitialAdherenceCounseling}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{children:["Date PrEP started ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(Le.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"datePrepStart",id:"datePrepStart",min:y&&y.dateEnrolled?y.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),value:j.datePrepStart,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s}),""!==m.datePrepStart?Object(se.jsx)("span",{className:r.error,children:m.datePrepStart}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:" mb-3 col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{children:["Body Weight ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Fe.a,{children:[Object(se.jsx)(Le.a,{type:"number",name:"weight",id:"weight",onChange:M,min:"3",max:"150",value:j.weight,onKeyUp:e=>{if(g({...m,[e.target.name]:""}),"weight"===e.target.name&&(e.target.value<3||e.target.value>150)){const e="Body weight must not be greater than 150 and less than 3";z({...H,weight:e})}else z({...H,weight:""})},style:{border:"1px solid #014D88",borderRadius:"0.25rem",borderTopRightRadius:"0",borderBottomRightRadius:"0"},disabled:s}),Object(se.jsx)(Ye.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},children:"kg"})]}),""!==H.bodyWeight?Object(se.jsx)("span",{className:r.error,children:H.bodyWeight}):"",""!==m.weight?Object(se.jsx)("span",{className:r.error,children:m.weight}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{children:["Height ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Fe.a,{children:[Object(se.jsx)(Ye.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem",borderTopLeftRadius:"0.25rem",borderBottomLeftRadius:"0.25rem"},children:"cm"}),Object(se.jsx)(Le.a,{type:"number",name:"height",id:"height",onChange:M,value:j.height,min:"48.26",max:"216.408",disabled:s,onKeyUp:e=>{if(g({...m,[e.target.name]:""}),"height"===e.target.name&&(e.target.value<48.26||e.target.value>216.408)){const e="Height cannot be greater than 216.408 and less than 48.26";z({...H,height:e})}else z({...H,height:""})},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(se.jsx)(Ye.a,{addonType:"append",style:{backgroundColor:"#992E62",color:"#fff",border:"1px solid #992E62",borderRadius:"0rem",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},children:""!==j.height?(j.height/100).toFixed(2)+"m":"m"})]}),""!==H.height?Object(se.jsx)("span",{className:r.error,children:H.height}):"",""!==m.height?Object(se.jsx)("span",{className:r.error,children:m.height}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 mt-2 col-md-4",children:""!==j.weight&&""!==j.height&&Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:" "}),Object(se.jsx)(Fe.a,{children:Object(se.jsxs)(Ye.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:["BMI :"," ",(j.weight/(j.height/100*(j.height/100))).toFixed(2)]})})]})}),("Female"===e.patientObj.gender||"female"===e.patientObj.gender||"FEMALE"===e.patientObj.gender)&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"",children:"Pregnancy Status"}),Object(se.jsxs)(Le.a,{type:"select",name:"pregnant",id:"pregnant",onChange:M,value:j.pregnant,disabled:s,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(se.jsx)("option",{value:""}),v.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]})]})}),"PREGANACY_STATUS_BREASTFEEDING"===j.pregnant&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"",children:"Breast Feeding"}),Object(se.jsxs)(Le.a,{type:"select",name:"breastFeeding",id:"breastFeeding",onChange:M,value:j.breastFeeding,disabled:s,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"Yes",children:" Yes"}),Object(se.jsx)("option",{value:"No",children:" No"})]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"",children:"History of drug Allergies"}),Object(se.jsxs)(Le.a,{type:"select",name:"drugAllergies",id:"drugAllergies",onChange:M,value:j.drugAllergies,disabled:s,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:"Yes"}),Object(se.jsx)("option",{value:"false",children:"No"})]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"urinalysisResult",children:"Urinalysis Result"}),Object(se.jsxs)(Le.a,{type:"select",name:"urinalysisResult",id:"urinalysisResult",onChange:M,value:j.urinalysisResult,disabled:s,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),R.map((e=>Object(se.jsx)("option",{value:e.display,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"historyOfDrugToDrugInteraction",children:"History of PrEP drug interactions"}),Object(se.jsxs)(Le.a,{className:"form-control",type:"select",name:"historyOfDrugToDrugInteraction",id:"historyOfDrugToDrugInteraction",value:j.historyOfDrugToDrugInteraction,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:" Select "}),l.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==m.historyOfDrugToDrugInteraction?Object(se.jsx)("span",{className:r.error,children:m.historyOfDrugToDrugInteraction}):""]})}),Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"liverFunctionTestResults",children:["Liver Function Tests Result",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(tt,{objValues:j,handleInputChange:e=>{const{name:t,value:r}=e.target;b((e=>({...e,[t]:r})))},liverFunctionTestResult:I,disabledField:s}),""!==m.liverFunctionTestResults?Object(se.jsx)("span",{className:r.error,children:m.liverFunctionTestResults}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-8",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"dateLiverFunctionTestResults",children:["Date of Liver Function Tests Result"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(Le.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateLiverFunctionTestResults",id:"dateLiverFunctionTestResults",max:te()(new Date).format("YYYY-MM-DD"),value:j.dateLiverFunctionTestResults,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s}),""!==m.dateLiverFunctionTestResults?Object(se.jsx)("span",{className:r.error,children:m.dateLiverFunctionTestResults}):""]})})]}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"",children:["Referred ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Le.a,{type:"select",name:"referred",id:"referred",onChange:M,value:j.referred,disabled:s,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"true",children:" Yes"}),Object(se.jsx)("option",{value:"false",children:" No"})]}),""!==m.referred?Object(se.jsx)("span",{className:r.error,children:m.referred}):""]})}),"true"===j.referred&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"datereferred",children:"Date referred"}),Object(se.jsx)(Le.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"datereferred",id:"datereferred",onChange:M,value:j.datereferred,min:y&&y.dateEnrolled?y.dateEnrolled:"",style:{border:"1px solid #014D88",borderRadius:"0.25rem"},max:te()(new Date).format("YYYY-MM-DD"),disabled:s}),""!==m.datereferred?Object(se.jsx)("span",{className:r.error,children:m.datereferred}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"prepType",children:["Prep Type At Start ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Le.a,{type:"select",name:"prepType",id:"prepType",style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:e=>{b({...j,regimenId:"",prepType:e.target.value}),"PREP_TYPE_OTHERS"===e.target.value||"PREP_TYPE_ED_PREP"===e.target.value?A():p.a.get(`${O}prep-regimen/prepType?prepType=${e.target.value}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{o(e.data)})).catch((e=>{})),g({...m,[e.target.name]:""})},value:j.prepType,children:[Object(se.jsx)("option",{value:"",children:"Select Prep Type"}),D.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==m.prepType?Object(se.jsx)("span",{className:r.error,children:m.prepType}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"regimenId",children:["PrEP Regimen ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Le.a,{type:"select",name:"regimenId",id:"regimenId",onChange:M,value:j.regimenId,disabled:s,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(se.jsx)("option",{value:"",children:" Select"}),n.map((e=>Object(se.jsx)("option",{value:e.id,children:e.regimen},e.id)))]}),""!==m.regimenId?Object(se.jsx)("span",{className:r.error,children:m.regimenId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"",children:["Prep Distribution Setting"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Le.a,{type:"select",name:"prepDistributionSetting",id:"prepDistributionSetting",onChange:M,value:j.prepDistributionSetting,disabled:s,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(se.jsx)("option",{value:""}),S.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.code)))]}),""!==m.prepDistributionSetting?Object(se.jsx)("span",{className:r.error,children:m.prepDistributionSetting}):""]})}),Object(se.jsx)("div",{className:" mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Duration of Refill (Day[s])"}),Object(se.jsx)(Le.a,{type:"number",name:"monthsOfRefill",id:"monthsOfRefill",value:j.monthsOfRefill,min:0,onChange:M,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s})]})})]}),h?Object(se.jsx)(Ge.a,{}):"",Object(se.jsx)("br",{}),e.activeContent&&e.activeContent.actionType?Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(J.a,{type:"submit",variant:"contained",color:"primary",hidden:s,className:r.button,startIcon:Object(se.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:W,disabled:h,children:h?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(J.a,{type:"submit",variant:"contained",color:"primary",className:r.button,startIcon:Object(se.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:W,disabled:h,children:h?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})]})})})})},bt=r(200),ht=r.n(bt);const pt=Object(He.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var ut=e=>{const t=e.patientObj,r=pt(),[s,i]=Object(a.useState)(!1),[n,o]=Object(a.useState)({dateInterruption:"",why:"",interruptionType:"",dateRestartPlacedBackMedication:"",personId:t.personId,causeOfDeath:"",dateClientDied:"",dateClientReferredOut:"",facilityReferredTo:"",interruptionDate:"",interruptionReason:"",sourceOfDeathInfo:"",dateSeroconverted:"",reasonStopped:"",reasonStoppedOthers:"",reasonForPrepDiscontinuation:""}),[l,d]=Object(a.useState)(!1),[j,b]=Object(a.useState)({}),[h,u]=Object(a.useState)([]),[m,g]=Object(a.useState)([]),[v,f]=Object(a.useState)([]),[y,N]=Object(a.useState)();Object(a.useEffect)((()=>{R(),D(),S(),C(),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(T(e.activeContent.id),i("view"===e.activeContent.actionType))}),[]);const S=()=>{p.a.get(`${O}prep/enrollment/open/patients/${e.patientObj.personId}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{N(e.data)})).catch((e=>{}))},T=t=>{p.a.get(`${O}prep-interruption/${e.activeContent.id}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{o(e.data)})).catch((e=>{}))},R=()=>{p.a.get(`${O}application-codesets/v2/PREP_STATUS`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{u(e.data)})).catch((e=>{}))},C=()=>{p.a.get(`${O}application-codesets/v2/CAUSE_DEATH`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{f(e.data)})).catch((e=>{}))},D=()=>{p.a.get(`${O}application-codesets/v2/PREP_STATUS_STOPPED_REASON`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{g(e.data)})).catch((e=>{}))},P=e=>{b({...j,[e.target.name]:""}),"interruptionType"===e.target.name&&"PREP_STATUS_STOPPED"!==e.target.value&&(n.reasonStopped="",n.reasonStoppedOthers="",o({...n,reasonStopped:""}),o({...n,reasonStoppedOthers:""}),o({...n,[e.target.name]:e.target.value})),"interruptionType"===e.target.name&&"PREP_STATUS_DEAD"!==e.target.value&&(n.causeOfDeath="",n.sourceOfDeathInfo="",n.dateClientDied="",o({...n,causeOfDeath:""}),o({...n,sourceOfDeathInfo:""}),o({...n,dateClientDied:""}),o({...n,[e.target.name]:e.target.value})),"interruptionType"===e.target.name&&"PREP_STATUS_RESTART"!==e.target.value&&(n.dateRestartPlacedBackMedication="",o({...n,dateRestartPlacedBackMedication:""}),o({...n,[e.target.name]:e.target.value})),"interruptionType"===e.target.name&&"PREP_STATUS_TRANSFER_OUT"!==e.target.value&&(n.dateClientReferredOut="",n.facilityReferredTo="",o({...n,facilityReferredTo:""}),o({...n,dateClientReferredOut:""}),o({...n,[e.target.name]:e.target.value})),"interruptionType"===e.target.name&&"PREP_STATUS_SEROCONVERTED"!==e.target.value&&(n.linkToArt="",n.dateSeroconverted="",o({...n,dateSeroconverted:""}),o({...n,linkToArt:""}),o({...n,[e.target.name]:e.target.value})),o({...n,[e.target.name]:e.target.value})};function I(e){return e.toLowerCase().includes("discontinued")}return Object(a.useEffect)((()=>console.log("temp: ",j))),Object(a.useEffect)((()=>console.log("objValues: ",n))),Object(se.jsx)("div",{children:Object(se.jsx)(lt.a,{className:r.root,children:Object(se.jsx)(Ue.a,{children:Object(se.jsxs)("form",{children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("h2",{children:"PrEP Client Tracking & Discontinuations/Interruptions"}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"uniqueId",children:["PrEP Interruptions ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Le.a,{type:"select",name:"interruptionType",id:"interruptionType",onChange:P,value:n.interruptionType,required:!0,style:{border:"1px solid #014D88"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),h.filter((e=>743!==(null===e||void 0===e?void 0:e.id))).map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id))),Object(se.jsx)("option",{value:"PREP_INTERRUPTIONS_DISCONTINUED_ORAL_PREP",children:"Discontinued Oral PrEP"}),Object(se.jsx)("option",{value:"PREP_INTERRUPTIONS_DISCONTINUED_CABLA",children:"Discontinued CAB-LA"})]}),""!==j.interruptionType?Object(se.jsx)("span",{className:r.error,children:j.interruptionType}):""]})}),("PREP_STATUS_ADVERSE_DRUG_REACTION"===n.interruptionType||"PREP_STATUS_STOPPED"===n.interruptionType||"PREP_STATUS_LOSS_TO_FOLLOW_UP"===n.interruptionType)&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"uniqueId",children:["Date of Interruption"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(Le.a,{type:"date",onKeyDown:e=>{e.preventDefault()},name:"interruptionDate",id:"interruptionDate",min:y&&y.dateEnrolled?y.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),onChange:P,value:n.interruptionDate,required:!0}),""!==j.interruptionDate?Object(se.jsx)("span",{className:r.error,children:j.interruptionDate}):""]})}),"PREP_STATUS_STOPPED"===n.interruptionType&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"uniqueId",children:"Reason Stopped "}),Object(se.jsxs)(Le.a,{type:"select",name:"reasonStopped",id:"reasonStopped",max:te()(new Date).format("YYYY-MM-DD"),onChange:P,value:n.reasonStopped,children:[Object(se.jsx)("option",{value:"",children:"Select"}),m.map((e=>Object(se.jsx)("option",{value:e.display,children:e.display},e.id)))]}),""!==j.reasonStopped?Object(se.jsx)("span",{className:r.error,children:j.reasonStopped}):""]})}),"Others (Pls specify)"===n.reasonStopped&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"uniqueId",children:"Other Reason Stopped "}),Object(se.jsx)(Le.a,{type:"text",name:"reasonStoppedOthers",id:"reasonStoppedOthers",max:te()(new Date).format("YYYY-MM-DD"),onChange:P,value:n.reasonStoppedOthers}),""!==j.reasonStoppedOther?Object(se.jsx)("span",{className:r.error,children:j.reasonStopped}):""]})})]}),"PREP_STATUS_TRANSFER_OUT"===n.interruptionType&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"uniqueId",children:"Date of client referred out "}),Object(se.jsx)(Le.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateClientReferredOut",id:"dateClientReferredOut",min:y&&y.dateEnrolled?y.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),onChange:P,value:n.dateClientReferredOut,required:!0}),""!==j.dateClientReferredOut?Object(se.jsx)("span",{className:r.error,children:j.dateClientReferredOut}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"uniqueId",children:"Facility referred to "}),Object(se.jsx)(Le.a,{type:"text",name:"facilityReferredTo",id:"facilityReferredTo",max:te()(new Date).format("YYYY-MM-DD"),onChange:P,value:n.facilityReferredTo,required:!0}),""!==j.facilityReferredTo?Object(se.jsx)("span",{className:r.error,children:j.facilityReferredTo}):""]})})]}),"PREP_STATUS_DEAD"===n.interruptionType&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"uniqueId",children:"Date of client died "}),Object(se.jsx)(Le.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateClientDied",id:"dateClientDied",min:y&&y.dateEnrolled?y.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),onChange:P,value:n.dateClientDied,required:!0}),""!==j.dateClientDied?Object(se.jsx)("span",{className:r.error,children:j.dateClientDied}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"uniqueId",children:"Cause of death"}),Object(se.jsxs)(Le.a,{type:"select",name:"causeOfDeath",id:"causeOfDeath",min:y&&y.dateEnrolled?y.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),onChange:P,value:n.causeOfDeath,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select"}),v.map((e=>Object(se.jsx)("option",{value:e.display,children:e.display},e.id)))]}),""!==j.causeOfDeath?Object(se.jsx)("span",{className:r.error,children:j.causeOfDeath}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"uniqueId",children:"Source of death information "}),Object(se.jsx)(Le.a,{type:"text",name:"sourceOfDeathInfo",id:"sourceOfDeathInfo",max:te()(new Date).format("YYYY-MM-DD"),onChange:P,value:n.sourceOfDeathInfo,required:!0}),""!==j.sourceOfDeathInfo?Object(se.jsx)("span",{className:r.error,children:j.sourceOfDeathInfo}):""]})})]}),"PREP_STATUS_RESTART"===n.interruptionType&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Date of restart if placed back on medication"}),Object(se.jsx)(Le.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateRestartPlacedBackMedication",id:"dateRestartPlacedBackMedication",min:y&&y.dateEnrolled?y.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),value:n.dateRestartPlacedBackMedication,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==j.dateRestartPlacedBackMedication?Object(se.jsx)("span",{className:r.error,children:j.dateRestartPlacedBackMedication}):""]})}),"PREP_STATUS_SEROCONVERTED"===n.interruptionType&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"uniqueId",children:"Date Seroconverted "}),Object(se.jsx)(Le.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateSeroconverted",id:"dateSeroconverted",min:y&&y.dateEnrolled?y.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),onChange:P,value:n.dateSeroconverted,required:!0}),""!==j.dateSeroconverted?Object(se.jsx)("span",{className:r.error,children:j.dateSeroconverted}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Link to ART"}),Object(se.jsxs)(Le.a,{type:"select",name:"linkToArt",id:"linkToArt",onChange:P,value:n.linkToArt,children:[Object(se.jsx)("option",{value:"",children:" Select"}),Object(se.jsx)("option",{value:"true",children:"Yes "}),Object(se.jsx)("option",{value:"false",children:" No"})]}),""!==j.linkToArt?Object(se.jsx)("span",{className:r.error,children:j.linkToArt}):""]})}),"true"===n.linkToArt&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Date link to ART"}),Object(se.jsx)(Le.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateLinkToArt",id:"dateLinkToArt",min:y&&y.dateEnrolled?y.dateEnrolled:"",max:te()(new Date).format("YYYY-MM-DD"),value:n.dateLinkToArt,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==j.dateLinkToArt?Object(se.jsx)("span",{className:r.error,children:j.dateLinkToArt}):""]})})]}),I(n.interruptionType)?Object(se.jsxs)("div",{className:"form-group mb-3 col-md-6",children:[Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Reason for discontinuation"}),Object(se.jsx)("span",{style:{color:"red"},children:" *"}),Object(se.jsxs)(Le.a,{type:"select",name:"reasonForPrepDiscontinuation",id:"reasonForPrepDiscontinuation",value:n.reasonForPrepDiscontinuation,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"PREP_INTERRUPTIONS_REASON_RISK_REDUCTION",children:"Risk reduction"}),Object(se.jsxs)("option",{value:"PREP_INTERRUPTIONS_REASON_SEVERE_ADVERSE_EVENT",children:[" ","Severe adverse event"]})]})]}),""!==j.reasonForPrepDiscontinuation?Object(se.jsx)("span",{className:r.error,children:j.reasonForPrepDiscontinuation}):""]}):Object(se.jsxs)("div",{className:"form-group mb-3 col-md-6",children:[Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Reason for PrEP Interruption"}),Object(se.jsx)("span",{style:{color:"red"},children:" *"}),Object(se.jsxs)(Le.a,{type:"select",name:"interruptionReason",id:"interruptionReason",value:n.interruptionReason,onChange:P,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,children:[Object(se.jsx)("option",{value:"",children:"Select"}),Object(se.jsx)("option",{value:"A",children:"Treatment Stop"}),Object(se.jsx)("option",{value:"B",children:"Death"}),Object(se.jsx)("option",{value:"C",children:"Self-transfer"}),Object(se.jsx)("option",{value:"C",children:"Transfer Out"})]})]}),""!==j.interruptionReason?Object(se.jsx)("span",{className:r.error,children:j.interruptionReason}):""]})]}),l?Object(se.jsx)(Ge.a,{}):"",Object(se.jsx)("br",{}),Object(se.jsx)(J.a,{type:"submit",variant:"contained",color:"primary",className:r.button,startIcon:Object(se.jsx)(Me.a,{}),onClick:t=>{t.preventDefault(),""===n.interruptionDate&&""!==n.dateSeroconverted?n.interruptionDate=n.dateSeroconverted:""===n.interruptionDate&&""!==n.dateRestartPlacedBackMedication?n.interruptionDate=n.dateRestartPlacedBackMedication:""===n.interruptionDate&&""!==n.dateClientReferredOut?n.interruptionDate=n.dateClientReferredOut:""===n.interruptionDate&&""!==n.dateClientDied&&(n.interruptionDate=n.dateClientDied),(()=>{let e={...j};return I(n.interruptionType)&&!n.reasonForPrepDiscontinuation&&(e.reasonForPrepDiscontinuation="This field is required"),e.interruptionType=n.interruptionType?"":"This field is required",b({...e}),Object.values(e).every((e=>""==e))})()&&(d(!0),e.activeContent&&"update"===e.activeContent.actionType?p.a.put(`${O}prep-interruption/${e.activeContent.id}`,n,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{d(!1),c.b.success("Record save successful"),e.PatientObject(),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{if(d(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror?c.b.error(e.response.data.apierror.message,{position:c.b.POSITION.BOTTOM_CENTER}):c.b.error(t,{position:c.b.POSITION.BOTTOM_CENTER})}else c.b.error("Something went wrong, please try again...",{position:c.b.POSITION.BOTTOM_CENTER})})):p.a.post(`${O}prep/interruption`,n,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{console.log("response: ",null===t||void 0===t?void 0:t.data);const r=((e,t)=>{var r;console.log(t,e);const a=null===e||void 0===e||null===(r=e.interruptionType)||void 0===r?void 0:r.toLowerCase();return null===t||void 0===t?void 0:t.find((e=>{var t;return a.includes(null===e||void 0===e||null===(t=e.display)||void 0===t?void 0:t.replace(/\s/g,"_").toLowerCase())}))})(t.data,h);d(!1),c.b.success("Record save successful"),e.PatientObject(),e.setActiveContent({...e.activeContent,route:"recent-history",obj:{newStatus:r}})})).catch((e=>{if(d(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror?c.b.error(e.response.data.apierror.message,{position:c.b.POSITION.BOTTOM_CENTER}):c.b.error(t,{position:c.b.POSITION.BOTTOM_CENTER})}else c.b.error("Something went wrong, please try again...",{position:c.b.POSITION.BOTTOM_CENTER})})))},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:l?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(se.jsx)(J.a,{variant:"contained",className:r.button,startIcon:Object(se.jsx)(ht.a,{}),onClick:e.toggle,style:{backgroundColor:"#992E62"},children:Object(se.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})})};r(793);const mt=Object(He.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}})));var Ot=e=>{const t=e.patientObj;Object(o.useHistory)();const r=mt(),[s,i]=Object(a.useState)({id:"",uniqueId:"",dateOfRegistration:"",entryPointId:"",facilityName:"",statusAtRegistrationId:"",dateConfirmedHiv:"",sourceOfReferrer:"",enrollmentSettingId:"",pregnancyStatusId:"",dateOfLpm:"",tbStatusId:"",targetGroupId:"",ovc_enrolled:"",ovcNumber:""}),[n,l]=Object(a.useState)(!1),[d,j]=Object(a.useState)({}),[b,h]=Object(a.useState)([]),[u,m]=Object(a.useState)([]),[g,v]=Object(a.useState)(!1),[f,y]=Object(a.useState)(!1);Object(a.useEffect)((()=>{}),[]);const N=e=>{i({...s,[e.target.name]:e.target.value}),"entryPointId"===e.target.name&&("21"===e.target.value?v(!0):v(!1))};return Object(se.jsx)("div",{children:Object(se.jsx)(lt.a,{children:Object(se.jsx)(Ue.a,{children:Object(se.jsxs)("form",{children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("h2",{children:"PrEP Visit"}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"uniqueId",children:"Duration on PErp "}),Object(se.jsx)(Le.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:N,value:s.uniqueId,required:!0})]})})]}),Object(se.jsx)("hr",{}),Object(se.jsx)("div",{className:"row",children:Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Noted Side Effects"}),Object(se.jsxs)(Le.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:N,value:s.entryPointId,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select "}),b.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id))),""!==d.entryPointId?Object(se.jsx)("span",{className:r.error,children:d.entryPointId}):""]})]})})}),Object(se.jsx)("hr",{}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"entryPointId",children:"HTS Result"}),Object(se.jsxs)(Le.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:N,value:s.entryPointId,required:!0,children:[Object(se.jsx)("option",{value:"",children:" "}),b.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id))),""!==d.entryPointId?Object(se.jsx)("span",{className:r.error,children:d.entryPointId}):""]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"entryPointId",children:"Risk Reduction Plan"}),Object(se.jsxs)(Le.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:N,value:s.entryPointId,required:!0,children:[Object(se.jsx)("option",{value:"",children:" "}),b.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id))),""!==d.entryPointId?Object(se.jsx)("span",{className:r.error,children:d.entryPointId}):""]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"entryPointId",children:"Syndromic STI Screening"}),Object(se.jsxs)(Le.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:N,value:s.entryPointId,required:!0,children:[Object(se.jsx)("option",{value:"",children:" "}),b.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id))),""!==d.entryPointId?Object(se.jsx)("span",{className:r.error,children:d.entryPointId}):""]})]})})]}),Object(se.jsx)("hr",{}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("h3",{children:"PrEP Drugs"}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Regimen"}),Object(se.jsxs)(Le.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:N,value:s.statusAtRegistrationId,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select "}),u.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id))),""!==d.statusAtRegistrationId?Object(se.jsx)("span",{className:r.error,children:d.statusAtRegistrationId}):""]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Level of Adherence"}),Object(se.jsxs)(Le.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:N,value:s.statusAtRegistrationId,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select "}),u.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Why Poor/Fair Adherence?"}),Object(se.jsxs)(Le.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:N,value:s.statusAtRegistrationId,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select "}),u.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id))),""!==d.statusAtRegistrationId?Object(se.jsx)("span",{className:r.error,children:d.statusAtRegistrationId}):""]})]})})]}),n?Object(se.jsx)(Ge.a,{}):"",Object(se.jsx)("br",{}),Object(se.jsx)(J.a,{type:"submit",variant:"contained",color:"primary",className:r.button,startIcon:Object(se.jsx)(Me.a,{}),onClick:r=>{r.preventDefault(),s.personId=t.id,t.enrolled=!0,delete s.tableData,l(!0),p.a.post(`${O}hiv/enrollment`,s,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{l(!1),c.b.success("Record save successful"),e.toggle(),e.patientObj.enrolled=!0,e.PatientCurrentStatus()})).catch((e=>{l(!1),c.b.error("Something went wrong")}))},children:n?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(se.jsx)(J.a,{variant:"contained",className:r.button,startIcon:Object(se.jsx)(ht.a,{}),onClick:e.toggle,children:Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})})},xt=r(278),gt=r.n(xt);const vt=Object(He.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var ft=e=>{const[t,r]=Object(a.useState)([]),s=vt(),[i,n]=Object(a.useState)({dateEnrolled:"",dateReferred:"",extra:{},personId:0,prepEligibilityUuid:"",riskType:"",supporterName:"",supporterPhone:"",supporterRelationshipType:"",uniqueId:"",hivTestingPoint:"",dateOfLastHivNegativeTest:"",targetGroup:""}),[o,l]=Object(a.useState)(!1),[d,j]=Object(a.useState)({}),[b,h]=Object(a.useState)([]),[u,m]=Object(a.useState)([]),[g,v]=Object(a.useState)(),[f,y]=Object(a.useState)(!1),[N,S]=Object(a.useState)("");Object(a.useEffect)((()=>{D(),R(),C(),T(),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(P(e.activeContent.id),y("view"===e.activeContent.actionType))}),[]);const T=()=>{p.a.get(`${O}application-codesets/v2/HTS_ENTRY_POINT`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{r(e.data)})).catch((e=>{}))},R=()=>{p.a.get(`${O}application-codesets/v2/RELATIONSHIP`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{m(e.data)})).catch((e=>{}))},C=()=>{p.a.get(`${O}application-codesets/v2/PREP_RISK_TYPE`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{h(e.data)})).catch((e=>{}))},D=()=>{p.a.get(`${O}prep/eligibility/open/patients/${e.patientObj.personId}`,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{v(t.data),p.a.get(`${O}hts/persons/${e.patientObj.personId}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{var t,r;S(null===(t=e.data)||void 0===t||null===(r=t.htsClientDtoList[0])||void 0===r?void 0:r.targetGroup)})).catch((e=>{}))})).catch((e=>{}))},P=t=>{p.a.get(`${O}prep/enrollment/person/${e.patientObj.personId}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{n(e.data.find((e=>e.id===t)))})).catch((e=>{}))},I=e=>{n({...i,[e.target.name]:e.target.value})},w=t=>{t.preventDefault(),(()=>{let e={...d};return e.dateEnrolled=i.dateEnrolled?"":"This field is required",e.dateReferred=i.dateReferred?"":"This field is required",e.riskType=i.riskType?"":"This field is required",e.uniqueId=i.uniqueId?"":"This field is required",j({...e}),Object.values(e).every((e=>""==e))})()?(i.personId=e.patientObj.personId,i.prepEligibilityUuid=g.uuid,i.targetGroup=N,l(!0),e.activeContent&&e.activeContent.actionType?p.a.put(`${O}prep-enrollment/${e.activeContent.id}`,i,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{l(!1),e.patientObj.prepCount="1",e.PatientObject(),c.b.success("Prep Enrollment save successful!",{position:c.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{l(!1),c.b.error("Something went wrong")})):p.a.post(`${O}prep/enrollment`,i,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{l(!1),e.patientObj.prepCount="1",c.b.success("Prep Enrollment save successful!",{position:c.b.POSITION.BOTTOM_CENTER}),e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{l(!1),c.b.error("Something went wrong")}))):c.b.error("All fields are required ",{position:c.b.POSITION.BOTTOM_CENTER})};return Object(se.jsx)("div",{children:Object(se.jsx)(lt.a,{children:Object(se.jsx)(Ue.a,{children:Object(se.jsxs)("form",{children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("h2",{children:"PrEP Enrollment "}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"uniqueId",children:["Unique Client's ID ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(se.jsx)(Le.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:I,value:i.uniqueId,disabled:f,style:{border:"1px solid #014D88"}}),""!==d.uniqueId?Object(se.jsx)("span",{className:s.error,children:d.uniqueId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"",children:"Partner ANC/Unique ART No "}),Object(se.jsx)(Le.a,{type:"text",name:"ancUniqueArtNo",id:"ancUniqueArtNo",onChange:I,value:i.ancUniqueArtNo,disabled:f,style:{border:"1px solid #014D88"}}),""!==d.ancUniqueArtNo?Object(se.jsx)("span",{className:s.error,children:d.ancUniqueArtNo}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{children:["Date enrolled in PrEP"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsx)(Le.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateEnrolled",id:"dateEnrolled",value:i.dateEnrolled,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},min:g&&g.visitDate?g.visitDate:"",max:te()(new Date).format("YYYY-MM-DD"),disabled:f}),""!==d.dateEnrolled?Object(se.jsx)("span",{className:s.error,children:d.dateEnrolled}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{for:"entryPointId",children:["PrEP Risk Type ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(se.jsxs)(Le.a,{type:"select",name:"riskType",id:"riskType",onChange:I,value:i.riskType,disabled:f,style:{border:"1px solid #014D88"},children:[Object(se.jsx)("option",{value:"",children:" Select"}),b.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==d.riskType?Object(se.jsx)("span",{className:s.error,children:d.riskType}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"HIV Testing Point "}),Object(se.jsxs)(Le.a,{type:"select",name:"hivTestingPoint",id:"hivTestingPoint",onChange:I,value:i.hivTestingPoint,disabled:f,style:{border:"1px solid #014D88"},children:[Object(se.jsx)("option",{value:"",children:" Select"}),t.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Date of last HIV Negative test"}),Object(se.jsx)(Le.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateOfLastHivNegativeTest",id:"dateOfLastHivNegativeTest",value:i.dateOfLastHivNegativeTest,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},max:te()(new Date).format("YYYY-MM-DD"),disabled:f}),""!==d.dateOfLastHivNegativeTest?Object(se.jsx)("span",{className:s.error,children:d.dateOfLastHivNegativeTest}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsxs)(_e.a,{children:["Date Referred for PrEP"," ",Object(se.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(se.jsx)(Le.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateReferred",id:"dateReferred",value:i.dateReferred,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},min:g&&g.visitDate?g.visitDate:"",max:te()(new Date).format("YYYY-MM-DD"),disabled:f}),""!==d.dateReferred?Object(se.jsx)("span",{className:s.error,children:d.dateReferred}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"PrEP Supporter "}),Object(se.jsx)(Le.a,{className:"form-control",type:"text",name:"supporterName",id:"supporterName",value:i.supporterName,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.25rem !important"},disabled:f}),""!==d.supporterName?Object(se.jsx)("span",{className:s.error,children:d.supporterName}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Relationship "}),Object(se.jsxs)(Le.a,{className:"form-control",type:"select",name:"supporterRelationshipType",id:"supporterRelationshipType",value:i.supporterRelationshipType,onChange:I,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:f,children:[Object(se.jsx)("option",{value:"",children:" Select"}),u.map((e=>Object(se.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==d.supporterRelationshipType?Object(se.jsx)("span",{className:s.error,children:d.supporterRelationshipType}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"PrEP Supporter Phone Number"}),Object(se.jsx)(gt.a,{containerStyle:{width:"100%",border:"1px solid #014D88",borderRadius:"0.25rem !important"},style:{borderRadius:"0.25rem !important"},inputStyle:{width:"100%",borderRadius:"0.25rem !important"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"supporterPhone",id:"supporterPhone",masks:{ng:"...-...-....",at:"(....) ...-...."},value:i.supporterPhone,onChange:e=>{((e,t)=>{n({...i,[t]:e.slice(0,10)})})(e,"supporterPhone")},disabled:f}),""!==d.supporterPhone?Object(se.jsx)("span",{className:s.error,children:d.supporterPhone}):""]})})]}),o?Object(se.jsx)(Ge.a,{}):"",Object(se.jsx)("br",{}),e.activeContent&&"update"===e.activeContent.actionType?Object(se.jsx)(se.Fragment,{children:Object(se.jsx)(J.a,{type:"submit",variant:"contained",color:"primary",hidden:f,className:s.button,startIcon:Object(se.jsx)(Me.a,{}),style:{backgroundColor:"#014d88",border:"1px solid #014D88"},onClick:w,disabled:o,children:o?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(se.jsx)(se.Fragment,{children:!f&&Object(se.jsx)(J.a,{type:"submit",variant:"contained",color:"primary",className:s.button,startIcon:Object(se.jsx)(Me.a,{}),style:{backgroundColor:"#014d88"},onClick:w,disabled:o,children:o?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})]})})})})},yt=r(505),Nt=r.n(yt),St=r(1056),Tt=r(213),Rt=r(1047),Ct=r(1057),Dt=r(1048),Pt=r.p+"static/media/fingerprintimage.73ff98ea.png",It=r(668),wt=r.n(It),At=r(92),Et=r.n(At);const Bt=Object(He.a)((e=>({root:{width:"100%","& .dropdown-toggle::after, .dropleft .dropdown-toggle::before, .dropright .dropdown-toggle::before, .dropup .dropdown-toggle::after":{fontFamily:"FontAwesome",border:"0",verticalAlign:"middle",marginLeft:".25em",lineHeight:"1"},"& .dropdown-menu .dropdown-item":{fontSize:"14px",color:"#014d88",padding:"0.3rem 1.5rem",fontWeight:"bold"},"& .mt-4":{marginTop:"28px !important"},"& .form-control":{color:"#992E62"},"& .form-control:focus":{color:"#014d88"},"& .sharp ":{"min-width":"35px",padding:"5px",height:"35px","min-height":"35px"}},card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"}})));let kt="";var $t=function(e){const t=Bt();let r=Object(o.useHistory)();r.location&&r.location.state&&r.location.state.permissions;const[i,n]=Object(a.useState)([]),[l,d]=Object(a.useState)({biometricType:"FINGERPRINT",patientId:e.patientId,templateType:"",device:""}),[j,b]=Object(a.useState)([]),[h,u]=Object(a.useState)([]),[m,v]=s.a.useState(!1),[f,y]=Object(a.useState)(!1),[N,S]=s.a.useState(!1),[T,R]=s.a.useState(!1),[C,D]=s.a.useState(!1),[P,I]=Object(a.useState)({}),[w,A]=Object(a.useState)([]),[E,B]=Object(a.useState)([]),[k,$]=Object(a.useState)([]),_=(C&&(Tt.a[500],Tt.a[700]),async()=>{const t=await p.a.get(`${O}application-codesets/v2/BIOMETRIC_CAPTURE_FINGERS`,{headers:{Authorization:`Bearer ${x}`}});p.a.get(`${O}biometrics/person/${e.patientId}`,{headers:{Authorization:`Bearer ${x}`}}).then((async e=>{if(e.data.length>0){A(e.data),y(!0);let r=Et.a.uniq(Et.a.map(e.data,"templateType"));$(r);let a=Et.a.map(t.data,(e=>Et.a.extend({},e,{captured:r.includes(e.display)})));b(a)}else{let e=Et.a.map(t.data,(e=>Et.a.extend({},e,{captured:!1})));b(e)}})).catch((async e=>{console.log("getPersonBiometrics error"),console.log(e);let r=Et.a.map(t.data,(e=>Et.a.extend({},e,{captured:!1})));b(r),y(!0)}))}),L=()=>{p.a.post(`${O}biometrics/store-list/${e.patientId}`,e.patientId,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{console.log("cleared store")})).catch((e=>{console.log("cleared store error"),console.log(e)}))};Object(a.useEffect)((()=>{L(),_(),F()}),[]);const F=()=>{p.a.get(`${O}modules/check?moduleName=biometric`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{!0===e.data&&p.a.get(`${O}biometrics/devices`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{u(e.data),n(e.data)})).catch((e=>{console.log(e)}))})).catch((e=>{}))};return Object(se.jsx)("div",{className:t.root,children:Object(se.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(se.jsx)("div",{className:"",style:{padding:"5px",flex:"7",boxShadow:"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px",minHeight:"400px"},children:f&&w.length>0?Object(se.jsx)("div",{style:{display:"flex",width:"100%",flexWrap:"wrap"},children:w.map(((t,r)=>Object(se.jsx)("div",{style:{minHeight:"120px",padding:"5px",width:"20%"},children:Object(se.jsxs)("div",{className:"card ",style:{borderRadius:"6px"},children:[Object(se.jsxs)("div",{className:"card-header align-items-start",style:{backgroundColor:"#fff"},children:[Object(se.jsxs)("div",{children:[Object(se.jsx)("h6",{className:"fs-18 font-w500 mb-3 user-name",children:Object(se.jsx)(g.b,{to:"#",style:{color:"#014d88",fontSize:"14px",fontFamily:'"poppins",sans-serif'},children:t.templateType})}),Object(se.jsxs)("div",{className:"fs-9 text-nowrap",style:{fontSize:"10px",color:"#992E62",fontWeight:"bold",fontFamily:'"poppins",sans-serif'},children:[Object(se.jsx)("i",{className:"fa fa-calendar-o me-3","aria-hidden":"true"}),te()(t.lastModifiedDate).format("YYYY-MM-DD HH:mm")]})]}),Object(se.jsxs)(Ne.a,{className:"dropdown ms-auto",children:[Object(se.jsx)(Ne.a.Toggle,{as:"button",variant:"",drop:"up",className:"btn sharp btn-primary ",id:"tp-btn",style:{backgroundColor:"#014d88",borderColor:"#014d88",borderRadius:"5px",marginRight:"-18px",marginTop:"-10px"},children:Object(se.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"18px",height:"18px",viewBox:"0 0 24 24",version:"1.1",children:Object(se.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(se.jsx)("rect",{x:"0",y:"0",width:"24",height:"24"}),Object(se.jsx)("circle",{fill:"#ffffff",cx:"12",cy:"5",r:"2"}),Object(se.jsx)("circle",{fill:"#ffffff",cx:"12",cy:"12",r:"2"}),Object(se.jsx)("circle",{fill:"#ffffff",cx:"12",cy:"19",r:"2"})]})})}),Object(se.jsx)(Ne.a.Menu,{alignRight:!0,className:"dropdown-menu-right",children:Object(se.jsxs)(Ne.a.Item,{style:{color:"red"},onClick:()=>{return r=t.id,a=t.templateType,void p.a.delete(`${O}biometrics/${r}`,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{c.b.success(`${a} deleted successfully`),Et.a.find(j,{display:a}).captured=!1,b([...j]);let r=Et.a.reject(w,{templateType:a});A(r),L(),0===r.length&&e.updatePatientBiometricStatus(!1)})).catch((e=>{c.b.error("Something went wrong"),console.log(e)}));var r,a},children:[Object(se.jsx)(wt.a,{})," Delete"]})})]})]}),Object(se.jsx)("div",{className:"card-body p-0 pb-2",children:Object(se.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(se.jsx)("li",{className:"list-group-item",style:{height:"100px",display:"flex",justifyContent:"center"},children:Object(se.jsx)("img",{src:Pt,alt:"",style:{height:"80px"}})}),Object(se.jsxs)("li",{className:"list-group-item",children:[Object(se.jsx)(Rt.a,{variant:"info badge-xs light",className:"card-link float-end",children:"Version "}),Object(se.jsxs)("span",{className:"mb-0 title",children:["Status ",t.iso]})," :",Object(se.jsx)("span",{className:"text-black desc-text ms-2",children:Object(se.jsxs)(Rt.a,{variant:!0===t.iso?"primary badge-xs":"danger badge-xs",children:[Object(se.jsx)("i",{className:"fa fa-check-square me-2 scale4","aria-hidden":"true"})," "]})})]})]})})]})},r)))}):Object(se.jsx)(se.Fragment,{children:Object(se.jsx)("div",{className:"flex-grow-8",children:Object(se.jsx)("div",{className:"flex-grow-8",children:Object(se.jsx)(Ct.a,{severity:"info",children:Object(se.jsx)(Dt.a,{style:{height:"400px"},children:Object(se.jsx)("strong",{children:"No biometrics captured"})})})})})})}),Object(se.jsx)("div",{style:{flex:"3",padding:"5px",marginLeft:"5px",border:"1px solid rgba(99, 99, 99, 0.2)",boxShadow:"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px"},children:Object(se.jsxs)("div",{className:"col-12",children:[Object(se.jsx)(c.a,{}),Object(se.jsx)(me.a,{md:12,children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"device",style:{color:"#014d88",fontWeight:"bold",fontSize:"14px"},children:"Select Device "}),Object(se.jsxs)(Le.a,{type:"select",name:"device",id:"device",onChange:e=>{const t=e.target.value,r=i.find((e=>e.name===t));kt=null===r.url?O:r.url,d({...l,device:t}),p.a.get(`${kt}biometrics/secugen/boot?reader=${t}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{"ERROR"===e.data.errorType?c.b.error(e.data.errorName+" is not plug"):S(!0)})).catch((e=>{}))},value:l.device,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Device "}),i.map((e=>{let{id:t,name:r}=e;return Object(se.jsx)("option",{value:r,children:r},t)}))]}),""!==P.device?Object(se.jsx)("span",{className:t.error,children:P.device}):""]})}),N?Object(se.jsxs)("div",{className:"row col-12",children:[Object(se.jsx)(me.a,{md:6,children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"device",style:{color:"#014d88",fontWeight:"bold",fontSize:"14px"},children:"Select Finger"}),Object(se.jsxs)(Le.a,{type:"select",name:"templateType",id:"templateType",onChange:e=>{d({...l,[e.target.name]:e.target.value})},value:l.templateType,required:!0,children:[Object(se.jsx)("option",{value:"",children:"Select Finger "}),Et.a.filter(j,["captured",!1]).map((e=>Object(se.jsx)("option",{value:e.display,children:e.display},e.id)))]}),""!==P.templateType?Object(se.jsx)("span",{className:t.error,children:P.templateType}):""]})}),Object(se.jsx)(me.a,{md:6,children:Object(se.jsx)(J.a,{type:"button",variant:"contained",color:"primary",onClick:e=>{e.preventDefault(),(()=>{let e={...P};return e.templateType=l.templateType?"":"This field is required",e.device=l.device?"":"This field is required",I({...e}),Object.values(e).every((e=>""===e))})()&&p.a.post(`${kt}biometrics/secugen/enrollment?reader=SG_DEV_AUTO`,l,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{if(v(!0),"ERROR"===e.data.type)v(!1),R(!0),window.setTimeout((()=>{R(!1)}),5e3),c.b.error(e.data.message.ERROR);else{const t=e.data.templateType;R(!1),D(!0),window.setTimeout((()=>{D(!1),v(!1)}),5e3);let r=e.data;r.capturedBiometricsList=Et.a.uniqBy(r.capturedBiometricsList,"templateType"),B([...E,r]),Et.a.find(j,{display:t}).captured=!0,b([...j]),d({...l,templateType:""})}})).catch((e=>{}))},className:"mt-4",style:{backgroundColor:"#992E62"},startIcon:Object(se.jsx)(Nt.a,{}),children:"Capture Finger"})}),Object(se.jsx)("br",{})]}):"",Object(se.jsx)(ue.a,{children:E.length>=1?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(me.a,{md:12,style:{marginTop:"10px",paddingBottom:"20px"},children:Object(se.jsx)(St.a,{celled:!0,horizontal:!0,children:E.map((e=>Object(se.jsxs)(St.a.Item,{style:{width:"200px",height:"200px",border:"1px dotted #014d88",margin:"5px"},children:[Object(se.jsxs)(St.a.Header,{style:{paddingLeft:"0px",height:"0.5rem",display:"flex",justifyContent:"right",alignItems:"right"},children:[Object(se.jsx)(we.a,{name:"cancel",color:"red"})," "]}),Object(se.jsxs)(St.a.Content,{style:{width:"200px",height:"160px",display:"flex",justifyContent:"center",alignItems:"center"},children:[" ",Object(se.jsx)(Nt.a,{style:{color:"#992E62",fontSize:150}})]}),Object(se.jsx)(St.a.Content,{style:{width:"200px",height:"30px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"18px",color:"#014d88",fontWeight:"bold",fontFamily:'"poppins", sans-serif'},children:e.templateType})]})))})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)(me.a,{md:12,children:Object(se.jsx)(J.a,{type:"button",variant:"contained",color:"primary",onClick:t=>{if(t.preventDefault(),E.length>=1){const t=E[E.length-1];t.capturedBiometricsList=Et.a.uniqBy(t.capturedBiometricsList,"templateType"),p.a.post(`${O}biometrics/templates`,t,{headers:{Authorization:`Bearer ${x}`}}).then((t=>{c.b.success("Biometric save successful"),B([]),_(),e.patientObj.biometricStatus=!0,e.setActiveContent({...e.activeContent,route:"recent-history"})})).catch((e=>{c.b.error("Something went wrong saving biometrics"),console.log(e)}))}else c.b.error("You can't save less than 2 finger")},startIcon:Object(se.jsx)(Me.a,{}),children:"Save Capture"})})]}):""})]})})]})})};var _t=Object(le.a)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:`2px solid ${e.palette.divider}`,padding:`${e.spacing}px ${e.spacing(2)}px`},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}})))((function(e){let t=Object(o.useHistory)();const[r,s]=Object(a.useState)(""),[i,n]=Object(a.useState)({route:"recent-history",id:"",activeTab:"home",actionType:"create",obj:{}}),{classes:c}=e,l=t.location&&t.location.state?t.location.state.patientObj:{},d=t.location&&t.location.state?t.location.state.prepId:{};async function j(){p.a.get(`${O}prep/persons/${l.personId}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{s(e.data)})).catch((e=>{}))}return Object(a.useEffect)((()=>{j()}),[]),Object(se.jsxs)("div",{className:c.root,children:[Object(se.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(se.jsx)("ol",{className:"breadcrumb",children:Object(se.jsx)("li",{className:"breadcrumb-item active",children:Object(se.jsxs)("h4",{children:[" ",Object(se.jsx)(g.b,{to:"/",children:"PrEP /"})," Patient Dashboard"]})})})}),Object(se.jsx)(de.a,{children:Object(se.jsxs)(je.a,{children:[Object(se.jsx)(ge,{patientObj:l,setActiveContent:n,activeContent:i,patientDetail:r}),Object(se.jsx)(ye,{patientObj:l,setActiveContent:n,patientDetail:r}),Object(se.jsx)("br",{}),"recent-history"===i.route&&Object(se.jsx)(Pe,{patientObj:l,setActiveContent:n,activeContent:i,prepId:d}),"biometrics"===i.route&&Object(se.jsx)($t,{patientObj:l,setActiveContent:n,activeContent:i,prepId:d}),"consultation"===i.route&&Object(se.jsx)(ct,{patientObj:l,setActiveContent:n,activeContent:i,prepId:d}),"prep-commencement"===i.route&&Object(se.jsx)(jt,{patientObj:l,setActiveContent:n,activeContent:i,prepId:d,PatientObject:j}),"prep-interruptions"===i.route&&Object(se.jsx)(ut,{patientObj:l,setActiveContent:n,activeContent:i,prepId:d,PatientObject:j}),"prep-screening"===i.route&&Object(se.jsx)(rt,{patientObj:l,setActiveContent:n,activeContent:i,prepId:d,patientDetail:r,PatientObject:j}),"prep-visit"===i.route&&Object(se.jsx)(Ot,{PatientObject:j}),"prep-registration"===i.route&&Object(se.jsx)(ft,{patientObj:l,setActiveContent:n,activeContent:i,prepId:d,PatientObject:j}),"patient-history"===i.route&&Object(se.jsx)(Ee,{patientObj:l,setActiveContent:n,activeContent:i})]})})]})})),Lt=r(1049),Ft=r(506),Yt=r(212),Ht=r(317),zt=(r(944),r(941),r(1030)),Mt=r(672),Wt=r.n(Mt);r(940),r(938);Yt.b.add(Ht.a,Ht.b,Ht.c,Ht.d);const Vt=Object(He.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var qt=e=>{console.log(e);const[t,r]=Object(a.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",landmark:"",sexId:"",ninNumber:""}),[s,i]=Object(a.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}),[n,l]=Object(a.useState)((new Date).toISOString().substr(0,10).replace("T"," ")),[d,j]=Object(a.useState)([]),[b,h]=Object(a.useState)(!1),[u,m]=Object(a.useState)(!0),[v,f]=Object(a.useState)(!1),[y,N]=Object(a.useState)(null),[S,T]=Object(a.useState)([]),[R,C]=Object(a.useState)([]),[D,P]=Object(a.useState)([]),[I,w]=Object(a.useState)([]),[A,E]=Object(a.useState)([]),[B,k]=Object(a.useState)([]),[$,_]=Object(a.useState)([]),[L,F]=Object(a.useState)([]),[Y,H]=Object(a.useState)({}),[z,M]=Object(a.useState)([]),[W,V]=Object(a.useState)({person:"",hivEnrollment:""}),q=(e.location&&e.location.state&&e.location.state.user,Vt()),U=Object(o.useHistory)(),G=Object(o.useLocation)(),[K,X]=Object(a.useState)(!1),[Z,Q]=Object(a.useState)({id:"",uniqueId:"",dateOfRegistration:"",entryPointId:"",facilityName:"",statusAtRegistrationId:"",dateConfirmedHiv:"",sourceOfReferrerId:"",enrollmentSettingId:"",pregnancyStatusId:"",dateOfLpm:"",tbStatusId:"",targetGroupId:"",ovc_enrolled:"",ovcNumber:"",householdNumber:"",referredToOVCPartner:"",dateReferredToOVCPartner:"",referredFromOVCPartner:"",dateReferredFromOVCPartner:"",careEntryPointOther:""}),[te,re]=Object(a.useState)([]),[ae,ie]=Object(a.useState)([]),[ne,oe]=Object(a.useState)([]),[ce,le]=Object(a.useState)([]),[de,je]=Object(a.useState)([]),[be,pe]=Object(a.useState)([]),[ue,me]=Object(a.useState)([]),[Oe,xe]=Object(a.useState)(!1),[ge,ve]=Object(a.useState)(!1),[fe,ye]=Object(a.useState)("false"),Ne=G.state;let Se=null,Te={};Se=Ne?Ne.patientId:null,Te=Ne?Ne.patientObj:{};const[Re,Ce]=Object(a.useState)(!1),[De,Pe]=Object(a.useState)(!1);Object(a.useEffect)((()=>{if(Ie(),we(),Ae(),Ee(),Be(),ke(),Ke(),Je(),Ze(),Qe(),et(),tt(),rt(),Fe(),Te){const r=Te.contact?Te.contact:[];let a=[];r.contact&&r.contact.length>0&&r.contact.map((e=>{const t={address:e.address.line[0],phone:e.contactPoint.value,firstName:e.firstName,email:"",relationshipId:e.relationshipId,lastName:e.surname,middleName:e.otherName};a.push(t)}));j(a);const s=Te.identifier,i=Te.address,n=Te.contactPoint,o=s.identifier.find((e=>"HospitalNumber"==e.type)),c=n.contactPoint.find((e=>"phone"==e.type)),l=n.contactPoint.find((e=>"email"==e.type)),d=n.contactPoint.find((e=>"altphone"==e.type)),b=i&&i.address&&i.address.length>0?i.address[0]:null;t.dob=Te.dateOfBirth,t.firstName=Te.firstName,t.dateOfRegistration=Te.dateOfRegistration,t.middleName=Te.otherName,t.lastName=Te.surname,t.hospitalNumber=o?o.value:"",t.maritalStatusId=Te.maritalStatus.id,t.employmentStatusId=Te.employmentStatus.id,t.genderId=Te.gender?Te.gender.id:null,t.sexId=Te.sex,t.educationId=Te.education.id,t.phoneNumber=c&&c.value?c.value:"",t.altPhonenumber=d&&d.value?d.value:"",t.email=l&&l.value?l.value:"",t.address=b&&b.city?b.city:"",t.landmark=b.line[0],t.countryId=b.countryId,He(b.countryId),e=b.stateId,p.a.get(`${O}organisation-units/parent-organisation-units/${e}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{F(e.data)})).catch((e=>{})),t.stateId=b.stateId,t.district=b.district,Q(Te.enrollment);const h=Ye(ee(Te.dateOfBirth).format("DD-MM-YYYY"));t.age=h,X("Female"===Te.sex),t.ninNumber=Te.ninNumber}var e;t.dateOfRegistration<t.dob&&alert("Date of registration can not be earlier than date of birth")}),[Te,Se,t.dateOfRegistration]);const Ie=Object(a.useCallback)((async()=>{try{const e=await p.a.get(`${O}application-codesets/v2/SEX`,{headers:{Authorization:`Bearer ${x}`}});T(e.data)}catch(e){}}),[]),we=Object(a.useCallback)((async()=>{try{const e=await p.a.get(`${O}application-codesets/v2/MARITAL_STATUS`,{headers:{Authorization:`Bearer ${x}`}});C(e.data)}catch(e){}}),[]),Ae=Object(a.useCallback)((async()=>{try{const e=await p.a.get(`${O}application-codesets/v2/EDUCATION`,{headers:{Authorization:`Bearer ${x}`}});P(e.data)}catch(e){}}),[]),Ee=Object(a.useCallback)((async()=>{try{const e=await p.a.get(`${O}application-codesets/v2/OCCUPATION`,{headers:{Authorization:`Bearer ${x}`}});w(e.data)}catch(e){}}),[]),Be=Object(a.useCallback)((async()=>{try{const e=await p.a.get(`${O}application-codesets/v2/RELATIONSHIP`,{headers:{Authorization:`Bearer ${x}`}});E(e.data)}catch(e){}}),[]),ke=Object(a.useCallback)((async()=>{const e=await p.a.get(`${O}organisation-units/parent-organisation-units/0`,{headers:{Authorization:`Bearer ${x}`}});M(e.data)}),[]),Fe=()=>{p.a.get(`${O}organisation-units/parent-organisation-units/0`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{k(e.data)})).catch((e=>{}))},Ye=e=>{var t=new Date,r=e.split("-"),a=new Date(+r[2],r[1]-1,+r[0]),s=new Date(a),i=t.getFullYear()-s.getFullYear(),n=t.getMonth()-s.getMonth();return(n<0||0===n&&t.getDate()<s.getDate())&&i--,0===i?n+" month(s)":i};function He(e){p.a.get(`${O}organisation-units/parent-organisation-units/${e}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{_(e.data)})).catch((e=>{}))}const ze=e=>{"Actual"==e.target.value?m(!0):"Estimated"==e.target.value&&m(!1)},We=e=>{if(r({...t,[e.target.name]:e.target.value}),"sexId"===e.target.name&&"Female"===e.target.value&&X(!0),"firstName"===e.target.name&&""!==e.target.value){const a=Ue(e.target.value);r({...t,[e.target.name]:a})}if("lastName"===e.target.name&&""!==e.target.value){const s=Ue(e.target.value);r({...t,[e.target.name]:s})}if("middleName"===e.target.name&&""!==e.target.value){const i=Ue(e.target.value);r({...t,[e.target.name]:i})}if("hospitalNumber"===e.target.name&&""!==e.target.value){async function n(){const t=e.target.value;!0!==(await p.a.post(`${O}patient/exist/hospital-number`,t,{headers:{Authorization:`Bearer ${x}`,"Content-Type":"text/plain"}})).data?(Ce(!1),Q({...Z,uniqueId:e.target.value}),Pe(!0)):(Ce(!1),Pe(!0))}n()}},Ve=e=>{const t=A.find((t=>t.id==e));return t?t.display:""},qe=e=>{i({...s,[e.target.name]:e.target.value})},Ue=e=>e.replace(/[^a-z]/gi,""),Ke=()=>{p.a.get(`${O}application-codesets/v2/POINT_ENTRY`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{re(e.data)})).catch((e=>{}))},Je=()=>{p.a.get(`${O}application-codesets/v2/SOURCE_REFERRAL`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{ie(e.data)})).catch((e=>{}))},Ze=()=>{p.a.get(`${O}application-codesets/v2/HIV_STATUS_ENROL`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{oe(e.data)})).catch((e=>{}))},Qe=()=>{p.a.get(`${O}application-codesets/v2/ENROLLMENT_SETTING`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{le(e.data)})).catch((e=>{}))},et=()=>{p.a.get(`${O}application-codesets/v2/TB_STATUS`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{je(e.data)})).catch((e=>{}))},tt=()=>{p.a.get(`${O}application-codesets/v2/TARGET_GROUP`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{pe(e.data)})).catch((e=>{}))},rt=()=>{p.a.get(`${O}application-codesets/v2/PREGANACY_STATUS`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{me(e.data)})).catch((e=>{}))},at=e=>{Q({...Z,[e.target.name]:e.target.value}),"entryPointId"===e.target.name&&("21"===e.target.value?xe(!0):xe(!1)),"pregnancyStatusId"===e.target.name&&(console.log(e.target.value),"72"===e.target.value?xe(!0):xe(!1))},st=(e,a)=>{r({...t,[a]:e.slice(0,10)})},it=e=>{e.target.checked?ve(!0):ve(!1)};return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(c.a,{autoClose:3e3,hideProgressBar:!0}),Object(se.jsx)(Xe.a,{className:q.cardBottom,children:Object(se.jsxs)(zt.a,{children:[Object(se.jsx)(g.b,{to:{pathname:"/patient-history",state:{patientObj:Te}},children:Object(se.jsx)(J.a,{variant:"contained",color:"primary",className:" float-end ms-1",style:{backgroundColor:"#014d88",fontWeight:"bolder"},startIcon:Object(se.jsx)(he.a,{}),children:Object(se.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Back "})})}),Object(se.jsx)("br",{}),Object(se.jsx)("br",{}),Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(se.jsxs)(Lt.a,{children:[Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Edit User Information"})}),Object(se.jsx)("div",{className:"card-body",children:Object(se.jsxs)("div",{className:"basic-form",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"dateOfRegistration",children:"Date of Registration* "}),Object(se.jsx)(Le.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateOfRegistration",id:"dateOfRegistration",value:t.dateOfRegistration,onChange:We,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Y.dateOfRegistration1?Object(se.jsx)("span",{className:q.error,children:Y.dateOfRegistration1}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"patientId",children:"Hospital Number* "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:t.hospitalNumber,onChange:We,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:"update"!==Ne.actionType}),""!==Y.hospitalNumber?Object(se.jsx)("span",{className:q.error,children:Y.hospitalNumber}):"",""!==Y.hospitalNumber?Object(se.jsx)("span",{className:q.error,children:Y.hospitalNumber}):"",!0===Re?Object(se.jsx)("span",{className:q.error,children:"Hospital number already exist"}):"",!0===De?Object(se.jsx)("span",{className:q.success,children:"Hospital number is OK."}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"patientId",children:"EMR Number* "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"emrNumber",id:"emrNumber",disabled:"true",value:Math.floor(1094328*Math.random()),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"firstName",children:"First Names *"}),Object(se.jsx)(Le.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:t.firstName,onChange:We,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Y.firstName?Object(se.jsx)("span",{className:q.error,children:Y.firstName}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Middle Name"}),Object(se.jsx)(Le.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:t.middleName,onChange:We,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Last Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:t.lastName,onChange:We,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Y.lastName?Object(se.jsx)("span",{className:q.error,children:Y.lastName}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Sex *"}),Object(se.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:We,value:t.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),S.map(((e,t)=>Object(se.jsx)("option",{value:e.display,children:e.display},e.id)))]}),""!==Y.sexId?Object(se.jsx)("span",{className:q.error,children:Y.sexId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Date Of Birth"}),Object(se.jsx)("div",{className:"radio",children:Object(se.jsxs)("label",{children:[Object(se.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:e=>ze(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(se.jsx)("div",{className:"radio",children:Object(se.jsxs)("label",{children:[Object(se.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:e=>ze(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Date"}),Object(se.jsx)("input",{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dob",id:"dob",max:n,value:t.dob,onChange:e=>{if(e.target.value){const r=new Date,a=new Date(e.target.value);let s=r.getFullYear()-a.getFullYear();const i=r.getMonth()-a.getMonth();(i<0||0===i&&r.getDate()<a.getDate())&&s--,t.age=s}else r({...t,age:""});r({...t,dob:e.target.value})},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Age"}),Object(se.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:t.age,disabled:u,onChange:e=>{if(!u&&e.target.value){const r=new Date;r.setDate(15),r.setMonth(5);const a=ee(r.toISOString()).add(-1*e.target.value,"years");t.dob=ee(a).format("YYYY-MM-DD")}r({...t,age:e.target.value})},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Marital Status"}),Object(se.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:We,value:t.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),R.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Employment Status *"}),Object(se.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:We,value:t.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),I.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==Y.employmentStatusId?Object(se.jsx)("span",{className:q.error,children:Y.employmentStatusId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Education Level *"}),Object(se.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:We,value:t.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select"}),D.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==Y.educationId?Object(se.jsx)("span",{className:q.error,children:Y.educationId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"patientId",children:"National Identity Number (NIN)  "}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"nin",id:"nin",value:t.ninNumber,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Phone Number *"}),Object(se.jsx)(gt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"phoneNumber",id:"phoneNumber",value:t.phoneNumber,onChange:e=>{st(e,"phoneNumber")}}),""!==Y.phoneNumber?Object(se.jsx)("span",{className:q.error,children:Y.phoneNumber}):""]})}),Object(se.jsx)("div",{className:"form-group col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Alt. Phone Number"}),Object(se.jsx)(gt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",value:t.altPhonenumber,onChange:e=>{st(e,"altPhonenumber")}})]})}),Object(se.jsx)("div",{className:"form-group col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Email"}),Object(se.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:We,value:t.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Country *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:t.countryId,onChange:e=>{const a=e.target.value;He(a),r({...t,countryId:a})},children:[Object(se.jsx)("option",{value:"",children:"Select"}),B.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==Y.countryId?Object(se.jsx)("span",{className:q.error,children:Y.countryId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"State *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:t.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:e=>{const a=e.target.value;r({...t,stateId:e.target.value}),p.a.get(`${O}organisation-units/parent-organisation-units/${a}`,{headers:{Authorization:`Bearer ${x}`}}).then((e=>{F(e.data)})).catch((e=>{}))},children:[Object(se.jsx)("option",{value:"",children:"Select"}),$.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==Y.stateId?Object(se.jsx)("span",{className:q.error,children:Y.stateId}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Province/District/LGA *"}),Object(se.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:t.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:We,children:[Object(se.jsx)("option",{value:"",children:"Select"}),L.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==Y.district?Object(se.jsx)("span",{className:q.error,children:Y.district}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Street Address*"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:t.address,onChange:We,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Y.address?Object(se.jsx)("span",{className:q.error,children:Y.address}):""]})}),Object(se.jsx)("div",{className:"form-group  col-md-4",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Landmark"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",value:t.landmark,onChange:We,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[d&&d.length>0&&Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(se.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(se.jsx)("thead",{className:"mb-3",children:Object(se.jsxs)("tr",{children:[Object(se.jsx)("th",{children:"Relationship Type"}),Object(se.jsx)("th",{children:"Name"}),Object(se.jsx)("th",{children:"Phone"}),Object(se.jsx)("th",{children:"Address"}),Object(se.jsx)("th",{children:"Actions"})]})}),Object(se.jsx)("tbody",{className:"mb-3",children:d.map(((e,t)=>Object(se.jsxs)("tr",{className:"mb-3",children:[Object(se.jsx)("td",{children:Ve(e.relationshipId)}),Object(se.jsx)("td",{children:e.firstName+" "+e.middleName+" "+e.lastName}),Object(se.jsx)("td",{children:e.phone}),Object(se.jsx)("td",{children:e.address}),Object(se.jsxs)("td",{children:[Object(se.jsx)("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:()=>((e,t)=>{i(e),f(!0),d.splice(t,1)})(e,t),children:Object(se.jsx)(Ft.a,{icon:"edit"})}),"\xa0\xa0",Object(se.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:e=>(e=>{d.splice(e,1),j([...d])})(t),children:Object(se.jsx)(Ft.a,{icon:"trash"})})]})]},e.index)))})]})}),Object(se.jsx)("div",{className:"col-xl-12 col-lg-12",children:v&&Object(se.jsx)("div",{className:"card",children:Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"relationshipType",children:"Relationship Type *"}),Object(se.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:s.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:qe,children:[Object(se.jsx)("option",{value:"",children:"Select"}),A.map(((e,t)=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==Y.relationshipId?Object(se.jsx)("span",{className:q.error,children:Y.relationshipId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"cfirstName",children:"First Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:s.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:qe}),""!==Y.firstName?Object(se.jsx)("span",{className:q.error,children:Y.firstName}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Middle Name"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:s.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:qe})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Last Name *"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:s.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:qe}),""!==Y.lastName?Object(se.jsx)("span",{className:q.error,children:Y.lastName}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(se.jsx)(gt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",name:"phone",value:s.phone,id:"phone",onChange:e=>{((e,t)=>{i({...s,[t]:e.slice(0,10)})})(e.slice(0,10),"phone")}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"contactEmail",children:"Email"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"email",id:"email",value:s.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:qe})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"contactAddress",children:"Address"}),Object(se.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:s.address,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:qe})]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"col-1",children:Object(se.jsx)(J.a,{type:"button",variant:"contained",color:"primary",className:q.button,onClick:e=>{(()=>{let e={...Y};return e.firstName=s.firstName?"":"First Name is required",e.lastName=s.lastName?"":"Last Name  is required.",e.relationshipId=s.relationshipId?"":"Relationship Type is required.",H({...e}),Object.values(e).every((e=>""==e))})()&&j([...d,s])},children:"Add"})}),Object(se.jsx)("div",{className:"col-1",children:Object(se.jsx)(J.a,{type:"button",variant:"contained",color:"secondary",className:q.button,onClick:()=>{f(!1)},children:"Cancel"})})]})]})})})]}),Object(se.jsx)("div",{className:"row"}),Object(se.jsx)(J.a,{type:"button",variant:"contained",color:"primary",className:q.button,startIcon:Object(se.jsx)(Wt.a,{}),onClick:()=>{f(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),Object(se.jsxs)("div",{className:"card",children:[Object(se.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(se.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"HIV Enrollment"})}),Object(se.jsxs)("div",{className:"card-body",children:[Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"uniqueId",children:"Unique ID No  * "}),Object(se.jsx)(Le.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:at,value:Z.uniqueId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:!0}),""!==Y.uniqueId?Object(se.jsx)("span",{className:q.error,children:Y.uniqueId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"dateOfRegistration",children:"Date of Enrollment * "}),Object(se.jsx)(Le.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateOfRegistration",id:"dateOfRegistration",min:t.dateOfRegistration,max:ee(new Date).format("YYYY-MM-DD"),onChange:at,value:Z.dateOfRegistration,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Y.dateOfRegistration?Object(se.jsx)("span",{className:q.error,children:Y.dateOfRegistration}):""]})})]}),Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{for:"entryPointId",children:"Care Entry Point * "}),Object(se.jsxs)(Le.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:at,value:Z.entryPointId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:" "}),te.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==Y.entryPointId?Object(se.jsx)("span",{className:q.error,children:Y.entryPointId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:!0===Oe?Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Facility Name"}),Object(se.jsx)(Le.a,{type:"text",name:"facilityName",id:"facilityName",onChange:at,value:Z.facilityName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]}):""}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"HIV Status at Registration *"}),Object(se.jsxs)(Le.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:at,value:Z.statusAtRegistrationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:" Select"}),ne.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==Y.statusAtRegistrationId?Object(se.jsx)("span",{className:q.error,children:Y.statusAtRegistrationId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Date of Confirmed HIV Test *"}),Object(se.jsx)(Le.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateConfirmedHiv",id:"dateConfirmedHiv",min:t.dob,max:Z.dateOfRegistration,onChange:at,value:Z.dateConfirmedHiv,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Y.dateConfirmedHiv?Object(se.jsx)("span",{className:q.error,children:Y.dateConfirmedHiv}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Source of Referral *"}),Object(se.jsxs)(Le.a,{type:"select",name:"sourceOfReferrerId",id:"sourceOfReferrerId",value:Z.sourceOfReferrerId,onChange:at,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:"Select "}),ae.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==Y.sourceOfReferrerId?Object(se.jsx)("span",{className:q.error,children:Y.sourceOfReferrerId}):""]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Enrollment Setting *"}),Object(se.jsxs)(Le.a,{type:"select",name:"enrollmentSettingId",id:"enrollmentSettingId",value:Z.enrollmentSettingId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:at,children:[Object(se.jsx)("option",{value:"",children:" Select"}),ce.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==Y.enrollmentSettingId?Object(se.jsx)("span",{className:q.error,children:Y.enrollmentSettingId}):""]})}),K&&t.age>9&&Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:" Pregnancy "}),Object(se.jsxs)(Le.a,{type:"select",name:"pregnancyStatusId",id:"pregnancyStatusId",value:Z.pregnancyStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:at,children:[Object(se.jsx)("option",{value:"",children:"Select "}),ue.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),"72"!==Z.pregnancyStatusId&&Object(se.jsx)(se.Fragment,{children:Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Date of LMP "}),Object(se.jsx)(Le.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateOfLpm",id:"dateOfLpm",max:n,onChange:at,value:Z.dateOfLpm,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})})]}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"TB Status * "}),Object(se.jsxs)(Le.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:Z.tbStatusId,onChange:at,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:" Select"}),de.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==Y.tbStatusId?Object(se.jsx)("span",{className:q.error,children:Y.tbStatusId}):""]})}),"false"===fe?Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Target Group *"}),Object(se.jsxs)(Le.a,{type:"select",name:"targetGroupId",id:"targetGroupId",value:Z.targetGroupId,onChange:at,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(se.jsx)("option",{value:"",children:" Select"}),be.map((e=>Object(se.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==Y.targetGroupId?Object(se.jsx)("span",{className:q.error,children:Y.targetGroupId}):""]})}):"",Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)("div",{className:"form-check custom-checkbox ml-1 ",children:[Object(se.jsx)("input",{type:"checkbox",className:"form-check-input",name:"ovc_enrolled",id:"ovc_enrolled",onChange:it}),Object(se.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:"Enrolled into OVC?"})]})}),t.age<=14&&Object(se.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(se.jsxs)("div",{className:"form-check custom-checkbox ml-1 ",children:[Object(se.jsx)("input",{type:"checkbox",className:"form-check-input",name:"ovc_enrolled",id:"ovc_enrolled",onChange:it}),Object(se.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:"Enrolled into OVC?"})]})}),!0===ge&&Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)("div",{className:"row",children:[Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Household Unique Number"}),Object(se.jsx)(Le.a,{type:"text",name:"householdNumber",id:"householdNumber",required:ge,onChange:at,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:Z.householdNumber})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6"}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Referred To OVC Partner"}),Object(se.jsx)(Le.a,{type:"text",name:"referredToOVCPartner",id:"referredToOVCPartner",required:ge,onChange:at,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:Z.referredToOVCPartner})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Date Referred To OVC Partner"}),Object(se.jsx)(Le.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateReferredToOVCPartner",id:"dateReferredToOVCPartner",min:t.dob,max:Z.dateOfRegistration,onChange:at,value:Z.dateReferredToOVCPartner,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Referred From OVC Partner"}),Object(se.jsx)(Le.a,{type:"text",name:"referredFromOVCPartner",id:"referredFromOVCPartner",required:ge,onChange:at,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:Z.referredFromOVCPartner})]})}),Object(se.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(se.jsxs)($e.a,{children:[Object(se.jsx)(_e.a,{children:"Date Referred From OVC Partner"}),Object(se.jsx)(Le.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateReferredFromOVCPartner",id:"dateReferredFromOVCPartner",min:t.dob,max:Z.dateOfRegistration,onChange:at,value:Z.dateReferredFromOVCPartner,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]})]})]}),b?Object(se.jsx)(Ge.a,{}):"",Object(se.jsx)("br",{}),"update"===Ne.actionType?Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(J.a,{type:"submit",variant:"contained",color:"primary",className:q.button,startIcon:Object(se.jsx)(Me.a,{}),onClick:async e=>{e.preventDefault();const r=S.find((e=>e.display===t.sexId));if(t.sexId=r.id,(()=>{let e={...Y};return e.firstName=t.firstName?"":"First Name is required",e.hospitalNumber=t.hospitalNumber?"":"Hospital Number  is required.",e.lastName=t.lastName?"":"Last Name  is required.",e.sexId=t.sexId?"":"Sex is required.",e.dateOfRegistration1=t.dateOfRegistration?"":"Date of Registration is required.",e.educationId=t.educationId?"":"Education is required.",e.address=t.address?"":"Address is required.",e.phoneNumber=t.phoneNumber?"":"Phone Number  is required.",e.countryId=t.countryId?"":"Country is required.",e.stateId=t.stateId?"":"State is required.",e.district=t.district?"":"Province/LGA is required.",e.targetGroupId=Z.targetGroupId?"":"Target group is required.",e.dateConfirmedHiv=Z.dateConfirmedHiv?"":"date confirm HIV is required.",e.sourceOfReferrerId=Z.sourceOfReferrerId?"":"Source of referrer is required.",e.enrollmentSettingId=Z.enrollmentSettingId?"":"Enrollment Setting Number  is required.",e.tbStatusId=Z.tbStatusId?"":"TB status is required.",e.statusAtRegistrationId=Z.statusAtRegistrationId?"":"Status at Registration is required.",e.entryPointId=Z.entryPointId?"":"Care Entry Point is required.",e.dateOfRegistration=Z.dateOfRegistration?"":"Date of Registration is required.",e.uniqueId=Z.uniqueId?"":"Unique ID is required.",H({...e}),Object.values(e).every((e=>""==e))})()){let e=[];d&&d.length>0&&d.map((t=>{const r={address:{line:[t.address]},contactPoint:{type:"phone",value:t.phone},firstName:t.firstName,fullName:t.firstName+" "+t.middleName+" "+t.lastName,relationshipId:t.relationshipId,surname:t.lastName,otherName:t.middleName};e.push(r)}));try{const r={active:!0,address:[{city:t.address,countryId:t.countryId,district:t.district,line:[t.landmark],organisationUnitId:0,postalCode:"",stateId:t.stateId}],contact:e,contactPoint:[],dateOfBirth:t.dob,deceased:!1,deceasedDateTime:null,firstName:t.firstName,genderId:t.genderId,sexId:t.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:t.hospitalNumber}],otherName:t.middleName,maritalStatusId:t.maritalStatusId,surname:t.lastName,educationId:t.educationId,employmentStatusId:t.employmentStatusId,dateOfRegistration:t.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=t.dateOfBirth,ninNumber:t.ninNumber},a={type:"phone",value:t.phoneNumber};if(t.email){const e={type:"email",value:t.email};r.contactPoint.push(e)}if(t.altPhonenumber){const e={type:"altphone",value:t.altPhonenumber};r.contactPoint.push(e)}r.contactPoint.push(a),r.id=Se,W.person=r,W.hivEnrollment=Z;await p.a.put(`${O}hiv/patient/${Te.id}`,W,{headers:{Authorization:`Bearer ${x}`}});c.b.success("Patient Updated successful"),U.push("/")}catch(a){if(a.response&&a.response.data){let e=a.response.data&&""!==a.response.data.apierror.message?a.response.data.apierror.message:"Something went wrong, please try again";c.b.error(e)}}}},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:b?Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(se.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})}),Object(se.jsx)(J.a,{variant:"contained",className:q.button,startIcon:Object(se.jsx)(ht.a,{}),onClick:()=>{U.push({pathname:"/"})},style:{backgroundColor:"#992E62"},children:Object(se.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]}):""]})})]})})]})};function Ut(){return Object(se.jsx)(o.MemoryRouter,{children:Object(se.jsxs)("div",{children:[Object(se.jsx)(c.a,{}),Object(se.jsxs)(o.Switch,{children:[Object(se.jsx)(o.Route,{path:"/patient-dashboard",children:Object(se.jsx)(_t,{})}),Object(se.jsx)(o.Route,{path:"/update-patient",children:Object(se.jsx)(qt,{})}),Object(se.jsx)(o.Route,{path:"/",children:Object(se.jsx)(ce,{})})]})]})})}var Gt=e=>{e&&e instanceof Function&&r.e(6).then(r.bind(null,1077)).then((t=>{let{getCLS:r,getFID:a,getFCP:s,getLCP:i,getTTFB:n}=t;r(e),a(e),s(e),i(e),n(e)}))},Kt=r(673);let Jt="ltr";const Xt=[{typography:"poppins",version:"light",layout:"vertical",headerBg:"color_1",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"full",direction:Jt},{typography:"poppins",version:"light",layout:"vertical",primary:"color_5",headerBg:"color_5",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",direction:Jt},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_11",headerBg:"color_1",sidebarBg:"color_11",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_11",direction:Jt},{typography:"poppins",version:"dark",layout:"vertical",headerBg:"color_3",navheaderBg:"color_3",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_1",direction:Jt},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_15",headerBg:"color_1",sidebarStyle:"full",sidebarBg:"color_1",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_15",direction:Jt},{typography:"poppins",version:"light",layout:"horizontal",navheaderBg:"color_1",headerBg:"color_1",sidebarBg:"color_9",sidebarStyle:"modern",sidebarPosition:"static",headerPosition:"fixed",containerLayout:"wide",primary:"color_9",direction:Jt}],Zt=Object(a.createContext)();var Qt=e=>{const[t,r]=Object(a.useState)({value:"full",label:"Full"}),[s,i]=Object(a.useState)({value:"fixed",label:"Fixed"}),[n,o]=Object(a.useState)({value:"fixed",label:"Fixed"}),[c,l]=Object(a.useState)({value:"vertical",label:"Vertical"}),[d,j]=Object(a.useState)({value:"ltr",label:"LTR"}),[b,h]=Object(a.useState)("color_1"),[p,u]=Object(a.useState)("color_1"),[m,O]=Object(a.useState)("color_1"),[x,g]=Object(a.useState)("color_1"),[v,f]=Object(a.useState)(!1),[y,N]=Object(a.useState)(!1),[S,T]=Object(a.useState)({value:"light",label:"Light"}),[R,C]=Object(a.useState)({value:"wide-boxed",label:"Wide Boxed"}),D=document.querySelector("body"),[P,I]=Object(a.useState)(0),[w,A]=Object(a.useState)(0),E=e=>{h(e),D.setAttribute("data-primary",e)},B=e=>{u(e),D.setAttribute("data-nav-headerbg",e)},k=e=>{O(e),D.setAttribute("data-headerbg",e)},$=e=>{g(e),D.setAttribute("data-sibebarbg",e)},_=e=>{i(e),D.setAttribute("data-sidebar-position",e.value)},L=e=>{j(e),D.setAttribute("direction",e.value);let t=document.querySelector("html");t.setAttribute("dir",e.value),t.className=e.value},F=e=>{"horizontal"===e.value&&"overlay"===t.value?(l(e),D.setAttribute("data-layout",e.value),r({value:"full",label:"Full"}),D.setAttribute("data-sidebar-style","full")):(l(e),D.setAttribute("data-layout",e.value))},Y=e=>{"horizontal"===c.value&&"overlay"===e.value?alert("Sorry! Overlay is not possible in Horizontal layout."):(r(e),f("icon-hover"===e.value?"_i-hover":""),D.setAttribute("data-sidebar-style",e.value))},H=e=>{o(e),D.setAttribute("data-header-position",e.value)},z=e=>{D.setAttribute("data-theme-version",e.value),T(e)},M=e=>{C(e),D.setAttribute("data-container",e.value),"boxed"===e.value&&Y({value:"overlay",label:"Overlay"})};return Object(a.useEffect)((()=>{const e=document.querySelector("body");e.setAttribute("data-typography","poppins"),e.setAttribute("data-theme-version","light"),e.setAttribute("data-layout","vertical"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-nav-headerbg","color_1"),e.setAttribute("data-headerbg","color_1"),e.setAttribute("data-sidebar-style","overlay"),e.setAttribute("data-sibebarbg","color_1"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-sidebar-position","fixed"),e.setAttribute("data-header-position","fixed"),e.setAttribute("data-container","wide"),e.setAttribute("direction","ltr");let t=()=>{I(window.innerWidth),A(window.innerHeight),window.innerWidth>=768&&window.innerWidth<1024?e.setAttribute("data-sidebar-style","mini"):window.innerWidth<=768?e.setAttribute("data-sidebar-style","overlay"):e.setAttribute("data-sidebar-style","full")};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),Object(se.jsx)(Zt.Provider,{value:{body:D,sideBarOption:[{value:"compact",label:"Compact"},{value:"full",label:"Full"},{value:"mini",label:"Mini"},{value:"modern",label:"Modern"},{value:"overlay",label:"Overlay"},{value:"icon-hover",label:"Icon-hover"}],layoutOption:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"}],backgroundOption:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],sidebarposition:s,headerPositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],containerPosition:[{value:"wide-boxed",label:"Wide Boxed"},{value:"boxed",label:"Boxed"},{value:"wide",label:"Wide"}],directionPosition:[{value:"ltr",label:"LTR"},{value:"rtl",label:"RTL"}],fontFamily:[{value:"poppins",label:"Poppins"},{value:"roboto",label:"Roboto"},{value:"cairo",label:"Cairo"},{value:"opensans",label:"Open Sans"},{value:"HelveticaNeue",label:"HelveticaNeue"}],primaryColor:b,navigationHader:p,windowWidth:P,windowHeight:w,changePrimaryColor:E,changeNavigationHader:B,changeSideBarStyle:Y,sideBarStyle:t,changeSideBarPostion:_,sidebarpositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],changeHeaderPostion:H,headerposition:n,changeSideBarLayout:F,sidebarLayout:c,changeDirectionLayout:L,changeContainerPosition:M,direction:d,colors:["color_1","color_2","color_3","color_4","color_5","color_6","color_7","color_8","color_9","color_10","color_11","color_12","color_13","color_14","color_15"],haderColor:m,chnageHaderColor:k,chnageSidebarColor:$,sidebarColor:x,iconHover:v,menuToggle:y,openMenuToggle:()=>{"overly"===t.value?N(!0):N(!1)},changeBackground:z,background:S,containerPosition_:R,setDemoTheme:(e,t)=>{var r={},a=Xt[e];D.setAttribute("data-typography",a.typography),r.value=a.version,z(r),r.value=a.layout,F(r),E(a.primary),B(a.navheaderBg),k(a.headerBg),r.value=a.sidebarStyle,Y(r),$(a.sidebarBg),r.value=a.sidebarPosition,_(r),r.value=a.headerPosition,H(r),r.value=a.containerLayout,M(r),r.value=t,L(r)}},children:e.children})};n.a.render(Object(se.jsx)(s.a.StrictMode,{children:Object(se.jsx)(Kt.a,{children:Object(se.jsx)(g.a,{basename:"/",children:Object(se.jsx)(Qt,{children:Object(se.jsx)(Ut,{})})})})}),document.getElementById("root")),Gt()}},[[942,1,2]]]);
//# sourceMappingURL=main.a41cfeda.chunk.js.map