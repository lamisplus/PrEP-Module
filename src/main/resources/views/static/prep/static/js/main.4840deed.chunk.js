(this.webpackJsonpLamisPlus=this.webpackJsonpLamisPlus||[]).push([[0],{655:function(e,t,a){},656:function(e,t,a){},738:function(e,t,a){},839:function(e,t,a){},843:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),i=a(25),c=a.n(i),n=a(48),o=a(11),l=(a(179),a(655),a(656),a(657),a(933)),d=a(934),j=a(969),b=a(956),h=a(935),p=a(4),u=a(952),m=a(157),O=a.n(m);const x="/api/v1/",v=new URLSearchParams(window.location.search).get("jwt");a(280);var g=a(85),f=a(225),y=a.n(f),N=a(235),S=a.n(N),T=a(226),R=a.n(T),C=a(233),D=a.n(C),P=a(142),I=a.n(P),w=a(141),A=a.n(w),E=a(227),_=a.n(E),k=a(228),B=a.n(k),F=a(230),Y=a.n(F),L=a(231),H=a.n(L),z=a(232),M=a.n(z),W=a(236),V=a.n(W),q=a(229),U=a.n(q),G=a(234),K=a.n(G),J=a(237),X=a.n(J),Z=(a(92),a(554)),Q=a(465),$=a(929),ee=a(610),te=(a(452),a(405)),ae=a(28),re=a.n(ae),se=a(368),ie=a.n(se),ce=a(2);re.a.locale("en"),ie()();const ne={Add:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(y.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Check:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(R.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Clear:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Delete:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(_.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),DetailPanel:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(I.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Edit:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(B.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Export:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(U.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Filter:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(Y.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),FirstPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),LastPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(M.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),NextPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(I.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),PreviousPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(D.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),ResetSearch:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Search:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(K.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),SortArrow:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(S.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),ThirdStateCheck:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(V.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),ViewColumn:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(X.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))))},oe=Object(Z.a)({statusLabel:{width:"150px",display:"inline-block",textAlign:"center"}});var le=e=>{const t=oe(),[a,s]=Object(r.useState)([]),[i,c]=Object(r.useState)(!0),[n,o]=Object(r.useState)(!0);Object(r.useEffect)((()=>{!async function(){c(!0),u.a.get("".concat(x,"prep/persons"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{c(!1),s(e.data)})).catch((e=>{c(!1)}))}()}),[]);const l=e=>{e.target.checked?o(!1):o(!0)};return Object(ce.jsx)("div",{children:Object(ce.jsx)(O.a,{icons:ne,title:"Find Patient",columns:[{title:"Patient Name",field:"name",hidden:n},{title:"Hospital Number",field:"hospital_number",filtering:!1},{title:"PrEP Code",field:"clientCode",filtering:!1},{title:"Sex",field:"gender",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"PrEP Status",field:"status",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],data:e=>new Promise(((a,r)=>{u.a.get("".concat(x,"prep/persons?pageSize=").concat(e.pageSize,"&pageNo=").concat(e.page,"&searchValue=").concat(e.search),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>e)).then((r=>{var s,i,c;a({data:null===r||void 0===r||null===(s=r.data)||void 0===s||null===(i=s.records)||void 0===i||null===(c=i.map)||void 0===c?void 0:c.call(i,(e=>({name:e.firstName+" "+e.surname,hospital_number:e.hospitalNumber,clientCode:e.uniqueId,gender:e&&e.gender?e.gender:"",age:e.age,status:Object(ce.jsxs)(te.a,{className:t.statusLabel,color:"blue",size:"mini",style:{position:"relative"},children:[e.prepStatus,!!e.sendCabLaAlert&&Object(ce.jsx)("span",{className:"position-absolute top-50 translate-middle-y bg-info border border-light rounded-circle",style:{right:"-1%",transform:"translate(50%, 0)",width:"1em",height:"1em",padding:0,display:"block"}})]}),actions:Object(ce.jsx)("div",{children:Object(ce.jsx)(g.b,{to:{pathname:"/patient-dashboard",state:{patientObj:e}},children:Object(ce.jsxs)($.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(ce.jsx)(Q.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)",margin:"auto"},children:Object(ce.jsx)(ee.a,{})}),Object(ce.jsx)(Q.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(ce.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})})}))),page:e.page,totalCount:r.data.totalRecords})}))})),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!0,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400},components:{Toolbar:e=>Object(ce.jsxs)("div",{className:"p-2",children:[Object(ce.jsxs)("div",{className:"form-check custom-checkbox float-left mt-4 ml-3",children:[Object(ce.jsx)("input",{type:"checkbox",className:"form-check-input",name:"showPP!",id:"showPP",value:"showPP",checked:!0!==n,onChange:l,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),Object(ce.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:Object(ce.jsxs)("b",{style:{color:"#014d88",fontWeight:"bold"},children:[" ","SHOW PII"," "]})})]}),Object(ce.jsx)(m.MTableToolbar,Object(p.a)({},e))]})}})})};const de={borderRadius:"2px",fontSize:14};var je=()=>{const[e,t]=Object(r.useState)("home");return Object(ce.jsxs)(r.Fragment,{children:[Object(ce.jsx)("div",{style:{marginTop:"3em"},className:"page-titles",children:Object(ce.jsx)("ol",{className:"breadcrumb",children:Object(ce.jsx)("li",{className:"breadcrumb-item active",children:Object(ce.jsx)("h4",{children:"PrEP"})})})}),Object(ce.jsx)(l.a,{children:Object(ce.jsx)(d.a,{xl:12,children:Object(ce.jsx)(j.a,{style:de,children:Object(ce.jsx)(j.a.Body,{children:Object(ce.jsx)("div",{className:"custom-tab-1",children:Object(ce.jsx)(b.a,{id:"controlled-tab-example",activeKey:e,onSelect:e=>t(e),className:"mb-3",children:Object(ce.jsx)(h.a,{eventKey:"home",title:"Find Patients",children:Object(ce.jsx)(le,{})})})})})})})})]})},be=a(8),he=a(960),pe=a(970),ue=a(927),me=a(249),Oe=a(932),xe=a(936),ve=a(937),ge=a(145),fe=a(928),ye=a(954);const Ne=e=>{let{show:t,title:a,body:s,nextAppointmentDate:i,onClose:c,patientObj:n}=e;const o=Object(r.useMemo)((()=>({0:"initial",1:"#F57C00",2:"#F44336"})),[]);return t?Object(ce.jsxs)(ye.a,{show:t,className:"fade text-grey",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(ce.jsx)(ye.a.Header,{children:Object(ce.jsx)(ye.a.Title,{id:"contained-modal-title-vcenter",style:{color:"rgb(1, 77, 136)"},children:Object(ce.jsxs)("h2",{className:"d-flex align-items-center",children:[" ",Object(ce.jsxs)("span",{className:"p-2",style:{fontSize:"1.2em",color:o["".concat(null===n||void 0===n?void 0:n.sendCabLaAlert)]},children:[" ","\u26a0"," "]})," ",Object(ce.jsx)("span",{style:{fontSize:".7em"},children:a})]})})}),Object(ce.jsx)(ye.a.Body,{children:Object(ce.jsxs)("p",{children:["Hello there! ",Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{})," Kindly be reminded that"," ",Object(ce.jsxs)("span",{className:"text-primary",children:[null===n||void 0===n?void 0:n.firstName,"'s"]})," ",s," ",Object(ce.jsxs)("span",{style:{color:"#FF6347"},children:["[".concat(i,"]"),"."]})," ","You may want to reach out them as soon as possible."]})}),Object(ce.jsx)(ye.a.Footer,{children:Object(ce.jsx)(Q.a,{onClick:c,style:{backgroundColor:"#014d88",color:"#fff",margin:"auto .2em"},size:"small",children:"Close"})})]}):Object(ce.jsx)(ce.Fragment,{})};re.a.locale("en"),ie()();var Se=Object(be.a)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing,"px ").concat(e.spacing(2),"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}})))((function(e){var t,a,s;const{classes:i}=e,c=null===e||void 0===e?void 0:e.patientObj,[n,o]=(Object(r.useMemo)((()=>[null,{title:"Upcoming CabLA Appointment!",body:"CabLA appointment is due tommorrow"},{title:"Missed CabLA Appointment!",body:"CabLA appointment is overdue!"}]),[]),Object(r.useState)(0));return Object(r.useEffect)((()=>{o(null===c||void 0===c?void 0:c.sendCabLaAlert)}),[]),Object(ce.jsxs)("div",{className:i.root,children:[Object(ce.jsx)(Ne,{show:n,title:null===n||void 0===n?void 0:n.title,body:null===n||void 0===n?void 0:n.body,patientObj:c,onClose:()=>o(0),nextAppointmentDate:Date()}),Object(ce.jsxs)(ue.a,{children:[Object(ce.jsx)(fe.a,{children:Object(ce.jsx)(xe.a,{children:Object(ce.jsx)(ve.a,{md:12,children:c&&null!==c?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)(xe.a,{className:"mt-1",children:[Object(ce.jsxs)(ve.a,{md:12,className:null===i||void 0===i?void 0:i.root2,children:[Object(ce.jsx)("b",{style:{fontSize:"25px",color:"rgb(153, 46, 98)"},children:(null===c||void 0===c?void 0:c.firstName)+" "+(null===c||void 0===c?void 0:c.surname)}),Object(ce.jsx)(g.b,{to:"/",children:Object(ce.jsx)(Q.a,{variant:"contained",color:"primary",className:" float-end ms-2 mr-2 mt-2",startIcon:Object(ce.jsx)(me.a,{}),style:{backgroundColor:"rgb(153, 46, 98)",color:"#fff",height:"35px"},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})})]}),Object(ce.jsx)(ve.a,{md:4,className:i.root2,children:Object(ce.jsxs)("span",{children:[" ","Patient ID :"," ",Object(ce.jsx)("b",{style:{color:"#0B72AA"},children:null===c||void 0===c?void 0:c.hospitalNumber})]})}),Object(ce.jsx)(ve.a,{md:4,className:i.root2,children:Object(ce.jsxs)("span",{children:["Date Of Birth :"," ",Object(ce.jsx)("b",{style:{color:"#0B72AA"},children:null===c||void 0===c?void 0:c.dateOfBirth})]})}),Object(ce.jsx)(ve.a,{md:4,className:i.root2,children:Object(ce.jsxs)("span",{children:[" ","Age :"," ",Object(ce.jsx)("b",{style:{color:"#0B72AA"},children:(e=>{var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),s=new Date(r),i=(null===t||void 0===t?void 0:t.getFullYear())-(null===s||void 0===s?void 0:s.getFullYear()),c=(null===t||void 0===t?void 0:t.getMonth())-(null===s||void 0===s?void 0:s.getMonth());return(c<0||0===c&&(null===t||void 0===t?void 0:t.getDate())<(null===s||void 0===s?void 0:s.getDate()))&&i--,0===i?c+" month(s)":i+" year(s)"})(re()(null===c||void 0===c?void 0:c.dateOfBirth).format("DD-MM-YYYY"))})]})}),Object(ce.jsx)(ve.a,{md:4,children:Object(ce.jsxs)("span",{children:[" ","Gender :"," ",Object(ce.jsx)("b",{style:{color:"#0B72AA"},children:null===c||void 0===c?void 0:c.gender})]})}),Object(ce.jsx)(ve.a,{md:4,children:Object(ce.jsxs)("span",{children:[" ","Sex at Birth :"," ",Object(ce.jsx)("b",{style:{color:"#0B72AA"},children:(null===c||void 0===c?void 0:c.sexAtBirth)||(null===c||void 0===c?void 0:c.gender)})]})}),Object(ce.jsx)(ve.a,{md:4,className:i.root2,children:Object(ce.jsxs)("span",{children:[" ","Phone Number :"," ",Object(ce.jsx)("b",{style:{color:"#0B72AA"},children:null===c||void 0===c?void 0:c.phoneNumber})]})}),Object(ce.jsx)(ve.a,{md:6,className:i.root2,children:Object(ce.jsxs)("span",{children:[" ","Address :"," ",Object(ce.jsxs)("b",{style:{color:"#0B72AA"},children:[null===c||void 0===c?void 0:c.address," "]})]})}),null!==(null===c||void 0===c?void 0:c.prepStatus)&&Object(ce.jsx)(ve.a,{md:12,children:Object(ce.jsx)("div",{children:Object(ce.jsx)(ge.a,{variant:"caption",children:Object(ce.jsxs)(te.a,{color:"teal",size:"mini",children:["STATUS :"," ",(null===(t=e.activeContent)||void 0===t||null===(a=t.obj)||void 0===a||null===(s=a.newStatus)||void 0===s?void 0:s.display)||(null===c||void 0===c?void 0:c.prepStatus)]})})})})]})}):Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)("p",{children:"Loading please wait.."})})})})}),Object(ce.jsx)(Oe.a,{})]})]})})),Te=a(613),Re=a(955);var Ce=function(e){const t=e.patientObj;Object(r.useEffect)((()=>{}),[e.patientObj]);const a=t=>{e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"prep-interruptions"}))},s=t=>{e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"prep-registration"}))},i=t=>{e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"prep-commencement"}))},c=t=>{e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"prep-screening"}))},n=t=>{e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"consultation"}))},o=t=>{e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))},l=()=>{e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"patient-history"}))};return Object(Te.useHistory)(),Object(r.useEffect)((()=>{})),Object(ce.jsx)("div",{children:Object(ce.jsx)(Re.a,{size:"large",color:"black",inverted:!0,children:"ETL"!==(null===t||void 0===t?void 0:t.createdBy)?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Re.a.Item,{onClick:()=>{o()},children:"Home"}),(null===t||void 0===t?void 0:t.eligibilityCount)<=0||null===(null===t||void 0===t?void 0:t.eligibilityCount)?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Re.a.Item,{onClick:()=>c(),children:"PrEP Eligibility Screening"})}):Object(ce.jsx)(ce.Fragment,{children:"0"===(null===t||void 0===t?void 0:t.prepCount)||null===(null===t||void 0===t?void 0:t.commencementCount)?Object(ce.jsxs)(ce.Fragment,{children:["0"===(null===t||void 0===t?void 0:t.prepCount)&&"Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)&&Object(ce.jsx)(Re.a.Item,{onClick:()=>s(),children:"PrEP Enrollment"}),(null===(null===t||void 0===t?void 0:t.commencementCount)||(null===t||void 0===t?void 0:t.commencementCount)<=0)&&"Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)&&Object(ce.jsx)(Re.a.Item,{onClick:()=>i(),children:"PrEP Commencement"})]}):Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(Re.a.Item,{onClick:()=>c(),children:[" ","PrEP Eligibility Screening"," "]}),(null===(null===t||void 0===t?void 0:t.prepCount)||(null===t||void 0===t?void 0:t.prepCount)<0)&&"Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)&&Object(ce.jsx)(Re.a.Item,{onClick:()=>s(),children:"PrEP Enrollment"}),(null===(null===t||void 0===t?void 0:t.commencementCount)||(null===t||void 0===t?void 0:t.commencementCount)<=0)&&"Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)&&Object(ce.jsx)(Re.a.Item,{onClick:()=>i(),children:"PrEP Commencement"}),"Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)&&Object(ce.jsxs)(Re.a.Item,{onClick:()=>n(),children:[" ","PrEP Visit"]}),"Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)&&Object(ce.jsx)(Re.a.Item,{onClick:()=>a(),children:"PrEP Discontinuations & Interruptions"})]})}),Object(ce.jsx)(Re.a.Item,{onClick:()=>l(),children:"History"})]}):Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Re.a.Item,{onClick:()=>o(),children:"Home"}),("Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)||null===(null===t||void 0===t?void 0:t.hivresultAtVisit))&&Object(ce.jsx)(Re.a.Item,{onClick:()=>c(),children:"PrEP Eligibility Screening"}),("Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)||null===(null===t||void 0===t?void 0:t.hivresultAtVisit))&&"0"===(null===t||void 0===t?void 0:t.prepCount)&&Object(ce.jsx)(Re.a.Item,{onClick:()=>s(),children:"PrEP Enrollment"}),("Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)||null===(null===t||void 0===t?void 0:t.hivresultAtVisit))&&(null===(null===t||void 0===t?void 0:t.commencementCount)||(null===t||void 0===t?void 0:t.commencementCount)<=0)&&Object(ce.jsx)(Re.a.Item,{onClick:()=>i(),children:"PrEP Commencement"}),("Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)||null===(null===t||void 0===t?void 0:t.hivresultAtVisit))&&Object(ce.jsxs)(Re.a.Item,{onClick:()=>n(),children:[" ","PrEP Visit"]}),("Negative"===(null===t||void 0===t?void 0:t.hivresultAtVisit)||null===(null===t||void 0===t?void 0:t.hivresultAtVisit))&&Object(ce.jsx)(Re.a.Item,{onClick:()=>a(),children:"PrEP Discontinuations & Interruptions"}),Object(ce.jsx)(Re.a.Item,{onClick:()=>l(),children:"History"})]})})})},De=a(951),Pe=a(614),Ie=a.n(Pe),we=a(959),Ae=a(963);var Ee=e=>{var t;const[a,i]=Object(r.useState)([]),[c,n]=Object(r.useState)(null),[l,d]=Object(r.useState)(!1),[b,h]=s.a.useState(!1),[m,O]=Object(r.useState)(null),g=()=>h(!b),[f,y]=Object(r.useState)(0);Object(r.useEffect)((()=>{S(),N()}),[null===e||void 0===e||null===(t=e.patientObj)||void 0===t?void 0:t.personId]);const N=()=>{u.a.get("".concat(x,"prep/activities/patients/").concat(e.patientObj.personId,"?full=true"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{i(e.data)})).catch((e=>{}))},S=()=>{u.a.get("".concat(x,"prep-clinic/person/").concat(e.patientObj.personId,"?full=true"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{n(e.data[0])})).catch((e=>{}))};const T=(t,a)=>{"prep-eligibility"===t.path?e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"prep-screening",id:t.id,actionType:a})):"prep-enrollment"===t.path?e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"prep-registration",id:t.id,actionType:a})):"prep-clinic"===t.path?e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"consultation",id:t.id,actionType:a})):"prep-commencement"===t.path?e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"prep-commencement",id:t.id,actionType:a})):"prep-interruption"===t.path&&e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"prep-interruptions",id:t.id,actionType:a}))};return Object(ce.jsxs)(r.Fragment,{children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"col-xl-4 col-xxl-4 col-lg-4",children:Object(ce.jsxs)("div",{className:"card",children:[Object(ce.jsx)("div",{className:"card-header  border-0 pb-0",children:Object(ce.jsx)("h4",{className:"card-title",children:"Recent Activities"})}),Object(ce.jsx)("div",{className:"card-body",children:Object(ce.jsx)(Ie.a,{style:{height:"370px"},id:"DZ_W_Todo1",className:"widget-media dz-scroll ps ps--active-y",children:Object(ce.jsx)(we.a,{className:"accordion accordion-header-bg accordion-header-shadow accordion-rounded ",defaultActiveKey:"0",children:Object(ce.jsx)(ce.Fragment,{children:a.map(((e,t)=>Object(ce.jsxs)("div",{className:"accordion-item",children:[Object(ce.jsxs)(we.a.Toggle,{as:j.a.Text,eventKey:"".concat(t),className:"accordion-header ".concat(1===f?"":"collapsed"," accordion-header-info"),onClick:()=>y(1===f?-1:t),children:[Object(ce.jsx)("span",{className:"accordion-header-icon"}),Object(ce.jsxs)("span",{className:"accordion-header-text",children:["Encounter Date :"," ",Object(ce.jsx)("span",{className:"",children:e.date})," "]}),Object(ce.jsx)("span",{className:"accordion-header-indicator"})]}),Object(ce.jsx)(we.a.Collapse,{eventKey:"".concat(t),className:"accordion__body",children:Object(ce.jsx)("div",{className:"accordion-body-text",children:Object(ce.jsx)("ul",{className:"timeline",children:(null===e||void 0===e?void 0:e.activities)&&(null===e||void 0===e?void 0:e.activities.map(((t,a)=>{return Object(ce.jsx)("li",{children:Object(ce.jsxs)("div",{className:"timeline-panel",children:[Object(ce.jsx)("div",{className:a%2===0?"media me-2 media-info":"media me-2 media-success",children:(r=e.name,"HIV Enrollment"===r?"HE":"Prep Clinic"===r?"PC":"Prep Enrollment"===r||"Prep Eligibility"===r?"PE":"ART Commencement"===r?"AC":"RA")},0),Object(ce.jsxs)("div",{className:"media-body",children:[Object(ce.jsx)("h5",{className:"mb-1",children:t.name}),Object(ce.jsx)("small",{className:"d-block",children:t.date})]},1),Object(ce.jsxs)(De.a,{className:"dropdown",children:[Object(ce.jsx)(De.a.Toggle,{variant:"light",className:"i-false p-0 btn-info sharp",children:Object(ce.jsx)("svg",{width:"18px",height:"18px",viewBox:"0 0 24 24",version:"1.1",children:Object(ce.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(ce.jsx)("rect",{x:"0",y:"0",width:"24",height:"24"}),Object(ce.jsx)("circle",{fill:"#000000",cx:"5",cy:"12",r:"2"}),Object(ce.jsx)("circle",{fill:"#000000",cx:"12",cy:"12",r:"2"}),Object(ce.jsx)("circle",{fill:"#000000",cx:"19",cy:"12",r:"2"})]})})}),Object(ce.jsxs)(De.a.Menu,{className:"dropdown-menu",children:[Object(ce.jsx)(De.a.Item,{className:"dropdown-item",onClick:()=>T(t,"view"),children:"View"}),Object(ce.jsx)(De.a.Item,{className:"dropdown-item",onClick:()=>T(t,"update"),children:"Update"}),Object(ce.jsx)(De.a.Item,{className:"dropdown-item",to:"/widget-basic",onClick:()=>{return e=t,g(),void O(e);var e},children:"Delete"})]})]})]})},t.id);var r})))})})})]},t)))})})})})]})}),Object(ce.jsx)("div",{className:"col-xl-8 col-xxl-8 col-lg-8",children:Object(ce.jsxs)("div",{className:"card",children:[Object(ce.jsx)("div",{className:"card-header border-0  pb-2",style:{backgroundColor:"#EEEEEE"},children:Object(ce.jsx)("h4",{className:"card-title",children:"Summary "})}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:Object(ce.jsxs)("div",{className:"card-body",children:[Object(ce.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-12",children:Object(ce.jsxs)("div",{className:"card overflow-hidden",children:[Object(ce.jsx)("div",{className:"social-graph-wrapper widget-facebook",children:Object(ce.jsx)("span",{className:"s-icon",children:Object(ce.jsxs)("span",{style:{fontSize:"16px"},children:["Total Clinic Visit :"," ",function(e){let t=0,a=["Prep Commencement","Prep Clinic"];return e.forEach((e=>{var r;null===e||void 0===e||null===(r=e.activities)||void 0===r||r.forEach((e=>{a.includes(null===e||void 0===e?void 0:e.name)&&t++}))})),t}(a)]})})}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"col-6 border-right",children:Object(ce.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(ce.jsx)("h4",{className:"m-1",children:Object(ce.jsx)("span",{className:"counter",children:Object(ce.jsx)("b",{children:null===c||void 0===c?void 0:c.encounterDate})})}),c&&Object(ce.jsx)("p",{className:"m-0",children:Object(ce.jsx)("b",{children:"Last Visit "})})]})}),Object(ce.jsx)("div",{className:"col-6",children:Object(ce.jsxs)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:[Object(ce.jsx)("h4",{className:"m-1",children:Object(ce.jsx)("span",{className:"counter",children:Object(ce.jsx)("b",{children:null===c||void 0===c?void 0:c.nextAppointment})})}),c&&Object(ce.jsx)("p",{className:"m-0",children:Object(ce.jsx)("b",{children:"Next Visit"})})]})})]})]})}),Object(ce.jsx)("div",{className:"col-xl-12 col-lg-12 col-sm-12",children:Object(ce.jsx)("div",{className:"widget-stat card",children:Object(ce.jsxs)("div",{className:"card-body p-4",style:{backgroundColor:"#fff"},children:[Object(ce.jsx)("h4",{className:"card-title",style:{fontSize:"15px"},children:Object(ce.jsx)("b",{children:"Current Regimen Given"})}),Object(ce.jsx)("h4",{className:"text-info ",children:c?null===c||void 0===c?void 0:c.regimen:"NIL"})]})})})]})}),Object(ce.jsx)("div",{className:"col-sm-6 col-md-6 col-lg-6",children:Object(ce.jsx)("div",{className:"card-body",children:Object(ce.jsxs)("div",{className:"card overflow-hidden",children:[Object(ce.jsx)("div",{className:"social-graph-wrapper widget-linkedin",children:Object(ce.jsx)("span",{className:"s-icon",children:Object(ce.jsx)("span",{style:{fontSize:"16px"},children:Object(ce.jsxs)(ce.Fragment,{children:["BMI :"," ",c?((null===c||void 0===c?void 0:c.weight)/((null===c||void 0===c?void 0:c.height)/100*((null===c||void 0===c?void 0:c.height)/100))).toFixed(2):"NIL"," ",c&&Object(ce.jsxs)(ce.Fragment,{children:["kg/m",Object(ce.jsx)("sup",{children:"2"}),Object(ce.jsx)("span",{})]})]})})})}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"col-6 border-right",children:Object(ce.jsx)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:c&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{className:"m-1",children:Object(ce.jsxs)("span",{className:"counter",children:[c?c.weight:"0"," Kg"]})}),Object(ce.jsx)("p",{className:"m-0",children:Object(ce.jsx)("b",{children:"Weight "})})]})})}),Object(ce.jsx)("div",{className:"col-6",children:Object(ce.jsx)("div",{className:"pt-3 pb-3 ps-0 pe-0 text-center",children:c&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("h4",{className:"m-1",children:Object(ce.jsxs)("span",{className:"counter",children:[c?c.height:"0"," cm"]})}),Object(ce.jsx)("p",{className:"m-0",children:Object(ce.jsx)("b",{children:"Height "})})]})})})]})]})})})]})})]})})]}),Object(ce.jsxs)(ye.a,{show:b,toggle:g,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(ce.jsx)(ye.a.Header,{children:Object(ce.jsx)(ye.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(ce.jsx)(ye.a.Body,{children:Object(ce.jsxs)("h4",{children:["Are you Sure you want to delete ",Object(ce.jsx)("b",{children:m&&m.name})]})}),Object(ce.jsxs)(ye.a.Footer,{children:[Object(ce.jsx)(Ae.a,{onClick:()=>{var e;"prep-eligibility"===(e=m).path?(d(!0),u.a.delete("".concat(x,"prep-eligibility/").concat(e.id),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{d(!1),o.b.success("Record Deleted Successfully"),N(),g()})).catch((e=>{if(d(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-clinic"===e.path?(d(!0),u.a.delete("".concat(x,"prep-clinic/").concat(e.id),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{d(!1),o.b.success("Record Deleted Successfully"),N(),g()})).catch((e=>{if(d(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-enrollment"===e.path?(d(!0),u.a.delete("".concat(x,"prep-enrollment/").concat(e.id),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{d(!1),o.b.success("Record Deleted Successfully"),N(),g()})).catch((e=>{if(d(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-commencement"===e.path?(d(!0),u.a.delete("".concat(x,"prep-clinic/").concat(e.id),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{d(!1),o.b.success("Record Deleted Successfully"),N(),g()})).catch((e=>{if(d(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-interruption"===e.path&&(d(!0),u.a.delete("".concat(x,"prep-interruption/").concat(e.id),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{d(!1),o.b.success("Record Deleted Successfully"),N(),g()})).catch((e=>{if(d(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:l,children:!1===l?"Yes":"Deleting..."}),Object(ce.jsx)(Ae.a,{onClick:g,style:{backgroundColor:"#014d88",color:"#fff"},disabled:l,children:"No"})]})]})]})},_e=a(953),ke=a(174);const Be={Add:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(y.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Check:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(R.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Clear:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Delete:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(_.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),DetailPanel:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(I.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Edit:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(B.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Export:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(U.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Filter:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(Y.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),FirstPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),LastPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(M.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),NextPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(I.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),PreviousPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(D.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),ResetSearch:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Search:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(K.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),SortArrow:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(S.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),ThirdStateCheck:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(V.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),ViewColumn:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(X.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))))};var Fe=e=>{const[t,a]=Object(r.useState)([]),[i,c]=Object(r.useState)(!0),[n,l]=Object(r.useState)(!1),[d,j]=s.a.useState(!1),[b,h]=Object(r.useState)(null),m=()=>j(!d);Object(r.useEffect)((()=>{g()}),[e.patientObj.id]);const g=()=>{c(!0),u.a.get("".concat(x,"prep/general-activities/patients/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{c(!1),a(e.data)})).catch((e=>{}))},f=(a,r)=>{"prep-eligibility"===a.path?e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"prep-screening",id:a.id,actionType:r})):"prep-enrollment"===a.path?e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"prep-registration",id:a.id,actionType:r})):"prep-clinic"===a.path?e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"consultation",recentActivities:t,id:a.id,actionType:r})):"prep-commencement"===a.path?e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"prep-commencement",id:a.id,actionType:r})):"prep-interruption"===a.path&&e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"prep-interruptions",id:a.id,actionType:r}))};return Object(ce.jsxs)("div",{children:[Object(ce.jsx)("br",{}),Object(ce.jsx)(O.a,{icons:Be,title:"Patient History ",columns:[{title:"Name",field:"name"},{title:"Encounter Date",field:"date"},{title:"Actions",field:"actions",filtering:!1}],isLoading:i,data:t&&t.map((e=>({name:e.name,date:e.date,actions:Object(ce.jsx)("div",{children:Object(ce.jsx)(Re.a.Menu,{position:"right",children:Object(ce.jsx)(Re.a.Item,{children:Object(ce.jsx)(Ae.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(ce.jsx)(_e.a,{item:!0,text:"Action",children:Object(ce.jsxs)(_e.a.Menu,{style:{marginTop:"10px"},children:[e.viewable&&Object(ce.jsxs)(_e.a.Item,{onClick:()=>f(e,"view"),children:[" ",Object(ce.jsx)(ke.a,{name:"eye"}),"View  "]}),e.editable&&Object(ce.jsxs)(_e.a.Item,{onClick:()=>f(e,"update"),children:[Object(ce.jsx)(ke.a,{name:"edit"}),"Edit"]}),Object(ce.jsxs)(_e.a.Item,{onClick:()=>(e=>{m(),h(e)})(e),children:[" ",Object(ce.jsx)(ke.a,{name:"trash"})," Delete"]})]})})})})})})}))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),Object(ce.jsxs)(ye.a,{show:d,toggle:m,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(ce.jsx)(ye.a.Header,{children:Object(ce.jsx)(ye.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(ce.jsx)(ye.a.Body,{children:Object(ce.jsxs)("h4",{children:["Are you Sure you want to delete ",Object(ce.jsx)("b",{children:b&&b.name})]})}),Object(ce.jsxs)(ye.a.Footer,{children:[Object(ce.jsx)(Ae.a,{onClick:()=>{var e;"prep-eligibility"===(e=b).path?(l(!0),u.a.delete("".concat(x,"prep-eligibility/").concat(e.id),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),g(),m()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-clinic"===e.path?(l(!0),u.a.delete("".concat(x,"prep-clinic/").concat(e.id),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),g(),m()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-enrollment"===e.path?(l(!0),u.a.delete("".concat(x,"prep-enrollment/").concat(e.id),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),g(),m()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-commencement"===e.path?(l(!0),u.a.delete("".concat(x,"prep-clinic/").concat(e.id),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),g(),m()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-interruption"===e.path&&(l(!0),u.a.delete("".concat(x,"prep-interruption/").concat(e.id),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{l(!1),o.b.success("Record Deleted Successfully"),g(),m()})).catch((e=>{if(l(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:n,children:!1===n?"Yes":"Deleting..."}),Object(ce.jsx)(Ae.a,{onClick:m,style:{backgroundColor:"#014d88",color:"#fff"},disabled:n,children:"No"})]})]})]})},Ye=a(965),Le=a(966),He=a(939),ze=a(940),Me=a(941),We=a(943),Ve=a(944),qe=a(56),Ue=a.n(qe),Ge=a(617),Ke=a.n(Ge),Je=a(971),Xe=a(400),Ze=a.n(Xe),Qe=(a(571),a(938)),$e=a(942),et=a(930),tt=a(859),at=(a(572),a(962));a(738);const rt=Object(Z.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)},"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}))),st=e=>{let{objValues:t,handleInputChange:a,disabledField:s,liverFunctionTestResult:i,isAutoPop:c}=e;const[n,o]=Object(r.useState)(null===t||void 0===t?void 0:t.liverFunctionTestResults),l=null===i||void 0===i?void 0:i.map((e=>({value:null===e||void 0===e?void 0:e.code,label:null===e||void 0===e?void 0:e.display})));return Object(r.useEffect)((()=>{o(t.liverFunctionTestResults)}),[t.liverFunctionTestResults]),Object(ce.jsx)(Ze.a,{options:l||[],selected:n||[],onChange:e=>{o(e),a({target:{name:"liverFunctionTestResults",value:e}})},disabled:c||s,canFilter:!0})};var it=e=>{var t;const a=rt(),[s,i]=Object(r.useState)(!1),[c,n]=Object(r.useState)(!1),[l,d]=Object(r.useState)({}),[j,b]=Object(r.useState)([]),[h,m]=Object(r.useState)([]),[O,g]=Object(r.useState)([]),[f,y]=Object(r.useState)([]),[N,S]=Object(r.useState)([]),[T,R]=Object(r.useState)([]),[C,D]=Object(r.useState)([]),[P,I]=Object(r.useState)([]);let w=Object(p.a)({},l);const[A,E]=Object(r.useState)({counselingType:"",drugUseHistory:{},extra:{},firstTimeVisit:!0,hivRisk:{},numChildrenLessThanFive:"",numWives:"",personId:"",personalHivRiskAssessment:{},sexPartner:"TARGET_GROUP_GEN_POP",sexPartnerRisk:{},stiScreening:{},targetGroup:"TARGET_GROUP_GEN_POP",uniqueId:"",visitDate:"",visitType:"",reasonForSwitch:"",populationType:"",pregnancyStatus:"",lftConducted:"",liverFunctionTestResults:[],dateLiverFunctionTestResults:"",score:0}),[_,k]=Object(r.useState)({unprotectedVaginalSexCasual:"",unprotectedVaginalSexRegular:"",uprotectedAnalSexWithCasual:"",uprotectedAnalSexWithRegular:"",stiHistory:"",sharedNeedles:"",moreThan1SexPartner:"",analSexWithPartner:"",unprotectedAnalSexWithPartner:"",haveYouPaidForSex:"",haveSexWithoutCondom:"",experienceCondomBreakage:"",takenPartInSexualOrgy:""}),[B,F]=Object(r.useState)({haveSexWithHIVPositive:"",haveSexWithPartnerInjectDrug:"",haveSexWithPartnerWhoHasSexWithMen:"",haveSexWithPartnerTransgender:"",sexWithPartnersWithoutCondoms:""}),[Y,L]=Object(r.useState)({vaginalDischarge:"",lowerAbdominalPains:"",urethralDischarge:"",complaintsOfScrotal:"",complaintsGenitalSore:"",analDischarge:"",analItching:"",analpain:"",swollenIguinal:"",genitalScore:""}),[H,z]=Object(r.useState)({useAnyOfTheseDrugs:"",inject:"",sniff:"",smoke:"",Snort:"",useDrugSexualPerformance:"",hivTestedBefore:"",recommendHivRetest:"",clinicalSetting:"",reportHivRisk:"",hivExposure:"",hivTestResultAtvisit:"",lastTest:""}),[M,W]=Object(r.useState)({unprotectedSexWithHivPositiveOrUnknownStatusLast72Hours:"",sharedInjectionOrNeedleWithHivPositiveOrUnknownStatusLast72Hours:""}),[V,q]=Object(r.useState)({willingToCommencePrep:"",reasonsForDecline:[],otherReasonsForDecline:""}),[U,G]=Object(r.useState)({acuteHivSymptomsLasttwoWeeks:"",unprotectedAnalOrVaginalOrSharedNeedlesLast28Days:""}),[K,J]=Object(r.useState)({hivNegative:"",hivRiskScore:"",noIndicationForPep:"",hasNoProteinuria:"",noHistoryOrSignsOfLiverAbnormalitiesCabLa:"",noHistoryOfDrugToDrugInteractionCabLa:"",noHistoryOfDrugHypersensitivityCabLa:""});Object(r.useEffect)((async()=>{b((await(async()=>await u.a.get("".concat(x,"application-codesets/v2/COUNSELING_TYPE"),{headers:{Authorization:"Bearer ".concat(v)}}))()).data),y((await(async()=>await u.a.get("".concat(x,"application-codesets/v2/REASON_PREP_DECLINED"),{headers:{Authorization:"Bearer ".concat(v)}}))()).data),S((await(async()=>await u.a.get("".concat(x,"application-codesets/v2/POPULATION_TYPE"),{headers:{Authorization:"Bearer ".concat(v)}}))()).data),R((await(async()=>await u.a.get("".concat(x,"application-codesets/v2/PREGNANCY_STATUS"),{headers:{Authorization:"Bearer ".concat(v)}}))()).data),m((await(async()=>await u.a.get("".concat(x,"application-codesets/v2/PrEP_VISIT_TYPE"),{headers:{Authorization:"Bearer ".concat(v)}}))()).data),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(X(e.activeContent.id),i("view"===e.activeContent.actionType))}),[e.activeContent]);const X=e=>{u.a.get("".concat(x,"prep/eligibility/").concat(e),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{const{personalHivRiskAssessment:t,sexPartnerRisk:a,stiScreening:r,drugUseHistory:s,assessmentForPepIndication:i,assessmentForAcuteHivInfection:c,servicesReceivedByClient:n,assessmentForPrepEligibility:o}=e.data;E(e.data),k(t),F(a),L(r),z(s),W(i),G(c),q(n),J(o)})).catch((e=>{console.error("Error fetching patient eligibility data:",e)}))},Z=e=>{d(Object(p.a)(Object(p.a)({},w),{},{[e.target.name]:""})),E(Object(p.a)(Object(p.a)({},A),{},{[e.target.name]:e.target.value}))},$=e=>{k(Object(p.a)(Object(p.a)({},_),{},{[e.target.name]:e.target.value}))},ee=Object.values(_).filter((e=>"true"===e)),te=e=>{d(Object(p.a)(Object(p.a)({},w),{},{[e.target.name]:""})),F(Object(p.a)(Object(p.a)({},B),{},{[e.target.name]:e.target.value}))},re=Object.values(B).filter((e=>"true"===e)),se=e=>{d(Object(p.a)(Object(p.a)({},l),{},{[e.target.name]:""})),L(Object(p.a)(Object(p.a)({},Y),{},{[e.target.name]:e.target.value}))},ie=Object.values(Y).filter((e=>"true"===e)),ne=e=>{d(Object(p.a)(Object(p.a)({},w),{},{[e.target.name]:""})),"true"===H.hivTestedBefore&&z(Object(p.a)(Object(p.a)({},H),{},{lastTest:""})),z(Object(p.a)(Object(p.a)({},H),{},{[e.target.name]:e.target.value}))},oe=e=>{d(Object(p.a)(Object(p.a)({},w),{},{[e.target.name]:""})),W(Object(p.a)(Object(p.a)({},M),{},{[e.target.name]:e.target.value}))},le=e=>{d(Object(p.a)(Object(p.a)({},w),{},{[e.target.name]:""})),G(Object(p.a)(Object(p.a)({},U),{},{[e.target.name]:e.target.value}))},de=e=>{d(Object(p.a)(Object(p.a)({},w),{},{[e.target.name]:""})),J(Object(p.a)(Object(p.a)({},K),{},{[e.target.name]:e.target.value}))},je=(e,t)=>{d(Object(p.a)(Object(p.a)({},w),{},{[e.target.name]:""})),"willingToCommencePrep"===e.target.name?q(Object(p.a)(Object(p.a)({},V),{},{[e.target.name]:e.target.value,reasonsForDecline:[]})):q(Object(p.a)(Object(p.a)({},V),{},{[e.target.name]:e.target.value}))};Object(r.useEffect)((()=>console.log("temp: ",w)));const be=t=>{var a,r;(t.preventDefault(),w.visitDate=A.visitDate?"":"\u26a0 This field is required.",w.lftConducted=A.lftConducted?"":"\u26a0 This field is required",w.liverFunctionTestResults="true"===A.lftConducted&&0===A.liverFunctionTestResults.length?"\u26a0 LFT is required":"",w.dateLiverFunctionTestResults="true"!==A.lftConducted||A.dateLiverFunctionTestResults?"":"\u26a0 This field is required.",w.sexPartner=A.sexPartner?"":"\u26a0 This field is required.",w.hivTestResultAtvisit=H.hivTestResultAtvisit?"":"\u26a0 This field is required.","PREP_VISIT_TYPE_METHOD_SWITCH"===A.visitType?w.reasonForSwitch=A.reasonForSwitch?"":"\u26a0 This field is required":w.reasonForSwitch="",d(Object(p.a)({},w)),Object.values(w).every((e=>""===e)))?(n(!0),A.drugUseHistory=H,A.personalHivRiskAssessment=_,A.sexPartnerRisk=B,A.stiScreening=Y,A.personId=null===e||void 0===e||null===(a=e.patientObj)||void 0===a?void 0:a.personId,A.uniqueId=null===e||void 0===e||null===(r=e.patientObj)||void 0===r?void 0:r.uniqueId,A.assessmentForAcuteHivInfection=U,A.assessmentForPepIndication=M,A.assessmentForPrepEligibility=K,A.servicesReceivedByClient=V,A.score=Oe(),e.activeContent&&"update"===e.activeContent.actionType?u.a.put("".concat(x,"prep-eligibility/").concat(e.activeContent.id),A,{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{n(!1),e.patientObj.eligibilityCount=1,e.patientObj.hivresultAtVisit=H.hivTestResultAtvisit,e.PatientObject(),o.b.success("Prep eligilibility saved successfully! \u2714",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{if(n(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong \u274c please try again";e.response.data.apierror?o.b.error(e.response.data.apierror.message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong \u274c please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):u.a.post("".concat(x,"prep/eligibility"),A,{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{n(!1),e.patientObj.eligibilityCount=1,e.patientObj.hivresultAtVisit=H.hivTestResultAtvisit,o.b.success("Prep eligilibility saved successfull! \u2714",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{if(n(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong \u274c please try again";e.response.data.apierror?o.b.error(e.response.data.apierror.message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong \u274c please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}))):(n(!1),o.b.error("All field are required \u26a0",{position:o.b.POSITION.BOTTOM_CENTER}))},he=()=>"female"===e.patientObj.gender.toLowerCase(),pe=()=>Number(e.patientObj.age)>=30,ue=()=>{if(null!==M&&void 0!==M)return Object.values(M).filter((e=>"true"===e)).length>0?0:1},me=()=>{if(null!==U&&void 0!==U)return Object.values(U).filter((e=>"true"===e)).length>0?0:1},Oe=()=>{var e=0;return e+="Negative"===H.hivTestResultAtvisit?1:0,e+=ee.length>0?1:0,e+=me(),e+=ue(),pe()&&!1===he()&&(e+="true"===(null===K||void 0===K?void 0:K.hasNoProteinuria)?1:0),e+="true"===(null===K||void 0===K?void 0:K.noHistoryOrSignsOfLiverAbnormalitiesCabLa)?1:0,e+="true"===(null===K||void 0===K?void 0:K.noHistoryOfDrugToDrugInteractionCabLa)?1:0,e+="true"===(null===K||void 0===K?void 0:K.noHistoryOfDrugHypersensitivityCabLa)?1:0,pe()&&!1===he()?e>=8?1:0:e>=7?1:0};return Object(r.useEffect)((()=>{u.a.get("".concat(x,"prep/activities/patients/").concat(e.patientObj.personId,"?full=true"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{I(e.data)})).catch((e=>{})),u.a.get("".concat(x,"application-codesets/v2/LIVER_FUNCTION_TEST_RESULT"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{D(e.data)})).catch((e=>{})),u.a.get("".concat(x,"application-codesets/v2/REASON_METHOD_SWITCH"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{g(e.data)})).catch((e=>{}))}),[]),Object(r.useEffect)((()=>{"false"===A.lftConducted&&E((e=>Object(p.a)(Object(p.a)({},e),{},{liverFunctionTestResults:[],dateLiverFunctionTestResults:""})))}),[A.lftConducted]),Object(r.useEffect)((()=>{"false"===H.hivTestedBefore&&z((e=>Object(p.a)(Object(p.a)({},e),{},{lastTest:""})))}),[H.hivTestedBefore]),Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(et.a,{className:a.root,children:Object(ce.jsxs)(Qe.a,{children:[Object(ce.jsx)("h1",{style:{fontSize:"1.1rem"},children:"PrEP Eligibility Screening Form"}),Object(ce.jsx)("form",{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(ce.jsxs)(He.a,{className:"p-2",children:[Object(ce.jsxs)(ze.a,{children:["Visit Date ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)("input",{type:"date",onKeyDown:e=>e.preventDefault(),className:"form-control",name:"visitDate",id:"visitDate",value:A.visitDate,onChange:Z,min:e.patientDetail&&null!==e.patientDetail.dateHivPositive?e.patientDetail.dateHivPositive:e.patientObj.dateOfRegistration,max:ae(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s}),""!==l.visitDate?Object(ce.jsx)("span",{className:a.error,children:l.visitDate}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(ce.jsxs)(He.a,{className:"p-2",children:[Object(ce.jsxs)(ze.a,{children:["Visit type ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"visitType",id:"visitType",value:A.visitType,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),h.map((e=>Object(ce.jsxs)("option",{value:e.code,children:[" ",e.display," "]})))]}),""!==l.visitType?Object(ce.jsx)("span",{className:a.error,children:l.visitType}):""]})}),"PREP_VISIT_TYPE_METHOD_SWITCH"===A.visitType&&Object(ce.jsxs)("div",{className:"form-group col-md-4 p-2",children:[Object(ce.jsxs)(He.a,{className:"p-2",children:[Object(ce.jsx)(ze.a,{children:"Reason for switch"}),Object(ce.jsx)("span",{style:{color:"red"},children:" *"}),Object(ce.jsxs)(Me.a,{type:"select",name:"reasonForSwitch",id:"reasonForSwitch",value:A.reasonForSwitch,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),null===O||void 0===O?void 0:O.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]})]}),""!==l.reasonForSwitch?Object(ce.jsx)("span",{className:a.error,children:l.reasonForSwitch}):""]}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(ce.jsxs)(He.a,{className:"p-2",children:[Object(ce.jsxs)(ze.a,{children:["Population type ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"populationType",id:"populationType",value:A.populationType,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),N.map((e=>Object(ce.jsxs)("option",{value:e.code,children:[" ",e.display," "]})))]}),""!==l.populationType?Object(ce.jsx)("span",{className:a.error,children:l.populationType}):""]})}),he()&&Object(ce.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(ce.jsxs)(He.a,{className:"p-2",children:[Object(ce.jsxs)(ze.a,{children:["Pregnancy Status ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"pregnancyStatus",id:"pregnancyStatus",value:A.pregnancyStatus,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),T.map((e=>Object(ce.jsxs)("option",{value:e.code,children:[" ",e.display," "]})))]}),""!==l.pregnancyStatus?Object(ce.jsx)("span",{className:a.error,children:l.pregnancyStatus}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(ce.jsxs)(He.a,{className:"p-2",children:[Object(ce.jsxs)(ze.a,{children:["Sex partners ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"sexPartner",id:"sexPartner",value:A.sexPartner,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Male",children:"Male"}),Object(ce.jsx)("option",{value:"Female",children:"Female"}),Object(ce.jsx)("option",{value:"Both",children:"Both"})]}),""!==l.sexPartner?Object(ce.jsx)("span",{className:a.error,children:l.sexPartner}):""]})}),"Male"===e.patientObj.gender||"male"===e.patientObj.gender&&Object(ce.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(ce.jsxs)(He.a,{className:"p-2",children:[Object(ce.jsx)(ze.a,{children:"Number of wives "}),Object(ce.jsx)("input",{className:"form-control",name:"numWives",id:"numWives",value:A.numWives,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s}),""!==l.numWives?Object(ce.jsx)("span",{className:a.error,children:l.numWives}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(ce.jsxs)(He.a,{className:"p-2",children:[Object(ce.jsxs)(ze.a,{children:["Type of counseling ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"counselingType",id:"counselingType",value:A.counselingType,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),j.map((e=>Object(ce.jsxs)("option",{value:e.id,children:[" ",e.display," "]},e.id)))]}),""!==l.counselingType?Object(ce.jsx)("span",{className:a.error,children:l.counselingType}):""]})}),Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-4 p-2",children:[Object(ce.jsxs)(He.a,{className:"p-2",children:[Object(ce.jsx)(tt.a,{children:"Liver Function Test conducted"}),Object(ce.jsx)("span",{style:{color:"red"},children:" *"}),Object(ce.jsxs)(Me.a,{type:"select",name:"lftConducted",id:"lftConducted",value:A.lftConducted,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:!0,children:"Yes"}),Object(ce.jsx)("option",{value:!1,children:"No"})]})]}),""!==l.lftConducted?Object(ce.jsx)("span",{className:a.error,children:l.lftConducted}):""]}),"true"===A.lftConducted&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-8",children:Object(ce.jsxs)(He.a,{className:"p-2",children:[Object(ce.jsxs)(ze.a,{for:"liverFunctionTestResults",children:["Liver Function Tests Result",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(st,{objValues:A,handleInputChange:e=>{const{name:t,value:a}=e.target;E((e=>Object(p.a)(Object(p.a)({},e),{},{[t]:a})))},liverFunctionTestResult:C,disabledField:s}),""!==l.liverFunctionTestResults?Object(ce.jsx)("span",{className:a.error,children:l.liverFunctionTestResults}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-8 p-2",children:Object(ce.jsxs)(He.a,{className:"p-2",children:[Object(ce.jsxs)(ze.a,{for:"dateLiverFunctionTestResults",children:["Date of Liver Function Tests Result"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Me.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateLiverFunctionTestResults",id:"dateLiverFunctionTestResults",max:ae(new Date).format("YYYY-MM-DD"),value:A.dateLiverFunctionTestResults,onChange:Z,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:s}),""!==l.dateLiverFunctionTestResults?Object(ce.jsx)("span",{className:a.error,children:l.dateLiverFunctionTestResults}):""]})})]}),Object(ce.jsx)("div",{className:"form-group my-4 col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"HIV Risk Assessment (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(ce.jsxs)(He.a,{className:"p-2",children:[Object(ce.jsx)(ze.a,{children:"Unprotected Vaginal sex with casual partner"}),Object(ce.jsxs)("select",{className:"form-control",name:"unprotectedVaginalSexCasual",id:"unprotectedVaginalSexCasual",value:_.unprotectedVaginalSexCasual,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.unprotectedVaginalSexCasual?Object(ce.jsx)("span",{className:a.error,children:l.unprotectedVaginalSexCasual}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-2",children:Object(ce.jsxs)(He.a,{className:"p-2",children:[Object(ce.jsx)(ze.a,{children:"Unprotected Vaginal sex with regular partner "}),Object(ce.jsxs)("select",{className:"form-control",name:"unprotectedVaginalSexRegular",id:"unprotectedVaginalSexRegular",value:_.unprotectedVaginalSexRegular,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.unprotectedVaginalSexRegular?Object(ce.jsx)("span",{className:a.error,children:l.unprotectedVaginalSexRegular}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Unprotected Anal sex with regular partner"}),Object(ce.jsxs)("select",{className:"form-control",name:"uprotectedAnalSexWithRegular",id:"uprotectedAnalSexWithRegular",value:_.uprotectedAnalSexWithRegular,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.uprotectedAnalSexWithRegular?Object(ce.jsx)("span",{className:a.error,children:l.uprotectedAnalSexWithRegular}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"History of STI"}),Object(ce.jsxs)("select",{className:"form-control",name:"stiHistory",id:"stiHistory",value:_.stiHistory,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.stiHistory?Object(ce.jsx)("span",{className:a.error,children:l.stiHistory}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Shared needles/injecting materials"}),Object(ce.jsxs)("select",{className:"form-control",name:"sharedNeedles",id:"sharedNeedles",value:_.sharedNeedles,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.sharedNeedles?Object(ce.jsx)("span",{className:a.error,children:l.sharedNeedles}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"More than 1 sex partner"}),Object(ce.jsxs)("select",{className:"form-control",name:"moreThan1SexPartner",id:"moreThan1SexPartner",value:_.moreThan1SexPartner,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.moreThan1SexPartner?Object(ce.jsx)("span",{className:a.error,children:l.moreThan1SexPartner}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Anal sex with Male/Female partner"}),Object(ce.jsxs)("select",{className:"form-control",name:"analSexWithPartner",id:"analSexWithPartner",value:_.analSexWithPartner,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.analSexWithPartner?Object(ce.jsx)("span",{className:a.error,children:l.analSexWithPartner}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Unprotected Anal sex with male/female partner"}),Object(ce.jsxs)("select",{className:"form-control",name:"unprotectedAnalSexWithPartner",id:"unprotectedAnalSexWithPartner",value:_.unprotectedAnalSexWithPartner,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.unprotectedAnalSexWithPartner?Object(ce.jsx)("span",{className:a.error,children:l.unprotectedAnalSexWithPartner}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Have you paid for sex in the last 6 months?"}),Object(ce.jsxs)("select",{className:"form-control",name:"haveYouPaidForSex",id:"haveYouPaidForSex",value:_.haveYouPaidForSex,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveYouPaidForSex?Object(ce.jsx)("span",{className:a.error,children:l.haveYouPaidForSex}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Have you been paid for sex in the last 6 months?"}),Object(ce.jsxs)("select",{className:"form-control",name:"moreThanOneSexPartnerLastThreeMonths",id:"moreThanOneSexPartnerLastThreeMonths",value:_.moreThanOneSexPartnerLastThreeMonths,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.moreThanOneSexPartnerLastThreeMonths?Object(ce.jsx)("span",{className:a.error,children:l.moreThanOneSexPartnerLastThreeMonths}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Have you experienced condom breakage?"}),Object(ce.jsxs)("select",{className:"form-control",name:"experienceCondomBreakage",id:"experienceCondomBreakage",value:_.experienceCondomBreakage,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.experienceCondomBreakage?Object(ce.jsx)("span",{className:a.error,children:l.experienceCondomBreakage}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Have you taken part in sexual orgy?"}),Object(ce.jsxs)("select",{className:"form-control",name:"takenPartInSexualOrgy",id:"takenPartInSexualOrgy",value:_.takenPartInSexualOrgy,onChange:$,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.takenPartInSexualOrgy?Object(ce.jsx)("span",{className:a.error,children:l.takenPartInSexualOrgy}):""]})}),Object(ce.jsxs)(at.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:"Personal HIV Risk assessment score (sum of all 7 answers)"}),Object(ce.jsxs)("b",{children:["Score : ",ee.length]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Sex Partner Risk Assessment (Last 3 months)"}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Have you had sex with a partner who is HIV positive?"}),Object(ce.jsxs)("select",{className:"form-control",name:"haveSexWithHIVPositive",id:"haveSexWithHIVPositive",value:B.haveSexWithHIVPositive,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveSexWithHIVPositive?Object(ce.jsx)("span",{className:a.error,children:l.haveSexWithHIVPositive}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Have you had sex with a partner who injects drugs?"}),Object(ce.jsxs)("select",{className:"form-control",name:"haveSexWithPartnerInjectDrug",id:"haveSexWithPartnerInjectDrug",value:B.haveSexWithPartnerInjectDrug,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveSexWithPartnerInjectDrug?Object(ce.jsx)("span",{className:a.error,children:l.haveSexWithPartnerInjectDrug}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Have you had sex with a partner who has sex with men?"}),Object(ce.jsxs)("select",{className:"form-control",name:"haveSexWithPartnerWhoHasSexWithMen",id:"haveSexWithPartnerWhoHasSexWithMen",value:B.haveSexWithPartnerWhoHasSexWithMen,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveSexWithPartnerWhoHasSexWithMen?Object(ce.jsx)("span",{className:a.error,children:l.haveSexWithPartnerWhoHasSexWithMen}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-6 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Have you had sex with a partner who is a transgender person?"}),Object(ce.jsxs)("select",{className:"form-control",name:"haveSexWithPartnerTransgender",id:"haveSexWithPartnerTransgender",value:B.haveSexWithPartnerTransgender,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.haveSexWithPartnerTransgender?Object(ce.jsx)("span",{className:a.error,children:l.haveSexWithPartnerTransgender}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-6 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Have you had sex with a partner who has sex with multiple partners without condoms?"}),Object(ce.jsxs)("select",{className:"form-control",name:"sexWithPartnersWithoutCondoms",id:"sexWithPartnersWithoutCondoms",value:B.sexWithPartnersWithoutCondoms,onChange:te,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.sexWithPartnersWithoutCondoms?Object(ce.jsx)("span",{className:a.error,children:l.sexWithPartnersWithoutCondoms}):""]})}),Object(ce.jsxs)(at.a,{warning:!0,children:[Object(ce.jsx)("h4",{children:"Sex Partner Risk Assessment score (sum of all 6 answers)"}),Object(ce.jsxs)("b",{children:["Score: ",re.length]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group col-md-12 text-center p-2 mb-4",style:{backgroundColor:"#014D88",width:"125%",color:"#fff",fontWeight:"bold"},children:"Assessment for PEP Indication"}),Object(ce.jsx)("div",{className:"form-group col-md-6 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"In the past 72 hours, have you had sex without a condom with someone whose HIV status is positive or not known to you?"}),Object(ce.jsxs)("select",{className:"form-control",name:"unprotectedSexWithHivPositiveOrUnknownStatusLast72Hours",id:"unprotectedSexWithHivPositiveOrUnknownStatusLast72Hours",value:null===M||void 0===M?void 0:M.unprotectedSexWithHivPositiveOrUnknownStatusLast72Hours,onChange:oe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.unprotectedSexWithHivPositiveOrUnknownStatusLast72Hours?Object(ce.jsx)("span",{className:a.error,children:l.unprotectedSexWithHivPositiveOrUnknownStatusLast72Hours}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-6 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Have you shared injection equipment like needles with someone whose HIV status is positive or unknown to you?"}),Object(ce.jsxs)("select",{className:"form-control",name:"sharedInjectionOrNeedleWithHivPositiveOrUnknownStatusLast72Hours",id:"sharedInjectionOrNeedleWithHivPositiveOrUnknownStatusLast72Hours",value:null===M||void 0===M?void 0:M.sharedInjectionOrNeedleWithHivPositiveOrUnknownStatusLast72Hours,onChange:oe,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.sharedInjectionOrNeedleWithHivPositiveOrUnknownStatusLast72Hours?Object(ce.jsx)("span",{className:a.error,children:l.sharedInjectionOrNeedleWithHivPositiveOrUnknownStatusLast72Hours}):""]})}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#992E62",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Assessment for Acute HIV Infection"}),Object(ce.jsx)("div",{className:"form-group  col-md-6 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"In the past 2 weeks: Have you had a cold or flu such as fever, sore throat, abnormal sweats, swollen lymph nodes, mouth sores, headache or rash?"}),Object(ce.jsxs)("select",{className:"form-control",name:"acuteHivSymptomsLasttwoWeeks",id:"acuteHivSymptomsLasttwoWeeks",value:null===U||void 0===U?void 0:U.acuteHivSymptomsLasttwoWeeks,onChange:le,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.acuteHivSymptomsLasttwoWeeks?Object(ce.jsx)("span",{className:a.error,children:l.acuteHivSymptomsLasttwoWeeks}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-6 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Have you had condomless anal or vaginal sex or shared injection materials and/or equipment in the past 28 days?"}),Object(ce.jsxs)("select",{className:"form-control",name:"unprotectedAnalOrVaginalOrSharedNeedlesLast28Days",id:"unprotectedAnalOrVaginalOrSharedNeedlesLast28Days",value:null===U||void 0===U?void 0:U.unprotectedAnalOrVaginalOrSharedNeedlesLast28Days,onChange:le,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.unprotectedAnalOrVaginalOrSharedNeedlesLast28Days?Object(ce.jsx)("span",{className:a.error,children:l.unprotectedAnalOrVaginalOrSharedNeedlesLast28Days}):""]})}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#000",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Drug Use History"}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("h3",{children:"Route of Administration"}),Object(ce.jsx)("h4",{children:"Do you use any of these drugs/substances ?"}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group col-md-6 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Inject"}),Object(ce.jsxs)("select",{className:"form-control",name:"inject",id:"inject",value:H.inject,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.inject?Object(ce.jsx)("span",{className:a.error,children:l.inject}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-6 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Sniff"}),Object(ce.jsxs)("select",{className:"form-control",name:"sniff",id:"sniff",value:H.sniff,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.sniff?Object(ce.jsx)("span",{className:a.error,children:l.sniff}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-6 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Snort"}),Object(ce.jsxs)("select",{className:"form-control",name:"Snort",id:"Snort",value:H.fever,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.Snort?Object(ce.jsx)("span",{className:a.error,children:l.Snort}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-6 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Smoke"}),Object(ce.jsxs)("select",{className:"form-control",name:"smoke",id:"smoke",value:H.smoke,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.smoke?Object(ce.jsx)("span",{className:a.error,children:l.smoke}):""]})})]}),Object(ce.jsx)("hr",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Have you used drugs to enhance sexual performance ?"}),Object(ce.jsxs)("select",{className:"form-control",name:"useDrugSexualPerformance",id:"useDrugSexualPerformance",value:H.useDrugSexualPerformance,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.useDrugSexualPerformance?Object(ce.jsx)("span",{className:a.error,children:l.useDrugSexualPerformance}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Have you had HIV testing before ?"}),Object(ce.jsxs)("select",{className:"form-control",name:"hivTestedBefore",id:"hivTestedBefore",value:H.hivTestedBefore,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.hivTestedBefore?Object(ce.jsx)("span",{className:a.error,children:l.hivTestedBefore}):""]})}),"true"===H.hivTestedBefore&&Object(ce.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"When was your last test?"}),Object(ce.jsxs)("select",{className:"form-control",name:"lastTest",id:"lastTest",value:H.lastTest,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsxs)("option",{value:"1 Month",children:["<","1 Month"]}),Object(ce.jsx)("option",{value:"1-3 Months",children:"1-3 Months"}),Object(ce.jsx)("option",{value:"4-6Months",children:"4-6 Months"}),Object(ce.jsxs)("option",{value:"6Months",children:[">","6 months"]})]}),""!==l.lastTest?Object(ce.jsx)("span",{className:a.error,children:l.lastTest}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{children:["HIV test result at visit"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)("select",{className:"form-control",name:"hivTestResultAtvisit",id:"hivTestResultAtvisit",value:H.hivTestResultAtvisit,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Positive",children:"Positive"}),Object(ce.jsx)("option",{value:"Negative",children:"Negative"})]}),""!==l.hivTestResultAtvisit?Object(ce.jsx)("span",{className:a.error,children:l.hivTestResultAtvisit}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Recommended for HIV Retest ?"}),Object(ce.jsxs)("select",{className:"form-control",name:"recommendHivRetest",id:"recommendHivRetest",value:H.recommendHivRetest,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.recommendHivRetest?Object(ce.jsx)("span",{className:a.error,children:l.recommendHivRetest}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Tested in certain Clinical settings, such as STI clinics?"}),Object(ce.jsxs)("select",{className:"form-control",name:"clinicalSetting",id:"clinicalSetting",value:H.clinicalSetting,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.clinicalSetting?Object(ce.jsx)("span",{className:a.error,children:l.clinicalSetting}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Report ongoing HIV risk behaviors?"}),Object(ce.jsxs)("select",{className:"form-control",name:"reportHivRisk",id:"reportHivRisk",value:H.reportHivRisk,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.reportHivRisk?Object(ce.jsx)("span",{className:a.error,children:l.reportHivRisk}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Report a specific HIV exposure within the last 3 months"}),Object(ce.jsxs)("select",{className:"form-control",name:"hivExposure",id:"hivExposure",value:H.hivExposure,onChange:ne,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.hivExposure?Object(ce.jsx)("span",{className:a.error,children:l.hivExposure}):""]})})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"col-md-12 text-center pt-2 mb-4",style:{backgroundColor:"#014D88",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Syndromic STI Screening"}),e.patientDetail&&"Female"===e.patientDetail.personResponseDto.sex&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Complaints of vaginal discharge or burning when urinating?"}),Object(ce.jsxs)("select",{className:"form-control",name:"vaginalDischarge",id:"vaginalDischarge",value:Y.vaginalDischarge,onChange:se,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.vaginalDischarge?Object(ce.jsx)("span",{className:a.error,children:l.vaginalDischarge}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Complaints of lower abdominal pains with or without vaginal discharge?"}),Object(ce.jsxs)("select",{className:"form-control",name:"lowerAbdominalPains",id:"lowerAbdominalPains",value:Y.lowerAbdominalPains,onChange:se,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.lowerAbdominalPains?Object(ce.jsx)("span",{className:a.error,children:l.lowerAbdominalPains}):""]})})]}),e.patientObj.personResponseDto&&"Male"===e.patientDetail.personResponseDto.sex&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Complaints of urethral discharge or burning when urinating?"}),Object(ce.jsxs)("select",{className:"form-control",name:"urethralDischarge",id:"urethralDischarge",value:Y.urethralDischarge,onChange:se,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.urethralDischarge?Object(ce.jsx)("span",{className:a.error,children:l.urethralDischarge}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Complaints of scrotal swelling and pain"}),Object(ce.jsxs)("select",{className:"form-control",name:"complaintsOfScrotal",id:"complaintsOfScrotal",value:Y.complaintsOfScrotal,onChange:se,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.complaintsOfScrotal?Object(ce.jsx)("span",{className:a.error,children:l.complaintsOfScrotal}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Complaints of genital sore(s) or swollen inguinal lymph nodes with or without pains?"}),Object(ce.jsxs)("select",{className:"form-control",name:"complaintsGenitalSore",id:"complaintsGenitalSore",value:Y.complaintsGenitalSore,onChange:se,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.complaintsGenitalSore?Object(ce.jsx)("span",{className:a.error,children:l.complaintsGenitalSore}):""]})})]}),Object(ce.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Genital sore +/-pains?"}),Object(ce.jsxs)("select",{className:"form-control",name:"genitalScore",id:"genitalScore",value:Y.genitalScore,onChange:se,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.genitalScore?Object(ce.jsx)("span",{className:a.error,children:l.genitalScore}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Swollen iguinal lymph node +/-pains?"}),Object(ce.jsxs)("select",{className:"form-control",name:"swollenIguinal",id:"swollenIguinal",value:Y.swollenIguinal,onChange:se,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.swollenIguinal?Object(ce.jsx)("span",{className:a.error,children:l.swollenIguinal}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Anal pain on stooling?"}),Object(ce.jsxs)("select",{className:"form-control",name:"analpain",id:"analpain",value:Y.analpain,onChange:se,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.analpain?Object(ce.jsx)("span",{className:a.error,children:l.analpain}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Anal itching?"}),Object(ce.jsxs)("select",{className:"form-control",name:"analItching",id:"analItching",value:Y.analItching,onChange:se,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.analItching?Object(ce.jsx)("span",{className:a.error,children:l.analItching}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-6 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Anal discharge?"}),Object(ce.jsxs)("select",{className:"form-control",name:"analDischarge",id:"analDischarge",value:Y.analDischarge,onChange:se,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.analDischarge?Object(ce.jsx)("span",{className:a.error,children:l.analDischarge}):""]})}),Object(ce.jsxs)(at.a,{warning:!0,children:[Object(ce.jsxs)("h4",{children:["Calculate the sum of the STI screening. If ",">= ","1, should be referred for STI test"," "]}),Object(ce.jsxs)("b",{children:["Score :",ie.length]})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center pt-2 mb-4 p-3",style:{backgroundColor:"#014D88",width:"125%",height:"35px",color:"#fff",fontWeight:"bold"},children:"Assessment for PrEP Eligibilty"}),Object(ce.jsxs)("div",{className:"col-md-6 p-3",children:[Object(ce.jsxs)("div",{className:"d-flex",children:[Object(ce.jsx)("div",{style:{flex:1},children:Object(ce.jsx)(He.a,{children:Object(ce.jsxs)(ze.a,{children:["HIV Negative:"," ",Object(ce.jsx)("span",{className:"badge badge-info",children:"".concat("Negative"===H.hivTestResultAtvisit?1:0)})," "]})})}),Object(ce.jsx)("div",{style:{flex:1},children:Object(ce.jsxs)(ze.a,{children:["HIV Risk Score > 1:"," ",Object(ce.jsx)("span",{className:"badge badge-info",children:"".concat(ee.length>0?1:0)})]})})]}),Object(ce.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Has no proteinuria (>=30 Years)"}),Object(ce.jsxs)("select",{className:"form-control",name:"hasNoProteinuria",id:"hasNoProteinuria",value:null===K||void 0===K?void 0:K.hasNoProteinuria,onChange:de,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.hasNoProteinuria?Object(ce.jsx)("span",{className:a.error,children:l.hasNoProteinuria}):""]})})]}),Object(ce.jsx)("div",{className:"form-group  col-md-6 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"No history/signs & symptoms of Liver abnormalities (CAB-LA)"}),Object(ce.jsxs)("select",{className:"form-control",name:"noHistoryOrSignsOfLiverAbnormalitiesCabLa",id:"noHistoryOrSignsOfLiverAbnormalitiesCabLa",value:null===K||void 0===K?void 0:K.noHistoryOrSignsOfLiverAbnormalitiesCabLa,onChange:de,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.noHistoryOrSignsOfLiverAbnormalitiesCabLa?Object(ce.jsx)("span",{className:a.error,children:l.noHistoryOrSignsOfLiverAbnormalitiesCabLa}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"No history of PrEP drug interaction (CAB-LA)"}),Object(ce.jsxs)("select",{className:"form-control",name:"noHistoryOfDrugToDrugInteractionCabLa",id:"noHistoryOfDrugToDrugInteractionCabLa",value:null===K||void 0===K?void 0:K.noHistoryOfDrugToDrugInteractionCabLa,onChange:de,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.noHistoryOfDrugToDrugInteractionCabLa?Object(ce.jsx)("span",{className:a.error,children:l.noHistoryOfDrugToDrugInteractionCabLa}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-8 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"No history of drug hypersensitivity (CAB-LA)"}),Object(ce.jsxs)("select",{className:"form-control",name:"noHistoryOfDrugHypersensitivityCabLa",id:"noHistoryOfDrugHypersensitivityCabLa",value:null===K||void 0===K?void 0:K.noHistoryOfDrugHypersensitivityCabLa,onChange:de,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.noHistoryOfDrugHypersensitivityCabLa?Object(ce.jsx)("span",{className:a.error,children:l.noHistoryOfDrugHypersensitivityCabLa}):""]})}),Object(ce.jsxs)(at.a,{warning:!0,children:[Object(ce.jsxs)("h4",{children:["Calculate the sum of PrEP Eligibility. If ",">= ","1 client is Eligible for PrEP. (Score: Count Yes=1, No=0)."]}),Object(ce.jsx)("h5",{children:"HIV Negative: ".concat("Negative"===H.hivTestResultAtvisit?1:0)}),Object(ce.jsx)("h5",{children:"HIV risk score >=1 : ".concat(ee.length>0?1:0)}),Object(ce.jsx)("h5",{children:"No signs & symptoms of acute HIV infection: ".concat(me())}),Object(ce.jsx)("h5",{children:"No Indication for PEP: ".concat(ue())}),pe()&&!1===he()&&Object(ce.jsx)("h5",{children:"Has no proteinuria: ".concat("true"===(null===K||void 0===K?void 0:K.hasNoProteinuria)?1:0)})]}),Object(ce.jsxs)(at.a,{warning:!0,children:[Object(ce.jsxs)("h4",{children:["Calculate the sum of PrEP Eligibility for CAB-LA regimen. If the following below =1 client is Eligible for CAB-LA."," ","(Score: Count Yes=1, No=0)"]}),Object(ce.jsx)("h5",{children:"No history / signs & symptoms of Liver abnormalities (CAB-LA): ".concat("true"===(null===K||void 0===K?void 0:K.noHistoryOrSignsOfLiverAbnormalitiesCabLa)?1:0)}),Object(ce.jsx)("h5",{children:"No history of PrEP drug interaction (CAB-LA): ".concat("true"===(null===K||void 0===K?void 0:K.noHistoryOfDrugToDrugInteractionCabLa)?1:0)}),Object(ce.jsx)("h5",{children:"No history of drug hypersensitivity (CAB-LA): ".concat("true"===(null===K||void 0===K?void 0:K.noHistoryOfDrugHypersensitivityCabLa)?1:0)})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"form-group  col-md-12 text-center mb-4 p-2",style:{backgroundColor:"#014D88",width:"125%",color:"#fff",fontWeight:"bold"},children:"Services Received by Client"}),Object(ce.jsx)("div",{className:"form-group  col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Willing to commence PrEP"}),Object(ce.jsxs)("select",{className:"form-control",name:"willingToCommencePrep",id:"willingToCommencePrep",value:null===V||void 0===V?void 0:V.willingToCommencePrep,onChange:je,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),""!==l.willingToCommencePrep?Object(ce.jsx)("span",{className:a.error,children:l.willingToCommencePrep}):""]})}),"false"===(null===V||void 0===V?void 0:V.willingToCommencePrep)&&Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Reasons for Declining PrEP"}),Object(ce.jsx)(_e.a,{value:null===V||void 0===V?void 0:V.reasonsForDecline,placeholder:"select reasons for decline",onChange:(e,t)=>{q(Object(p.a)(Object(p.a)({},V),{},{reasonsForDecline:t.value}))},fluid:!0,multiple:!0,selection:!0,options:f.map((e=>({key:e.code,text:e.display,value:e.code})))}),""!==l.reasonsForDecline?Object(ce.jsx)("span",{className:a.error,children:l.reasonsForDecline}):""]})}),void 0!==(null===V||void 0===V||null===(t=V.reasonsForDecline)||void 0===t?void 0:t.find((e=>"REASON_PREP_DECLINED_OTHERS_(SPECIFY)"===e)))&&Object(ce.jsx)("div",{className:"form-group  col-md-12 p-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Other Reasons for Declining PrEP (Specify)"}),Object(ce.jsx)(Me.a,{className:"form-control",name:"otherReasonsForDecline",id:"otherReasonsForDecline",value:null===V||void 0===V?void 0:V.otherReasonsForDecline,onChange:je,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:s}),""!==l.reasonsForDecline?Object(ce.jsx)("span",{className:a.error,children:l.reasonsForDecline}):""]})}),c?Object(ce.jsx)($e.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"form-group mb-3 col-md-12 p-3",children:e.activeContent&&"update"===e.activeContent.actionType?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Q.a,{type:"submit",variant:"contained",color:"primary",hidden:s,className:a.button,startIcon:Object(ce.jsx)(Ue.a,{}),style:{backgroundColor:"#014d88"},onClick:be,disabled:c,children:c?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Q.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(ce.jsx)(Ue.a,{}),style:{backgroundColor:"#014d88"},onClick:be,disabled:c,children:c?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})})})]})})]})})})};const ct=Object(Z.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var nt=e=>{var t,a,s,i;const[c,n]=Object(r.useState)({}),[l,d]=Object(r.useState)(!1),[j,b]=Object(r.useState)(),[h,m]=Object(r.useState)(!1),[O,g]=Object(r.useState)([]),[f,y]=Object(r.useState)([]),[N,S]=Object(r.useState)([]),[T,R]=Object(r.useState)([]),[C,D]=Object(r.useState)([]),[P,I]=Object(r.useState)([]),[w,A]=Object(r.useState)([]),[E,_]=Object(r.useState)([]),[k,B]=Object(r.useState)([]),[F,Y]=Object(r.useState)([]),[L,H]=Object(r.useState)([]),[z,M]=Object(r.useState)([]),[W,V]=Object(r.useState)([]),[q,U]=Object(r.useState)([]),[G,K]=Object(r.useState)([]),[J,X]=Object(r.useState)([]),[Z,$]=Object(r.useState)([]),[ee,ae]=Object(r.useState)([]),[se,ie]=Object(r.useState)([]),[ne,oe]=Object(r.useState)(""),[le,de]=Object(r.useState)(null),[je,be]=Object(r.useState)(""),[he,pe]=Object(r.useState)(""),[ue,Oe]=Object(r.useState)([]),[xe,ve]=Object(r.useState)([]),[ge,fe]=Object(r.useState)([]),[ye,Ne]=Object(r.useState)([]),[Se,Te]=Object(r.useState)({weight:"",diastolic:"",height:"",systolic:"",pulse:"",temperature:"",respiratoryRate:""}),[Re,Ce]=Object(r.useState)({adherenceLevel:"",dateInitialAdherenceCounseling:"",datePrepGiven:"",datePrepStart:"",dateReferre:"",diastolic:"",encounterDate:"",extra:{},height:"",hepatitis:{},nextAppointment:"",prepNotedSideEffects:[],notedSideEffects:"",wasPrepAdministered:"",otherTestsDone:[],personId:e.patientObj.personId,pregnant:"",prepEnrollmentUuid:"",pulse:"",referred:"",regimenId:"",otherRegimenId:"",otherPrepGiven:"",respiratoryRate:"",riskReductionServices:"",healthCareWorkerSignature:"",stiScreening:"",syndromicStiScreening:null,syphilis:{},systolic:"",temperature:"",urinalysis:{},creatinine:{},urinalysisResult:"",creatinineResult:"",weight:"",why:"",otherDrugs:"",prepGiven:"",hivTestResult:"",hivTestResultDate:"",prepType:"",otherPrepType:"",populationType:"",prepDistributionSetting:"",familyPlanning:"",dateOfFamilyPlanning:"",monthsOfRefill:"",visitType:"",reasonForSwitch:"",dateLiverFunctionTestResults:"",liverFunctionTestResults:[]}),[De,Pe]=Object(r.useState)({urinalysisTest:"No",testDate:"",result:""}),[Ie,we]=Object(r.useState)({creatinineTest:"No",testDate:"",result:""}),[Ae,Ee]=Object(r.useState)({syphilisTest:"No",testDate:"",result:"",others:""}),[_e,ke]=Object(r.useState)({hepatitisTest:"No",testDate:"",result:""}),[Be,Fe]=Object(r.useState)([]),qe=ct();let Ge=Object(p.a)({},c),Xe=[];const[Qe,$e]=Object(r.useState)([]),et=async(t,a)=>{t&&await u.a.get("".concat(x,"prep-clinic/checkEnableCab/").concat(e.patientObj.personId,"/").concat(t),{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{var r;let s=null===t||void 0===t?void 0:t.data,i=null===a||void 0===a?void 0:a.filter((e=>"CAB-LA(600mg/3mL)"!==e.code)),c=null===(r=[...Z])||void 0===r?void 0:r.filter((e=>"PREP_TYPE_INJECTIBLES"!==e.code));return s||"PREP_VISIT_TYPE_METHOD_SWITCH"===(null===Re||void 0===Re?void 0:Re.visitType)||["update"].includes(e.activeContent.actionType)?($(Qe),I(a)):($(c),I(i)),null===t||void 0===t?void 0:t.data})).catch((e=>{}))},tt=()=>{u.a.get("".concat(x,"prep/eligibility/open/patients/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{Re.prepEnrollmentUuid=""})).catch((e=>{}))},at=e=>{u.a.get("".concat(x,"prep-regimen"),{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{et(e,t.data)})).catch((e=>{}))};const rt=async()=>{u.a.get("".concat(x,"prep-eligibility/person/").concat(null===Re||void 0===Re?void 0:Re.personId),{headers:{Authorization:"Bearer ".concat(v)}}).then((async e=>{const t=(a=null===e||void 0===e?void 0:e.data,a.sort(((e,t)=>{const a=new Date(e.visitDate);return new Date(t.visitDate)-a})))[0];var a;de(t)})).catch((e=>{}))};const[it,nt]=Object(r.useState)(!1),ot=e=>{if(n(Object(p.a)(Object(p.a)({},c),{},{[e.target.name]:""})),"monthsOfRefill"===e.target.name){const t=Number(e.target.value);Ce(Object(p.a)(Object(p.a)({},Re),{},{monthsOfRefill:e.target.value,duration:"".concat(t)}))}else"encounterDate"===e.target.name?(nt((t=e.target.value,a=null===le||void 0===le?void 0:le.visitDate,t===a)),at(e.target.value),Ce(Object(p.a)(Object(p.a)({},Re),{},{[e.target.name]:e.target.value})),lt(e.target.value,null===le||void 0===le?void 0:le.visitDate)):"otherPrepGiven"===e.target.name?Ce(Object(p.a)(Object(p.a)({},Re),{},{[e.target.name]:e.target.value})):Ce(Object(p.a)(Object(p.a)({},Re),{},{[e.target.name]:e.target.value}));var t,a},lt=(e,t)=>{e!==t?o.b.error("\u26a0 Please enter a date that matches the latest eligibility date!"):o.b.success("The visit date matches the latest eligibility date. Great job! \ud83d\udc4d")};Object(r.useEffect)((()=>{it||(Ce((e=>Object(p.a)(Object(p.a)({},e),{},{populationType:"",visitType:"",pregnant:"",liverFunctionTestResults:[],dateLiverFunctionTestResults:""}))),oe(""))}),[it]);const dt=e=>{n(Object(p.a)(Object(p.a)({},c),{},{[e.target.name]:""})),Pe(Object(p.a)(Object(p.a)({},De),{},{[e.target.name]:e.target.value}))},jt=e=>{n(Object(p.a)(Object(p.a)({},c),{},{creatinineResult:"",creatinineTestDate:""})),we(Object(p.a)(Object(p.a)({},Ie),{},{[e.target.name]:e.target.value}))},bt=(e,t)=>{let a=[...Be],r=a.findIndex((e=>Number(e.localId)===Number(t)));a[r][e.target.name]=e.target.value,Fe(a)},ht=e=>{n(Object(p.a)(Object(p.a)({},c),{},{[e.target.name]:""})),ke(Object(p.a)(Object(p.a)({},_e),{},{[e.target.name]:e.target.value}))},pt=e=>{n(Object(p.a)(Object(p.a)({},c),{},{[e.target.name]:""})),Ee(Object(p.a)(Object(p.a)({},Ae),{},{[e.target.name]:e.target.value})),"result"===e.target.name&&"Others"!==e.target.value&&(Ae.others="",Ee(Object(p.a)(Object(p.a)({},Ae),{},{others:""})),Ee(Object(p.a)(Object(p.a)({},Ae),{},{[e.target.name]:e.target.value}))),Ee(Object(p.a)(Object(p.a)({},Ae),{},{[e.target.name]:e.target.value}))},ut=Object(r.useRef)(),mt=()=>{Ce({adherenceLevel:"",dateInitialAdherenceCounseling:"",datePrepGiven:"",datePrepStart:"",dateReferre:"",diastolic:"",encounterDate:"",extra:{},height:"",hepatitis:{},nextAppointment:"",notedSideEffects:"",prepNotedSideEffects:"",otherTestsDone:[],personId:e.patientObj.personId,pregnant:"",prepEnrollmentUuid:"",pulse:"",referred:"",regimenId:"",respiratoryRate:"",riskReductionServices:"",stiScreening:"",syndromicStiScreening:null,syphilis:{},systolic:"",temperature:"",urinalysis:{},urinalysisResult:"",creatinine:{},creatinineResult:"",weight:"",why:"",otherDrugs:"",hivTestResult:"",duration:"",prepGiven:"",prepDistributionSetting:"",visitType:""}),Pe({}),we({}),Ee({}),ke({}),Fe([])},Ot=()=>"female"===e.patientObj.gender.toLowerCase(),xt=()=>(Ge.lastHts=je?"":"\u26a0 Atleast, 1 HIV test result is required",Ge.monthsOfRefill=Re.monthsOfRefill?"":"\u26a0 This field is required",Ge.prepType=Re.prepType?"":"\u26a0 This field is required",Ge.wasPrepAdministered=Re.wasPrepAdministered?"":"\u26a0 This field is required",function(e,t){for(const a of t)for(const t of null===a||void 0===a?void 0:a.activities)if("Prep Eligibility"===t.name&&gt(new Date(t.date),new Date(e)))return!0}(Ge.encounterDate,e.encounters),Ge.encounterDate=Re.encounterDate?"":"\u26a0 This field is required",Ot()&&(Ge.pregnant=Re.pregnant?"":"\u26a0 This field is required"),Ge.nextAppointment=Re.nextAppointment?"":"\u26a0 This field is required",Ge.height=Re.height?"":"\u26a0 This field is required","PREP_TYPE_INJECTIBLES"===Re.prepType&&(Ge.otherPrepGiven=Re.otherPrepGiven?"":"\u26a0 This field is required"),Ge.weight=Re.weight?"":"\u26a0 This field is required",Ge.regimenId=Re.regimenId?"":"\u26a0 This field is required",Ge.prepDistributionSetting=Re.prepDistributionSetting?"":"\u26a0 This field is required",Ge.populationType=Re.populationType?"":"\u26a0 This field is required",Ge.visitType=Re.visitType?"":"\u26a0 This field is required","PREP_VISIT_TYPE_METHOD_SWITCH"===Re.visitType?Ge.reasonForSwitch=Re.reasonForSwitch?"":"\u26a0 This field is required":Ge.reasonForSwitch="","Yes"===(null===De||void 0===De?void 0:De.urinalysisTest)&&""===(null===De||void 0===De?void 0:De.testDate)?Ge.urinalysisTestDate="\u26a0 This field is required":Ge.urinalysisTestDate="",n(Object(p.a)({},Ge)),Object.values(Ge).every((e=>""===e))),vt=t=>{var a,r;t.preventDefault(),async function(){if(xt()){var t;if(m(!0),Re.duration=Re.monthsOfRefill,Re.hivTestResultDate=he,Re.hivTestResult=je,Re.syphilis=Ae,Re.hepatitis=_e,Re.urinalysis=De,Re.creatinine=Ie,Re.otherTestsDone=Be,Re.prepEnrollmentUuid=j.uuid,Re.prepNotedSideEffects=ft,Re.notedSideEffects="",Re.previousPrepStatus=null===(t=e.patientObj)||void 0===t?void 0:t.prepStatus,e.activeContent&&"update"===e.activeContent.actionType)try{await u.a.put("".concat(x,"prep-clinic/").concat(e.activeContent.id),Re,{headers:{Authorization:"Bearer ".concat(v)}});m(!1),o.b.success("Clinic visit updated successfully! \u2714",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"consultation",activeTab:"history",actionType:"view"}))}catch(a){St(a)}else try{await u.a.post("".concat(x,"prep/clinic-visit"),Re,{headers:{Authorization:"Bearer ".concat(v)}});m(!1),mt(),o.b.success("Clinic Visit saved successfully! \u2714",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"consultation",activeTab:"history",actionType:"view"}))}catch(a){St(a)}}}(null===(a=e.patientObj)||void 0===a||a.personUuid,null===(r=e.patientObj)||void 0===r||r.prepStatus)};function gt(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}Object(r.useEffect)((()=>{""!==e.activeContent.actionType&&null!==e.activeContent.actionType||mt()}),[e.activeContent.actionType]),Object(r.useEffect)((()=>{if(null!==Re.populationType&&void 0!==Re.populationType){const e=null===ee||void 0===ee?void 0:ee.find((e=>e.code===Re.populationType));oe(e?e.display:"")}}),[Re.populationType]),Object(r.useEffect)((()=>{if(it&&null!==le){const e=null===ee||void 0===ee?void 0:ee.find((e=>e.code===(null===le||void 0===le?void 0:le.populationType)));Ce((e=>Object(p.a)(Object(p.a)({},e),{},{populationType:(null===le||void 0===le?void 0:le.populationType)||"",visitType:(null===le||void 0===le?void 0:le.visitType)||"",monthsOfRefill:Nt["".concat(null===le||void 0===le?void 0:le.visitType)]||"",reasonForSwitch:(null===le||void 0===le?void 0:le.reasonForSwitch)||"",pregnant:(null===le||void 0===le?void 0:le.pregnancyStatus)||""}))),oe(e?e.display:"")}}),[le,it,ee]),Object(r.useEffect)((()=>{const e=(e,t)=>{const a=Re[e];null!==a&&void 0!==a&&a.testDate&&null!==a&&void 0!==a&&a.result&&null!==a&&void 0!==a&&a["".concat(e,"Test")]&&t(Object(p.a)(Object(p.a)({},a),{},{testDate:a.testDate,result:a.result,["".concat(e,"Test")]:a["".concat(e,"Test")]}))};e("urinalysis",Pe),e("creatinine",we),e("syphilis",Ee),e("hepatitis",ke)}),[Re]),Object(r.useEffect)((async()=>{e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(tt(e.activeContent.id),d("view"===e.activeContent.actionType))}),[e.activeContent]),Object(r.useEffect)((async()=>{var t,a,r,s,i,c,n,o,l,j,h,p,m,O,f,N,T;ve(null===(t=await void u.a.get("".concat(x,"application-codesets/v2/PrEP_RISK_REDUCTION_PLAN"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{ve(e.data)})).catch((e=>{})))||void 0===t?void 0:t.data),g(null===(a=await async function(){u.a.get("".concat(x,"application-codesets/v2/PrEP_LEVEL_OF_ADHERENCE"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{g(e.data)})).catch((e=>{}))}())||void 0===a?void 0:a.data),ve(null===(r=void u.a.get("".concat(x,"application-codesets/v2/SYNDROMIC_STI_SCREENING"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{y(e.data)})).catch((e=>{})))||void 0===r?void 0:r.data),S(null===(s=void u.a.get("".concat(x,"application-codesets/v2/PREP_STATUS"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{S(e.data)})).catch((e=>{})))||void 0===s?void 0:s.data),D(null===(i=void u.a.get("".concat(x,"application-codesets/v2/HTS_RESULT"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{D(e.data)})).catch((e=>{})))||void 0===i?void 0:i.data),R(null===(c=await(async()=>await u.a.get("".concat(x,"application-codesets/v2/PREP_SIDE_EFFECTS"),{headers:{Authorization:"Bearer ".concat(v)}}))())||void 0===c?void 0:c.data),b(null===(n=void u.a.get("".concat(x,"prep/enrollment/open/patients/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{b(e.data)})).catch((e=>{})))||void 0===n?void 0:n.data),A(null===(o=void u.a.get("".concat(x,"application-codesets/v2/WHY_POOR_FAIR_ADHERENCE"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{A(e.data)})).catch((e=>{})))||void 0===o?void 0:o.data),tt(),_(null===(l=void u.a.get("".concat(x,"laboratory/labtestgroups"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{var t;null===e||void 0===e||null===(t=e.data)||void 0===t||t.map((e=>{var t;null===e||void 0===e||null===(t=e.labTests)||void 0===t||t.map((t=>{Xe.push({value:t.id,label:t.labTestName,testGroupId:e.id,testGroupName:e.groupName,sampleType:t.sampleType})}))})),_(Xe)})).catch((e=>{})))||void 0===l?void 0:l.data),B(null===(j=void u.a.get("".concat(x,"application-codesets/v2/PREP_URINALYSIS_RESULT"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{B(null===e||void 0===e?void 0:e.data)})).catch((e=>{})))||void 0===j?void 0:j.data),H(null===(h=void u.a.get("".concat(x,"application-codesets/v2/PREP_OTHER_TEST"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{H(e.data)})).catch((e=>{})))||void 0===h?void 0:h.data),V(null===(p=void u.a.get("".concat(x,"application-codesets/v2/HEPATITIS_SCREENING_RESULT"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{V(null===e||void 0===e?void 0:e.data)})).catch((e=>{})))||void 0===p?void 0:p.data),Ee(null===(m=void u.a.get("".concat(x,"application-codesets/v2/SYPHILIS_RESULT"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{M(e.data)})).catch((e=>{})))||void 0===m?void 0:m.data),K(null===(O=void u.a.get("".concat(x,"application-codesets/v2/PREGNANCY_STATUS"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{K(e.data)})).catch((e=>{})))||void 0===O?void 0:O.data),X(null===(f=void u.a.get("".concat(x,"application-codesets/v2/PrEP_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{X(e.data)})).catch((e=>{})))||void 0===f?void 0:f.data),u.a.get("".concat(x,"application-codesets/v2/PrEP_TYPE"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{$e(e.data),$(e.data)})).catch((e=>{})),ae((async()=>{u.a.get("".concat(x,"application-codesets/v2/POPULATION_TYPE"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{ae(null===e||void 0===e?void 0:e.data)})).catch((e=>{}))})().data),ie(null===(N=void u.a.get("".concat(x,"application-codesets/v2/PrEP_VISIT_TYPE"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{ie(e.data)})).catch((e=>{})))||void 0===N?void 0:N.data),U(null===(T=void u.a.get("".concat(x,"application-codesets/v2/FAMILY_PLANNING_METHOD"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{U(e.data)})).catch((e=>{})))||void 0===T?void 0:T.data),(async()=>{u.a.get("".concat(x,"prep-clinic/").concat(e.activeContent.id),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{var t;const{data:a}=JSON.parse(JSON.stringify(e));Fe(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.otherTestsDone),Ce(a)})).catch((e=>{}))})(e.activeContent.id),d(!["update",void 0].includes(e.activeContent.actionType))}),[e.activeContent]),Object(r.useEffect)((()=>{u.a.get("".concat(x,"prep/activities/patients/").concat(e.patientObj.personId,"?full=true"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{fe(e.data)})).catch((e=>{})),u.a.get("".concat(x,"prep-clinic/hts-record/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{var t,a,r,s,i,c;0===(null===(t=e.data)||void 0===t?void 0:t.length)?o.b.error("\u26a0 No HTS record found. Atleast, 1 test result is required to proceed"):(null===(a=e.data)||void 0===a?void 0:a.length)>0&&o.b.success("\ud83d\udc4d HTS record found. You may proceed \u2714"),be(null===e||void 0===e||null===(r=e.data)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.hivTestResult),pe(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(c=i[0])||void 0===c?void 0:c.visitDate)})).catch((e=>{})),u.a.get("".concat(x,"application-codesets/v2/REASON_METHOD_SWITCH"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{Oe(e.data)})).catch((e=>{})),u.a.get("".concat(x,"application-codesets/v2/CREATININE_TEST_RESULT"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{Y(null===e||void 0===e?void 0:e.data)})).catch((e=>{})),u.a.get("".concat(x,"application-codesets/v2/LIVER_FUNCTION_TEST_RESULT"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{Ne(e.data)})).catch((e=>{})),rt()}),[]),Object(r.useEffect)((()=>{["update","view"].includes(e.activeContent.actionType)&&u.a.get("".concat(x,"prep-regimen"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{I(e.data)})).catch((e=>{}))}),[e.activeContent.actionType]);Object(r.useEffect)((()=>{it&&le&&Ce((e=>Object(p.a)(Object(p.a)({},e),{},{liverFunctionTestResults:le.liverFunctionTestResults,dateLiverFunctionTestResults:le.dateLiverFunctionTestResults||""})))}),[le,it]);const[ft,yt]=Object(r.useState)([]);Object(r.useEffect)((()=>()=>{Ce((e=>Object(p.a)(Object(p.a)({},e),{},{otherPrepType:"",otherRegimenId:""})))}),[]),Object(r.useEffect)((()=>{"false"===Re.otherPrepGiven&&Ce((e=>Object(p.a)(Object(p.a)({},e),{},{otherPrepType:"",otherRegimenId:""})))}),[Re.otherPrepGiven]);const Nt={PREP_VISIT_TYPE_DISCONTINUATION:null,"PREP_VISIT_TYPE_DISCONTINUATION_FOLLOW-UP":null,PREP_VISIT_TYPE_INITIATION:30,PREP_VISIT_TYPE_METHOD_SWITCH:null,PREP_VISIT_TYPE_NO_PREP_PROVIDED:null,"PREP_VISIT_TYPE_REFILL_RE-INJECTION":60,PREP_VISIT_TYPE_RESTART:30,PREP_VISIT_TYPE_SECOND_INITIATION:60,PREP_VISIT_TYPE_TRANSFER_IN:null};function St(e){if(m(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"\u274c Something went wrong. Please try again";o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong \u274c please try again...",{position:o.b.POSITION.BOTTOM_CENTER})}return Object(r.useEffect)((()=>{let e=function(e,t){const a=new Date(e);if(isNaN(a.getTime())||"number"!==typeof t||isNaN(t))return"";a.setDate(a.getDate()+t);const r=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");return"".concat(r,"-").concat(s,"-").concat(i)}(Re.encounterDate,Re.monthsOfRefill);Ce((t=>Object(p.a)(Object(p.a)({},t),{},{nextAppointment:e})))}),[Re.encounterDate,Re.monthsOfRefill]),Object(ce.jsxs)("div",{className:"".concat(qe.root," container-fluid"),children:[Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"col-12",children:Object(ce.jsx)("h2",{className:"p-2",children:"Clinic Follow-up Visit"})})}),Object(ce.jsx)(Ye.a,{children:Object(ce.jsx)(Ye.a.Column,{children:Object(ce.jsxs)(Le.a,{children:[Object(ce.jsx)(te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h4",{style:{color:"#fff"},children:"VITAL SIGNS"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{children:["Date of Visit ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Me.a,{className:"form-control",type:"date",name:"encounterDate",id:"encounterDate",onKeyDown:e=>e.preventDefault(),value:Re.encounterDate,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:ot,min:j&&j.dateEnrolled?j.dateEnrolled:"",max:re()(new Date).format("YYYY-MM-DD"),disabled:l}),""!==c.encounterDate?Object(ce.jsx)("span",{className:qe.error,children:c.encounterDate}):""]})}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Pulse"}),Object(ce.jsxs)(We.a,{children:[Object(ce.jsx)(Me.a,{type:"number",name:"pulse",id:"pulse",onChange:ot,min:"40",max:"120",value:Re.pulse,onKeyUp:e=>{if("pulse"===e.target.name&&(e.target.value<40||e.target.value>120)){const e="\u26a0 Pulse must not be greater than 120 and less than 40";Te(Object(p.a)(Object(p.a)({},Se),{},{pulse:e}))}else Te(Object(p.a)(Object(p.a)({},Se),{},{pulse:""}))},style:{border:"1px solid #014D88",borderRadius:"0.25rem",borderTopRightRadius:"0",borderBottomRightRadius:"0"},disabled:l}),Object(ce.jsx)(Ve.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},children:"bmp"})]}),""!==Se.pulse?Object(ce.jsx)("span",{className:qe.error,children:Se.pulse}):"",""!==c.pulse?Object(ce.jsx)("span",{className:qe.error,children:c.pulse}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Respiratory Rate "}),Object(ce.jsxs)(We.a,{children:[Object(ce.jsx)(Me.a,{type:"number",name:"respiratoryRate",id:"respiratoryRate",onChange:ot,min:"10",max:"70",value:Re.respiratoryRate,onKeyUp:e=>{if("respiratoryRate"===e.target.name&&(e.target.value<10||e.target.value>70)){const e="\u26a0 Respiratory Rate must not be greater than 70 and less than 10";Te(Object(p.a)(Object(p.a)({},Se),{},{respiratoryRate:e}))}else Te(Object(p.a)(Object(p.a)({},Se),{},{respiratoryRate:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem",borderTopLeftRadius:"0.25rem",borderBottomLeftRadius:"0.25rem"},disabled:l}),Object(ce.jsx)(Ve.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},children:"bmp"})]}),""!==Se.respiratoryRate?Object(ce.jsx)("span",{className:qe.error,children:Se.respiratoryRate}):"",""!==c.respiratoryRate?Object(ce.jsx)("span",{className:qe.error,children:c.respiratoryRate}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Temperature "}),Object(ce.jsxs)(We.a,{children:[Object(ce.jsx)(Me.a,{type:"number",name:"temperature",id:"temperature",onChange:ot,min:"35",max:"47",value:Re.temperature,onKeyUp:e=>{if("temperature"===e.target.name&&(e.target.value<35||e.target.value>47)){const e="\u26a0 Temperature must not be greater than 47 and less than 35";Te(Object(p.a)(Object(p.a)({},Se),{},{temperature:e}))}else Te(Object(p.a)(Object(p.a)({},Se),{},{temperature:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem",borderTopLeftRadius:"0.25rem",borderBottomLeftRadius:"0.25rem"},disabled:l}),Object(ce.jsxs)(Ve.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},children:[Object(ce.jsx)("sup",{children:"o"}),"c"]})]}),""!==Se.temperature?Object(ce.jsx)("span",{className:qe.error,children:Se.temperature}):"",""!==c.temperature?Object(ce.jsx)("span",{className:qe.error,children:c.temperature}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-5",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{children:["Body Weight ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(We.a,{children:[Object(ce.jsx)(Me.a,{type:"number",name:"weight",id:"weight",onChange:ot,min:"3",max:"150",value:Re.weight,onKeyUp:e=>{if("weight"===e.target.name&&(e.target.value<3||e.target.value>150)){const e="\u26a0 Body weight must not be greater than 150 and less than 3";Te(Object(p.a)(Object(p.a)({},Se),{},{weight:e}))}else Te(Object(p.a)(Object(p.a)({},Se),{},{weight:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem",borderTopLeftRadius:"0.25rem",borderBottomLeftRadius:"0.25rem"},disabled:l}),Object(ce.jsx)(Ve.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},children:"kg"})]}),""!==Se.weight?Object(ce.jsx)("span",{className:qe.error,children:Se.weight}):"",""!==c.weight?Object(ce.jsx)("span",{className:qe.error,children:c.weight}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{children:["Height ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(We.a,{children:[Object(ce.jsx)(Ve.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem",borderTopLeftRadius:"0.25rem",borderBottomLeftRadius:"0.25rem"},children:"cm"}),Object(ce.jsx)(Me.a,{type:"number",name:"height",id:"height",onChange:ot,value:Re.height,min:"48.26",max:"216.408",onKeyUp:e=>{if("height"===e.target.name&&(e.target.value<48.26||e.target.value>216.408)){const e="\u26a0 Height cannot be greater than 216.408 and less than 48.26";Te(Object(p.a)(Object(p.a)({},Se),{},{height:e}))}else Te(Object(p.a)(Object(p.a)({},Se),{},{height:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:l}),Object(ce.jsx)(Ve.a,{addonType:"append",style:{backgroundColor:"#992E62",color:"#fff",border:"1px solid #992E62",borderRadius:"0rem",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},children:""!==Re.height?(Re.height/100).toFixed(2)+"m":"m"})]}),""!==Se.height?Object(ce.jsx)("span",{className:qe.error,children:Se.height}):"",""!==c.height?Object(ce.jsx)("span",{className:qe.error,children:c.height}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 mt-2 col-md-2",children:""!==Re.weight&&""!==Re.height&&Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(te.a,{children:" "}),Object(ce.jsx)(We.a,{children:Object(ce.jsxs)(Ve.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88"},children:["BMI :"," ",(Re.weight/(Re.height/100*(Re.height/100))).toFixed(2)]})})]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-8",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Blood Pressure"}),Object(ce.jsxs)(We.a,{children:[Object(ce.jsx)(Ve.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem",borderTopLefttRadius:"0.25rem",borderBottomLeftRadius:"0.25rem"},children:"systolic(mmHg)"}),Object(ce.jsx)(Me.a,{type:"number",name:"systolic",id:"systolic",min:"90",max:"240",onChange:ot,value:Re.systolic,onKeyUp:e=>{if("systolic"===e.target.name&&(e.target.value<90||e.target.value>240)){const e="\u26a0 Blood Pressure systolic must not be greater than 240 and less than 90";Te(Object(p.a)(Object(p.a)({},Se),{},{systolic:e}))}else Te(Object(p.a)(Object(p.a)({},Se),{},{systolic:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"},disabled:l}),Object(ce.jsx)(Ve.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"diastolic(mmHg)"}),Object(ce.jsx)(Me.a,{type:"number",name:"diastolic",id:"diastolic",min:0,max:140,onChange:ot,value:Re.diastolic,onKeyUp:e=>{if("diastolic"===e.target.name&&(e.target.value<60||e.target.value>140)){const e="\u26a0 Blood Pressure diastolic must not be greater than 140 and less than 60";Te(Object(p.a)(Object(p.a)({},Se),{},{diastolic:e}))}else Te(Object(p.a)(Object(p.a)({},Se),{},{diastolic:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},disabled:l})]}),""!==Se.systolic?Object(ce.jsx)("span",{className:qe.error,children:Se.systolic}):"",""!==c.systolic?Object(ce.jsx)("span",{className:qe.error,children:c.systolic}):"",""!==Se.diastolic?Object(ce.jsx)("span",{className:qe.error,children:Se.diastolic}):"",""!==c.diastolic?Object(ce.jsx)("span",{className:qe.error,children:c.diastolic}):""]})}),Ot()&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{children:["Pregnancy Status"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(Me.a,{type:"select",name:"pregnant",id:"pregnant",onChange:ot,value:Re.pregnant,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select Pregnancy Status"}),null===G||void 0===G?void 0:G.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==c.pregnant?Object(ce.jsx)("span",{className:qe.error,children:c.pregnant}):""]})})]})]}),Object(ce.jsx)(te.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h4",{style:{color:"#fff"}})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{children:["Result of Last HIV Test"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsx)(Me.a,{type:"text",name:"hivTestResult",id:"hivTestResult",value:je,onChange:e=>{be(e.target.value),ot(e)},style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!0}),Object(ce.jsx)("div",{className:"p-1",children:""!==c.lastHts?Object(ce.jsx)("span",{className:qe.error,children:c.lastHts}):""})]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{children:["Date of Last HIV Test"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Me.a,{type:"NOT DONE"==je?"text":"date",name:"hivTestResultDate",id:"hivTestResultDate",value:"NOT DONE"==je?"NOT APPLICABLE":he,onChange:e=>{be(e.target.value),ot(e)},style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!0}),Object(ce.jsx)("div",{className:"p-1",children:""!==c.lastHtsDate?Object(ce.jsx)("span",{className:qe.error,children:c.lastHtsDate}):""})]})}),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"liverFunctionTestResults",children:"Liver Function Tests Result"}),Object(ce.jsx)(st,{objValues:Re,handleInputChange:e=>{const{name:t,value:a}=e.target;Ce((e=>Object(p.a)(Object(p.a)({},e),{},{[t]:a})))},liverFunctionTestResult:ye,disabledField:!0,isAutoPop:!0}),""!==c.liverFunctionTestResults?Object(ce.jsx)("span",{className:qe.error,children:c.liverFunctionTestResults}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-8",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"dateLiverFunctionTestResults",children:["Date of Liver Function Tests Result"," "]}),Object(ce.jsx)(Me.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateLiverFunctionTestResults",id:"dateLiverFunctionTestResults",max:re()(new Date).format("YYYY-MM-DD"),value:Re.dateLiverFunctionTestResults,onChange:ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!0}),""!==c.dateLiverFunctionTestResults?Object(ce.jsx)("span",{className:qe.error,children:c.dateLiverFunctionTestResults}):""]})})]}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Noted Side Effects"}),Object(ce.jsx)(Ze.a,{options:null===T||void 0===T?void 0:T.map((e=>({value:e.code,label:e.display}))),selected:ft,onChange:e=>{yt(e),Ce(Object(p.a)(Object(p.a)({},Re),{},{notedSideEffects:e}))},disabled:l}),""!==c.notedSideEffects?Object(ce.jsx)("span",{className:qe.error,children:c.notedSideEffects}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"STI Screening"}),Object(ce.jsxs)(Me.a,{type:"select",name:"stiScreening",id:"stiScreening",value:Re.stiScreening,onChange:ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),"true"===Re.stiScreening&&Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Syndromic STI Screening "}),Object(ce.jsxs)(Me.a,{type:"select",name:"syndromicStiScreening",id:"syndromicStiScreening",value:Re.syndromicStiScreening,onChange:ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),null===f||void 0===f?void 0:f.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Risk Reduction Service "}),Object(ce.jsxs)(Me.a,{type:"select",name:"riskReductionServices",id:"riskReductionServices",value:Re.riskReductionServices,onChange:ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(ce.jsx)("option",{value:"",children:"Select"},100),null===xe||void 0===xe?void 0:xe.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Level of Adherence"}),Object(ce.jsxs)(Me.a,{type:"select",name:"adherenceLevel",id:"adherenceLevel",value:Re.adherenceLevel,onChange:ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),null===O||void 0===O?void 0:O.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==c.adherenceLevel?Object(ce.jsx)("span",{className:qe.error,children:c.adherenceLevel}):""]})}),"PREP_LEVEL_OF_ADHERENCE_(POOR)_\u2265_7_DOSES"===Re.adherenceLevel&&Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Why Poor/Fair Adherence "}),Object(ce.jsxs)(Me.a,{type:"select",name:"whyAdherenceLevelPoor",id:"whyAdherenceLevelPoor",value:Re.whyAdherenceLevelPoor,onChange:ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),null===w||void 0===w?void 0:w.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"",children:["Population Type ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(Me.a,{type:"select",name:"populationType",id:"populationType",onChange:ot,value:Re.populationType,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(ce.jsx)("option",{value:"",children:" Select Population Type"}),null===ee||void 0===ee?void 0:ee.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id))),!(null!==ee&&void 0!==ee&&ee.find((e=>"GenPop"===e.display)))&&Object(ce.jsx)("option",{value:"POPULATION_TYPE_GEN_POP",children:"GenPop"})]}),""!==c.populationType?Object(ce.jsx)("span",{className:qe.error,children:c.populationType}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"",children:["Visit Type ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(Me.a,{type:"select",name:"visitType",id:"visitType",onChange:ot,value:Re.visitType,disabled:!0,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(ce.jsx)("option",{value:"",children:" Select Visit Type"}),null===se||void 0===se?void 0:se.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==c.visitType?Object(ce.jsx)("span",{className:qe.error,children:c.visitType}):""]})}),"PREP_VISIT_TYPE_METHOD_SWITCH"===Re.visitType&&Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-6",children:[Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Reason for switch"}),Object(ce.jsx)("span",{style:{color:"red"},children:" *"}),Object(ce.jsxs)(Me.a,{type:"select",name:"reasonForSwitch",id:"reasonForSwitch",value:Re.reasonForSwitch,onChange:ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!0,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),null===ue||void 0===ue?void 0:ue.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]})]}),""!==c.reasonForSwitch?Object(ce.jsx)("span",{className:qe.error,children:c.reasonForSwitch}):""]}),Object(ce.jsxs)("div",{className:"form-group mb-3 col-md-6",children:[Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Was PrEP Administered?"}),Object(ce.jsx)("span",{style:{color:"red"},children:" *"}),Object(ce.jsxs)(Me.a,{type:"select",name:"wasPrepAdministered",id:"wasPrepAdministered",value:Re.wasPrepAdministered,onChange:ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]}),""!==c.wasPrepAdministered?Object(ce.jsx)("span",{className:qe.error,children:c.wasPrepAdministered}):""]}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"",children:["Prep Type",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(Me.a,{type:"select",name:"prepType",id:"prepType",style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:e=>{Ce(Object(p.a)(Object(p.a)({},Re),{},{regimenId:"",prepType:e.target.value})),"PREP_TYPE_OTHERS"===e.target.value||"PREP_TYPE_ED_PREP"===e.target.value?at(Re.encounterDate):u.a.get("".concat(x,"prep-regimen/prepType?prepType=").concat(e.target.value),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{et(Re.encounterDate,e.data)})).catch((e=>{})),n(Object(p.a)(Object(p.a)({},c),{},{[e.target.name]:""}))},value:Re.prepType,disabled:l,children:[Object(ce.jsx)("option",{value:"",children:" Select PrEP Type"}),null===Z||void 0===Z?void 0:Z.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==c.prepType?Object(ce.jsx)("span",{className:qe.error,children:c.prepType}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"",children:["PrEP Regimen ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(Me.a,{type:"select",name:"regimenId",id:"regimenId",onChange:ot,value:Re.regimenId,disabled:l,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(ce.jsx)("option",{value:"",children:" Select"}),["update","view"].includes(e.activeContent.actionType)?null===P||void 0===P?void 0:P.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.regimen},e.id))):"PREP_VISIT_TYPE_METHOD_SWITCH"===(null===Re||void 0===Re?void 0:Re.visitType)?null===(Tt=P,Rt=null===(a=e.recentActivities[0])||void 0===a?void 0:a.regimenId,t=null===Tt||void 0===Tt?void 0:Tt.filter((e=>e.id!==Rt)))||void 0===t?void 0:t.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.regimen},e.id))):null===P||void 0===P?void 0:P.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.regimen},e.id)))]}),""!==c.regimenId?Object(ce.jsx)("span",{className:qe.error,children:c.regimenId}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{children:["Duration of refill (days)"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Me.a,{type:"number",name:"monthsOfRefill",id:"monthsOfRefill",value:Re.monthsOfRefill,min:0,onChange:ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l}),""!==c.monthsOfRefill?Object(ce.jsx)("span",{className:qe.error,children:c.monthsOfRefill}):""]})}),Re.prepType&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Other PrEP given"}),Object(ce.jsx)("span",{style:{color:"red"},children:" *"}),Object(ce.jsxs)(Me.a,{type:"select",name:"otherPrepGiven",id:"otherPrepGiven",value:Re.otherPrepGiven,onChange:ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]}),""!==c.otherPrepGiven?Object(ce.jsx)("span",{className:qe.error,children:c.otherPrepGiven}):""]})}),"true"===Re.otherPrepGiven&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"",children:["Other PrEP Type",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(Me.a,{type:"select",name:"otherPrepType",id:"otherPrepType",style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:ot,value:Re.otherPrepType,disabled:l,children:[Object(ce.jsx)("option",{value:"",children:" Select Prep Type"}),null===Z||void 0===Z||null===(s=Z.filter(((e,t)=>"PREP_TYPE_ED_PREP"!==e.code)))||void 0===s||null===(i=s.filter(((e,t)=>e.code!==Re.prepType)))||void 0===i?void 0:i.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==c.otherPrepType?Object(ce.jsx)("span",{className:qe.error,children:c.otherPrepType}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"",children:["Other PrEP Regimen"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(Me.a,{type:"select",name:"otherRegimenId",id:"otherRegimenId",onChange:ot,value:Re.otherRegimenId,disabled:l,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),(()=>{switch(Re.otherPrepType){case"PREP_TYPE_ORAL":return Object(ce.jsx)("option",{value:"1",children:"TDF(300mg)+3TC(300mg)"});case"PREP_TYPE_INJECTIBLES":return Object(ce.jsx)("option",{value:"2",children:"IM CAB-LA(600mg/3mL)"});case"PREP_TYPE_ED_PREP":return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("option",{value:"2",children:"IM CAB-LA(600mg/3mL)"}),Object(ce.jsx)("option",{value:"1",children:"TDF(300mg)+3TC(300mg)"})]});default:return null}})()]}),""!==c.otherRegimenId?Object(ce.jsx)("span",{className:qe.error,children:c.otherRegimenId}):""]})})]})]}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"",children:["PrEP Distribution Setting"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(Me.a,{type:"select",name:"prepDistributionSetting",id:"prepDistributionSetting",onChange:ot,value:Re.prepDistributionSetting,disabled:l,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(ce.jsx)("option",{value:""}),null===J||void 0===J?void 0:J.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==c.prepDistributionSetting?Object(ce.jsx)("span",{className:qe.error,children:c.prepDistributionSetting}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Other Drugs"}),Object(ce.jsx)(Me.a,{type:"text",name:"otherDrugs",id:"otherDrugs",value:Re.otherDrugs,onChange:ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"",children:"Family Planning"}),Object(ce.jsxs)(Me.a,{type:"select",name:"familyPlanning",id:"familyPlanning",onChange:ot,value:Re.familyPlanning,disabled:l,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(ce.jsx)("option",{value:""}),null===q||void 0===q?void 0:q.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Date of Family Planning "}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateOfFamilyPlanning",id:"dateOfFamilyPlanning",value:Re.dateOfFamilyPlanning,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:ot,max:re()(new Date).format("YYYY-MM-DD"),disabled:l}),""!==c.dateOfFamilyPlanning?Object(ce.jsx)("span",{className:qe.error,children:c.dateOfFamilyPlanning}):""]})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsxs)("h4",{style:{color:"#fff"},children:[Object(ce.jsx)("input",{type:"checkbox",name:"creatinineTest",value:"Yes",onChange:e=>{n(Object(p.a)(Object(p.a)({},c),{},{[e.target.name]:""})),"Yes"===(null===Ie||void 0===Ie?void 0:Ie.creatinineTest)?we({creatinineTest:"No",testDate:"",result:""}):we(Object(p.a)(Object(p.a)({},Ie),{},{creatinineTest:"Yes"}))},checked:"Yes"===Ie.creatinineTest})," ","Creatinine Test"]})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),"Yes"===Ie.creatinineTest&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Creatinine Test Date "}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"testDate",id:"testDate",value:Ie.testDate,onChange:jt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:Re.encounterDate,max:re()(new Date).format("YYYY-MM-DD"),disabled:l}),""!==c.creatinineTestDate?Object(ce.jsx)("span",{className:qe.error,children:c.creatinineTestDate}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Creatinine Test Result "}),Object(ce.jsx)(Me.a,{type:"text",name:"result",id:"result",placeholder:"Enter test result...",value:Ie.result,onChange:jt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l}),""!==c.creatinineResult?Object(ce.jsx)("span",{className:qe.error,children:c.creatinineResult}):""]})})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(te.a,{as:"a",color:"teal",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsxs)("h4",{style:{color:"#fff"},children:[Object(ce.jsx)("input",{type:"checkbox",name:"urinalysisTest",value:"Yes",onChange:e=>{n(Object(p.a)(Object(p.a)({},c),{},{[e.target.name]:""})),"Yes"===(null===De||void 0===De?void 0:De.urinalysisTest)?Pe({urinalysisTest:"No",testDate:"",result:""}):Pe(Object(p.a)(Object(p.a)({},De),{},{urinalysisTest:"Yes"}))},checked:"Yes"===(null===De||void 0===De?void 0:De.urinalysisTest)})," ","Urinalysis Test"]})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),"Yes"===(null===De||void 0===De?void 0:De.urinalysisTest)&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Urinalysis Test Date "}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"testDate",id:"testDate",value:null===De||void 0===De?void 0:De.testDate,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:Re.encounterDate,max:re()(new Date).format("YYYY-MM-DD"),disabled:l}),""!==c.urinalysisTestDate?Object(ce.jsx)("span",{className:qe.error,children:c.urinalysisTestDate}):""]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Urinalysis Test Result "}),Object(ce.jsxs)(Me.a,{type:"select",name:"result",id:"result",value:null===De||void 0===De?void 0:De.result,onChange:dt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),null===k||void 0===k?void 0:k.map((e=>Object(ce.jsx)("option",{value:e.display,children:e.display},e.id)))]}),""!==c.result?Object(ce.jsx)("span",{className:qe.error,children:c.result}):""]})})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsxs)("h4",{style:{color:"#fff"},children:[Object(ce.jsx)("input",{type:"checkbox",name:"hepatitisTest",value:"Yes",onChange:e=>{n(Object(p.a)(Object(p.a)({},c),{},{[e.target.name]:""})),"Yes"===(null===_e||void 0===_e?void 0:_e.hepatitisTest)?ke({hepatitisTest:"No",testDate:"",result:""}):ke(Object(p.a)(Object(p.a)({},_e),{},{hepatitisTest:"Yes"}))},checked:"Yes"===_e.hepatitisTest})," ","Hepatitis Test"," "]})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),"Yes"===_e.hepatitisTest&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Hepatitis Test Date"}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"testDate",id:"testDate",value:_e.testDate,onChange:ht,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:Re.encounterDate,max:re()(new Date).format("YYYY-MM-DD"),disabled:l})]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Hepatitis Test Result"}),Object(ce.jsxs)(Me.a,{type:"select",name:"result",id:"result",value:_e.result,onChange:ht,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),null===W||void 0===W?void 0:W.map((e=>Object(ce.jsx)("option",{value:e.display,children:e.display},e.id)))]})]})})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(te.a,{as:"a",color:"red",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsxs)("h4",{style:{color:"#fff"},children:[Object(ce.jsx)("input",{type:"checkbox",name:"syphilisTest",value:"Yes",onChange:e=>{n(Object(p.a)(Object(p.a)({},c),{},{[e.target.name]:""})),"Yes"===(null===Ae||void 0===Ae?void 0:Ae.syphilisTest)?Ee({syphilisTest:"No",testDate:"",result:"",others:""}):Ee(Object(p.a)(Object(p.a)({},Ae),{},{syphilisTest:"Yes"}))},checked:"Yes"===(null===Ae||void 0===Ae?void 0:Ae.syphilisTest)})," ","Syphilis Test"," "]})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),"Yes"===(null===Ae||void 0===Ae?void 0:Ae.syphilisTest)&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Syphilis Test Date"}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"testDate",id:"testDate",value:null===Ae||void 0===Ae?void 0:Ae.testDate,onChange:pt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,min:Re.encounterDate,max:re()(new Date).format("YYYY-MM-DD")})]})}),Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Syphilis Test Result"}),Object(ce.jsxs)(Me.a,{type:"select",name:"result",id:"result",value:null===Ae||void 0===Ae?void 0:Ae.result,onChange:pt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),null===z||void 0===z?void 0:z.map((e=>Object(ce.jsx)("option",{value:e.display,children:e.display},e.id)))]})]})}),"Others"===(null===Ae||void 0===Ae?void 0:Ae.result)&&Object(ce.jsx)("div",{className:" mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Syphilis Test Result (Others)"}),Object(ce.jsx)(Me.a,{type:"text",name:"others",id:"others",value:Ae.others,onChange:pt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l})]})})]}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(te.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsxs)("h4",{style:{color:"#fff"},children:[Object(ce.jsx)("input",{type:"checkbox",name:"otherTest",value:"Yes",ref:ut,onChange:e=>{var t;(n(Object(p.a)(Object(p.a)({},c),{},{[e.target.name]:""})),Be.length>0)?Fe([]):Fe([...Be,...Re.otherTestsDone,{localId:(null===(t=Re.otherTestsDone)||void 0===t?void 0:t.length)||0,otherTest:"Yes",testDate:"",result:"",name:"",otherTestName:""}])},checked:Be.length>0})," ","Other Test"," "]})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Be.length>0&&(null===Be||void 0===Be?void 0:Be.map((e=>Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:" mb-1 col-md-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:" Test Name"}),Object(ce.jsxs)(Me.a,{type:"select",name:"otherTestsDone",id:"otherTestsDone","data-localid":e.localId,"data-field":"name",onChange:t=>bt(t,e.localId),value:e.otherTestsDone,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),null===L||void 0===L?void 0:L.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]})]})}),"PREP_OTHER_TEST_OTHER_(SPECIFY)"===e.name&&Object(ce.jsx)("div",{style:{display:"none"},className:" mb-1 col-md-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:" Other Test Name "}),Object(ce.jsx)(Me.a,{type:"text",name:"otherTestName",id:"otherTestName","data-localid":e.localId,"data-field":"otherTestName",value:e.otherTestName,onChange:t=>bt(t,e.localId),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l})]})}),Object(ce.jsx)("div",{className:" mb-1 col-md-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:" Test Date"}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"testDate",id:"testDate","data-localid":e.localId,"data-field":"testDate",value:e.testDate,onChange:t=>bt(t,e.localId),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l,min:Re.encounterDate,max:re()(new Date).format("YYYY-MM-DD")})]})}),Object(ce.jsx)("div",{className:" mb-1 col-md-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:" Test Result"}),Object(ce.jsx)(Me.a,{type:"text",name:"result",id:"result","data-localid":e.localId,"data-field":"result",value:e.result,onChange:t=>bt(t,e.localId),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:l})]})}),Object(ce.jsx)("div",{className:" mb-1 col-md-3 d-flex align-items-end",children:Object(ce.jsx)("button",{variant:"contained",color:"secondary",size:"medium",className:"".concat(qe.button," btn btn-danger"),style:{display:"block",margin:0,fontSize:"1.2em"},disabled:l,onClick:()=>{return t=e.localId,void Fe((e=>null===e||void 0===e?void 0:e.filter((e=>e.localId!==t))));var t},children:Object(ce.jsx)(me.b,{})})}),Be.length>1&&Object(ce.jsx)(Je.a,{component:"li",style:{marginBottom:"10px"}})]},e.localId)))),""!==c.otherTestsDone?Object(ce.jsx)("span",{className:qe.error,children:c.otherTestsDone}):"",Be.length>0&&Object(ce.jsx)("div",{className:"p-2",children:Object(ce.jsx)(Q.a,{type:"button",variant:"contained",color:"primary",className:"".concat(qe.button),startIcon:Object(ce.jsx)(Ke.a,{}),style:{backgroundColor:"#014d88"},onClick:()=>{Fe([...Be,{localId:Be.length,otherTest:"Yes",testDate:"",result:"",name:"",otherTestName:""}])},disabled:h||l,children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Add more test results"})})}),Object(ce.jsx)("br",{}),Object(ce.jsx)(te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h4",{style:{color:"#fff"},children:"NEXT APPOINTMENT DATE"})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:"mb-3 col-md-6",children:[Object(ce.jsxs)(ze.a,{children:["Next Appointment Date ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"nextAppointment",id:"nextAppointment",value:Re.nextAppointment,onChange:ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:Re.encounterDate,disabled:l}),""!==c.nextAppointment?Object(ce.jsx)("span",{className:qe.error,children:c.nextAppointment}):""]}),Object(ce.jsxs)("div",{className:" mb-3 col-md-6",children:[Object(ce.jsx)(ze.a,{children:"Healthcare Worker Signature "}),Object(ce.jsx)(Me.a,{name:"healthCareWorkerSignature",id:"healthCareWorkerSignature",placeholder:"Enter signature...",value:Re.healthCareWorkerSignature,disabled:l,onChange:ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==c.healthCareWorkerSignature?Object(ce.jsx)("span",{className:qe.error,children:c.healthCareWorkerSignature}):""]}),Object(ce.jsx)(te.a,{as:"a",color:"teal",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(ce.jsx)("h4",{style:{color:"#fff"}})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsxs)("div",{className:" mb-3 col-md-8",children:[Object(ce.jsx)(ze.a,{children:"Comment"}),Object(ce.jsx)(Me.a,{type:"textarea",name:"comment",id:"comment",placeholder:"Enter comment...",value:Re.comment,disabled:l,onChange:ot,style:{border:"1px solid #014D88",borderRadius:"0.25rem",height:"10em"}}),""!==c.comment?Object(ce.jsx)("span",{className:qe.error,children:c.comment}):""]})]}),Object(ce.jsx)("br",{}),!l&&Object(ce.jsx)(ce.Fragment,{children:e.activeContent&&"update"===e.activeContent.actionType?Object(ce.jsxs)("div",{children:[" ",Object(ce.jsx)(Q.a,{type:"submit",variant:"contained",color:"primary",hidden:l,className:qe.button,startIcon:Object(ce.jsx)(Ue.a,{}),style:{backgroundColor:"#014d88"},onClick:vt,disabled:h,children:h?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})]}):Object(ce.jsxs)("div",{children:[" ",Object(ce.jsx)(Q.a,{type:"submit",variant:"contained",color:"primary",className:qe.button,startIcon:Object(ce.jsx)(Ue.a,{}),style:{backgroundColor:"#014d88"},onClick:vt,disabled:h,children:h?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})]})})]})})})]});var Tt,Rt};const ot={Add:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(y.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Check:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(R.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Clear:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Delete:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(_.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),DetailPanel:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(I.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Edit:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(B.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Export:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(U.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Filter:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(Y.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),FirstPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(H.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),LastPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(M.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),NextPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(I.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),PreviousPage:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(D.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),ResetSearch:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(A.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),Search:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(K.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),SortArrow:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(S.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),ThirdStateCheck:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(V.a,Object(p.a)(Object(p.a)({},e),{},{ref:t})))),ViewColumn:Object(r.forwardRef)(((e,t)=>Object(ce.jsx)(X.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))))};Object(Z.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var lt=e=>{const[t,a]=Object(r.useState)(!1),[i,c]=s.a.useState(!1),[n,l]=Object(r.useState)(null),d=()=>c((e=>!e));Object(r.useEffect)((()=>{e.getPatientHistory(),"view"===e.activeContent.actionType&&e.getPatientHistory()}),[e.patientObj.id,e.activeContent.actionType]);const j=(t,a)=>{e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"consultation",id:t.id,actionType:a,activeTab:"home"}))};return Object(ce.jsxs)("div",{children:[Object(ce.jsx)("br",{}),Object(ce.jsx)(O.a,{icons:ot,title:"Patient Clinic Visit History",columns:[{title:"Visit Date",field:"date"},{title:"Regimen Given",field:"regimen"},{title:"Next Appointment",field:"nextAppointment",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],isLoading:e.loading,data:e.recentActivities&&e.recentActivities.map((e=>({date:e.encounterDate,regimen:e.regimen,nextAppointment:e.nextAppointment,actions:Object(ce.jsx)("div",{children:Object(ce.jsx)(Re.a.Menu,{position:"right",children:Object(ce.jsx)(Re.a.Item,{children:Object(ce.jsx)(Ae.a,{style:{backgroundColor:"rgb(153,46,98)"},primary:!0,children:Object(ce.jsx)(_e.a,{item:!0,text:"Action",children:Object(ce.jsxs)(_e.a.Menu,{style:{marginTop:"10px"},children:[Object(ce.jsxs)(_e.a.Item,{onClick:()=>j(e,"view"),children:[" ",Object(ce.jsx)(ke.a,{name:"eye"}),"View"]}),Object(ce.jsxs)(_e.a.Item,{onClick:()=>j(e,"update"),children:[Object(ce.jsx)(ke.a,{name:"edit"}),"Edit"]}),Object(ce.jsxs)(_e.a.Item,{onClick:()=>(e=>{d(),l(e)})(e),children:[" ",Object(ce.jsx)(ke.a,{name:"trash"})," Delete"]})]})})})})})})}))),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}}),Object(ce.jsxs)(ye.a,{show:i,toggle:d,className:"fade",size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(ce.jsx)(ye.a.Header,{children:Object(ce.jsx)(ye.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(ce.jsx)(ye.a.Body,{children:Object(ce.jsxs)("h4",{children:["Are you Sure you want to delete ",Object(ce.jsx)("b",{children:n&&n.name})]})}),Object(ce.jsxs)(ye.a.Footer,{children:[Object(ce.jsx)(Ae.a,{onClick:()=>{var t;"prep-eligibility"===(t=Object(p.a)(Object(p.a)({},n),{},{path:"prep-clinic"})).path?(a(!0),u.a.delete("".concat(x,"prep-eligibility/").concat(t.id),{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{a(!1),o.b.success("Record Deleted Successfully"),e.getPatientHistory(),d()})).catch((e=>{if(a(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-clinic"===t.path?(a(!0),u.a.delete("".concat(x,"prep-clinic/").concat(t.id),{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{a(!1),o.b.success("Record Deleted Successfully"),e.getPatientHistory(),e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"})),d()})).catch((e=>{if(a(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-enrollment"===t.path?(a(!0),u.a.delete("".concat(x,"prep-enrollment/").concat(t.id),{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{a(!1),o.b.success("Record Deleted Successfully"),e.getPatientHistory(),d()})).catch((e=>{if(a(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))):"prep-enrollment2"===t.path&&(a(!0),u.a.delete("".concat(x,"prep-enrollment/").concat(t.id),{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{a(!1),o.b.success("Record Deleted Successfully"),e.getPatientHistory(),d()})).catch((e=>{if(a(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},style:{backgroundColor:"red",color:"#fff"},disabled:t,children:!1===t?"Yes":"Deleting..."}),Object(ce.jsx)(Ae.a,{onClick:d,style:{backgroundColor:"#014d88",color:"#fff"},disabled:t,children:"No"})]})]})]})};const dt={borderRadius:"2px",fontSize:14};var jt=e=>{const[t,a]=Object(r.useState)("home"),s=e.patientObj,[i,c]=Object(r.useState)([]),[n,o]=Object(r.useState)(!0),[p,m]=Object(r.useState)([]);return Object(r.useEffect)((()=>{a(e.activeContent.activeTab)}),[e.activeContent]),Object(r.useEffect)((()=>{o(!0),u.a.get("".concat(x,"prep/activities/patients/").concat(e.patientObj.personId,"?isCommenced=false&last=false"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{o(!1),m(e.data)})).catch((e=>{}))}),[]),Object(ce.jsx)(r.Fragment,{children:Object(ce.jsx)(l.a,{children:Object(ce.jsx)(d.a,{xl:12,children:Object(ce.jsx)(j.a,{style:dt,children:Object(ce.jsx)(j.a.Body,{children:Object(ce.jsx)("div",{className:"custom-tab-1",children:Object(ce.jsxs)(b.a,{id:"controlled-tab-example",activeKey:t,onSelect:e=>a(e),className:"mb-3",children:[Object(ce.jsx)(h.a,{eventKey:"home",title:"CLINIC VISIT ",children:Object(ce.jsx)(nt,{encounters:p,recentActivities:i,patientObj:s,setActiveContent:e.setActiveContent,activeContent:e.activeContent})}),Object(ce.jsx)(h.a,{eventKey:"history",title:"HISTORY",children:Object(ce.jsx)(lt,{encounters:p,getPatientHistory:()=>{o(!0),u.a.get("".concat(x,"prep-clinic/person/").concat(e.patientObj.personId,"?isCommenced=false&last=false"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{o(!1),c(e.data)})).catch((e=>{}))},loading:n,recentActivities:i,patientObj:s,activeContent:e.activeContent,setActiveContent:e.setActiveContent})})]})})})})})})})},bt=a(947);const ht=Object(Z.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"41px"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var pt=e=>{var t;const a=e.patientObj,s=ht(),[i,c]=Object(r.useState)(!1),[n,l]=Object(r.useState)([]),[d,j]=Object(r.useState)([]),[b,h]=Object(r.useState)({dateInitialAdherenceCounseling:"",datePrepStart:"",height:"",personId:a.personId,prepClientId:e.prepId,regimenId:"",urinalysisResult:"",prepEligibilityUuid:"",weight:"",drugAllergies:"",referred:"",datereferred:"",extra:{},nextAppointment:"",pregnant:!0,prepEnrollmentUuid:"",duration:"",prepDistributionSetting:"",prepType:"",monthsOfRefill:"",liverFunctionTestResults:[],dateLiverFunctionTestResults:"",historyOfDrugToDrugInteraction:""}),[m,O]=Object(r.useState)(!1),[g,f]=Object(r.useState)({}),[y,N]=Object(r.useState)([]),[S,T]=Object(r.useState)(),[R,C]=Object(r.useState)([]),[D,P]=Object(r.useState)([]),[I,w]=Object(r.useState)([]),[A,E]=Object(r.useState)([]);Object(r.useEffect)((()=>{z(),M(),_(),k(),F(),Y(),L(),B(),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(H(e.activeContent.id),c("view"===e.activeContent.actionType))}),[]);const _=async()=>{u.a.get("".concat(x,"prep-regimen"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{l(e.data)})).catch((e=>{}))},k=()=>{u.a.get("".concat(x,"application-codesets/v2/PrEP_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{C(e.data)})).catch((e=>{}))},B=()=>{u.a.get("".concat(x,"application-codesets/v2/PREP_URINALYSIS_RESULT"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{P(e.data)})).catch((e=>{}))},F=async()=>{u.a.get("".concat(x,"application-codesets/v2/PrEP_TYPE"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{w(e.data)})).catch((e=>{}))},Y=()=>{u.a.get("".concat(x,"application-codesets/v2/LIVER_FUNCTION_TEST_RESULT"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{E(e.data)})).catch((e=>{}))},L=()=>{u.a.get("".concat(x,"application-codesets/v2/PREP_HISTORY_OF_DRUG_INTERACTIONS"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{j(e.data)})).catch((e=>{}))},H=t=>{u.a.get("".concat(x,"prep/commencement/person/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{h(e.data.find((e=>e.id===t)))})).catch((e=>{}))},z=()=>{u.a.get("".concat(x,"application-codesets/v2/PREGNANCY_STATUS"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{N(e.data)})).catch((e=>{}))},M=()=>{u.a.get("".concat(x,"prep/enrollment/open/patients/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{T(e.data)})).catch((e=>{}))},[W,V]=Object(r.useState)({weight:"",height:""}),q=e=>{if(f(Object(p.a)(Object(p.a)({},g),{},{[e.target.name]:""})),"referred"===e.target.name&&"false"===e.target.value)b.datereferred="",h(Object(p.a)(Object(p.a)({},b),{},{datereferred:""}));else if("monthsOfRefill"===e.target.name){const t=30*Number(e.target.value);h(Object(p.a)(Object(p.a)({},b),{},{monthsOfRefill:e.target.value,duration:t}))}h(Object(p.a)(Object(p.a)({},b),{},{[e.target.name]:e.target.value}))},[U,G]=Object(r.useState)(null);return Object(r.useEffect)((()=>{(async()=>{try{var e;const t=await u.a.get("".concat(x,"prep-eligibility/person/").concat(null===b||void 0===b?void 0:b.personId),{headers:{Authorization:"Bearer ".concat(v)}}),a=null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.sort(((e,t)=>re()(null===e||void 0===e?void 0:e.visitDate).isBefore(re()(null===t||void 0===t?void 0:t.visitDate))))[t.data.length-1];G(a)}catch(t){console.error("Error fetching latest eligibility:",t)}})()}),[]),Object(r.useEffect)((()=>{U&&h((e=>Object(p.a)(Object(p.a)({},e),{},{liverFunctionTestResults:U.liverFunctionTestResults||[],dateLiverFunctionTestResults:U.dateLiverFunctionTestResults||""})))}),[U]),Object(ce.jsx)(bt.a,{className:s.root,children:Object(ce.jsx)(Qe.a,{children:Object(ce.jsxs)("form",{children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h2",{children:"PrEP Commencement"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"uniqueId",children:["Date of Initial Adherence Counseling"," ",Object(ce.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(ce.jsx)(Me.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateInitialAdherenceCounseling",id:"dateInitialAdherenceCounseling",min:(null===S||void 0===S?void 0:S.dateEnrolled)||"",max:re()(new Date).format("YYYY-MM-DD"),value:b.dateInitialAdherenceCounseling,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:i}),g.dateInitialAdherenceCounseling&&Object(ce.jsx)("span",{className:s.error,children:g.dateInitialAdherenceCounseling})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{children:["Date PrEP started ",Object(ce.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(ce.jsx)(Me.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"datePrepStart",id:"datePrepStart",min:(null===S||void 0===S?void 0:S.dateEnrolled)||"",max:re()(new Date).format("YYYY-MM-DD"),value:b.datePrepStart,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:i}),g.datePrepStart&&Object(ce.jsx)("span",{className:s.error,children:g.datePrepStart})]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"mb-3 col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{children:["Body Weight ",Object(ce.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(ce.jsxs)(We.a,{children:[Object(ce.jsx)(Me.a,{type:"number",name:"weight",id:"weight",onChange:q,min:"3",max:"150",value:b.weight,onKeyUp:e=>{if(f(Object(p.a)(Object(p.a)({},g),{},{[e.target.name]:""})),"weight"===e.target.name&&(e.target.value<3||e.target.value>150)){const e="Body weight must not be greater than 150 and less than 3";V(Object(p.a)(Object(p.a)({},W),{},{weight:e}))}else V(Object(p.a)(Object(p.a)({},W),{},{weight:""}))},style:{border:"1px solid #014D88",borderRadius:"0.25rem",borderTopRightRadius:"0",borderBottomRightRadius:"0"},disabled:i}),Object(ce.jsx)(Ve.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},children:"kg"})]}),W.bodyWeight&&Object(ce.jsx)("span",{className:s.error,children:W.bodyWeight}),g.weight&&Object(ce.jsx)("span",{className:s.error,children:g.weight})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{children:["Height ",Object(ce.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(ce.jsxs)(We.a,{children:[Object(ce.jsx)(Ve.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem",borderTopLeftRadius:"0.25rem",borderBottomLeftRadius:"0.25rem"},children:"cm"}),Object(ce.jsx)(Me.a,{type:"number",name:"height",id:"height",onChange:q,value:b.height,min:"48.26",max:"216.408",disabled:i,onKeyUp:e=>{if(f(Object(p.a)(Object(p.a)({},g),{},{[e.target.name]:""})),"height"===e.target.name&&(e.target.value<48.26||e.target.value>216.408)){const e="Height cannot be greater than 216.408 and less than 48.26";V(Object(p.a)(Object(p.a)({},W),{},{height:e}))}else V(Object(p.a)(Object(p.a)({},W),{},{height:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(ce.jsx)(Ve.a,{addonType:"append",style:{backgroundColor:"#992E62",color:"#fff",border:"1px solid #992E62",borderRadius:"0rem",borderTopRightRadius:"0.25rem",borderBottomRightRadius:"0.25rem"},children:b.height?(b.height/100).toFixed(2)+"m":"m"})]}),W.height&&Object(ce.jsx)("span",{className:s.error,children:W.height}),g.height&&Object(ce.jsx)("span",{className:s.error,children:g.height})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 mt-2 col-md-4",children:b.weight&&b.height&&Object(ce.jsx)(He.a,{children:Object(ce.jsx)(We.a,{children:Object(ce.jsxs)(Ve.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:["BMI:"," ",(b.weight/(b.height/100)**2).toFixed(2)]})})})}),"female"===e.patientObj.gender.toLowerCase()&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Pregnancy Status"}),Object(ce.jsxs)(Me.a,{type:"select",name:"pregnant",id:"pregnant",onChange:q,value:b.pregnant,disabled:i,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(ce.jsx)("option",{value:""}),y.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]})]})}),"PREGANACY_STATUS_BREASTFEEDING"===b.pregnant&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Breast Feeding"}),Object(ce.jsxs)(Me.a,{type:"select",name:"breastFeeding",id:"breastFeeding",onChange:q,value:b.breastFeeding,disabled:i,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"Yes",children:"Yes"}),Object(ce.jsx)("option",{value:"No",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"History of drug Allergies"}),Object(ce.jsxs)(Me.a,{type:"select",name:"drugAllergies",id:"drugAllergies",onChange:q,value:b.drugAllergies,disabled:i,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Urinalysis Result"}),Object(ce.jsxs)(Me.a,{type:"select",name:"urinalysisResult",id:"urinalysisResult",onChange:q,value:b.urinalysisResult,disabled:i,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),D.map((e=>Object(ce.jsx)("option",{value:e.display,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"History of PrEP drug interactions"}),Object(ce.jsxs)(Me.a,{className:"form-control",type:"select",name:"historyOfDrugToDrugInteraction",id:"historyOfDrugToDrugInteraction",value:b.historyOfDrugToDrugInteraction,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:i,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),d.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),g.historyOfDrugToDrugInteraction&&Object(ce.jsx)("span",{className:s.error,children:g.historyOfDrugToDrugInteraction})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Liver Function Tests Result "}),Object(ce.jsx)(st,{objValues:b,handleInputChange:e=>{const{name:t,value:a}=e.target;h((e=>Object(p.a)(Object(p.a)({},e),{},{[t]:a})))},liverFunctionTestResult:A,disabledField:i,isAutoPop:!0}),g.liverFunctionTestResults&&Object(ce.jsx)("span",{className:s.error,children:g.liverFunctionTestResults})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-8",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Date of Liver Function Tests Result "}),Object(ce.jsx)(Me.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateLiverFunctionTestResults",id:"dateLiverFunctionTestResults",max:re()(new Date).format("YYYY-MM-DD"),value:b.dateLiverFunctionTestResults,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!0}),g.dateLiverFunctionTestResults&&Object(ce.jsx)("span",{className:s.error,children:g.dateLiverFunctionTestResults})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{children:["Referred ",Object(ce.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(ce.jsxs)(Me.a,{type:"select",name:"referred",id:"referred",onChange:q,value:b.referred,disabled:i,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes"}),Object(ce.jsx)("option",{value:"false",children:"No"})]}),g.referred&&Object(ce.jsx)("span",{className:s.error,children:g.referred})]})}),"true"===b.referred&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Date referred"}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"datereferred",id:"datereferred",onChange:q,value:b.datereferred,min:(null===S||void 0===S?void 0:S.dateEnrolled)||"",style:{border:"1px solid #014D88",borderRadius:"0.25rem"},max:re()(new Date).format("YYYY-MM-DD"),disabled:i}),g.datereferred&&Object(ce.jsx)("span",{className:s.error,children:g.datereferred})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"prepType",children:["Prep Type At Start ",Object(ce.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(ce.jsxs)(Me.a,{type:"select",name:"prepType",id:"prepType",style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:e=>{h(Object(p.a)(Object(p.a)({},b),{},{regimenId:"",prepType:e.target.value})),"PREP_TYPE_OTHERS"===e.target.value||"PREP_TYPE_ED_PREP"===e.target.value?_():u.a.get("".concat(x,"prep-regimen/prepType?prepType=").concat(e.target.value),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{l(e.data)})).catch((e=>{})),f(Object(p.a)(Object(p.a)({},g),{},{[e.target.name]:""}))},value:b.prepType,children:[Object(ce.jsx)("option",{value:"",children:"Select Prep Type"}),I.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),g.prepType&&Object(ce.jsx)("span",{className:s.error,children:g.prepType})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{children:["PrEP Regimen ",Object(ce.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(ce.jsxs)(Me.a,{type:"select",name:"regimenId",id:"regimenId",onChange:q,value:b.regimenId,disabled:i,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),n.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.regimen},e.id)))]}),g.regimenId&&Object(ce.jsx)("span",{className:s.error,children:g.regimenId})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{children:["Prep Distribution Setting"," ",Object(ce.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(ce.jsxs)(Me.a,{type:"select",name:"prepDistributionSetting",id:"prepDistributionSetting",onChange:q,value:b.prepDistributionSetting,disabled:i,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},children:[Object(ce.jsx)("option",{value:""}),R.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.code)))]}),g.prepDistributionSetting&&Object(ce.jsx)("span",{className:s.error,children:g.prepDistributionSetting})]})}),Object(ce.jsx)("div",{className:"mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Duration of Refill (Day[s])"}),Object(ce.jsx)(Me.a,{type:"number",name:"monthsOfRefill",id:"monthsOfRefill",value:b.monthsOfRefill,min:0,onChange:q,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:i})]})})]}),m&&Object(ce.jsx)($e.a,{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Q.a,{type:"submit",variant:"contained",color:"primary",className:s.button,startIcon:Object(ce.jsx)(Ue.a,{}),style:{backgroundColor:"#014d88"},onClick:t=>{t.preventDefault(),(()=>{let e=Object(p.a)({},g);return e.dateInitialAdherenceCounseling=b.dateInitialAdherenceCounseling?"":"This field is required",e.datePrepStart=b.datePrepStart?"":"This field is required",e.prepType=b.prepType?"":"This field is required",e.regimenId=b.regimenId?"":"This field is required",e.height=b.height?"":"This field is required",e.weight=b.weight?"":"This field is required",e.referred=b.referred?"":"This field is required",e.prepDistributionSetting=b.prepDistributionSetting?"":"This field is required",f(Object(p.a)({},e)),Object.values(e).every((e=>""===e))})()&&(O(!0),b.prepEnrollmentUuid=S.uuid,e.activeContent&&"update"===e.activeContent.actionType?u.a.put("".concat(x,"prep-clinic/").concat(e.activeContent.id),b,{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{O(!1),a.commencementCount=1,o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{if(O(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror?o.b.error(e.response.data.apierror.message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong, please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})):u.a.post("".concat(x,"prep/commencement"),b,{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{O(!1),a.commencementCount=1,e.PatientObject(),o.b.success("Record save successful",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{if(O(!1),e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";e.response.data.apierror?o.b.error(e.response.data.apierror.message,{position:o.b.POSITION.BOTTOM_CENTER}):o.b.error(t,{position:o.b.POSITION.BOTTOM_CENTER})}else o.b.error("Something went wrong, please try again...",{position:o.b.POSITION.BOTTOM_CENTER})})))},disabled:m,children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:m?"Saving...":null!==(t=e.activeContent)&&void 0!==t&&t.actionType?"Update":"Save"})})]})})})},ut=a(188),mt=a.n(ut);const Ot=Object(Z.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"2.5625em"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var xt=e=>{const t=e.patientObj,a=Ot(),[s,i]=Object(r.useState)(!1),[c,n]=Object(r.useState)({dateInterruption:"",why:"",interruptionType:"",dateRestartPlacedBackMedication:"",personId:t.personId,causeOfDeath:"",dateClientDied:"",dateClientReferredOut:"",facilityReferredTo:"",interruptionDate:"",interruptionReason:"",sourceOfDeathInfo:"",dateSeroconverted:"",reasonStopped:"",reasonStoppedOthers:"",reasonForPrepDiscontinuation:""}),[l,d]=Object(r.useState)(!1),[j,b]=Object(r.useState)({}),[h,m]=Object(r.useState)([]),[O,g]=Object(r.useState)([]),[f,y]=Object(r.useState)([]),[N,S]=Object(r.useState)([]),[T,R]=Object(r.useState)();Object(r.useEffect)((()=>{D(),I(),C(),P(),w(),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&i("view"===e.activeContent.actionType)}),[]);const C=()=>{u.a.get("".concat(x,"prep/enrollment/open/patients/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{R(e.data)})).catch((e=>{}))},D=()=>{u.a.get("".concat(x,"application-codesets/v2/PREP_STATUS"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{m(e.data)})).catch((e=>{}))},P=()=>{u.a.get("".concat(x,"application-codesets/v2/CAUSE_DEATH"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{y(e.data)})).catch((e=>{}))},I=()=>{u.a.get("".concat(x,"application-codesets/v2/PREP_STATUS_STOPPED_REASON"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{g(e.data)})).catch((e=>{}))},w=()=>{u.a.get("".concat(x,"application-codesets/v2/REASON_FOR_DISCONTINUATION"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{S(e.data)})).catch((e=>{}))},A=e=>{if(b(Object(p.a)(Object(p.a)({},j),{},{[e.target.name]:""})),"interruptionType"===e.target.name)switch(e.target.value){case"PREP_STATUS_STOPPED":n(Object(p.a)(Object(p.a)({},c),{},{reasonStopped:"",reasonStoppedOthers:""}));break;case"PREP_STATUS_DEAD":n(Object(p.a)(Object(p.a)({},c),{},{causeOfDeath:"",sourceOfDeathInfo:"",dateClientDied:""}));break;case"PREP_STATUS_RESTART":n(Object(p.a)(Object(p.a)({},c),{},{dateRestartPlacedBackMedication:""}));break;case"PREP_STATUS_TRANSFER_OUT":n(Object(p.a)(Object(p.a)({},c),{},{dateClientReferredOut:"",facilityReferredTo:""}));break;case"PREP_STATUS_SEROCONVERTED":n(Object(p.a)(Object(p.a)({},c),{},{linkToArt:"",dateSeroconverted:""}))}n(Object(p.a)(Object(p.a)({},c),{},{[e.target.name]:e.target.value}))},E=e=>{if(e.response&&e.response.data){let t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"\u274c Something went wrong. Please try again...";o.b.error(t)}else o.b.error("\u274c Something went wrong. Please try again...")};return Object(r.useEffect)((()=>{w()}),[]),Object(r.useEffect)((()=>()=>{["view","update"].includes(e.activeContent.actionType)||(n((e=>Object(p.a)(Object(p.a)({},e),{},{dateInterruption:"",dateRestartPlacedBackMedication:"",causeOfDeath:"",dateClientDied:"",dateClientReferredOut:"",facilityReferredTo:"",interruptionDate:"",sourceOfDeathInfo:"",dateSeroconverted:"",reasonStopped:"",reasonStoppedOthers:"",reasonForPrepDiscontinuation:""}))),b((e=>Object(p.a)(Object(p.a)({},e),{},{interruptionDate:"",reasonStopped:"",reasonStoppedOthers:"",dateClientReferredOut:"",facilityReferredTo:"",dateClientDied:"",causeOfDeath:"",sourceOfDeathInfo:"",dateRestartPlacedBackMedication:"",dateSeroconverted:"",reasonForPrepDiscontinuation:""}))))}),[c.interruptionType]),Object(r.useEffect)((()=>{e.activeContent.id,u.a.get("".concat(x,"prep-interruption/").concat(e.activeContent.id),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{n(e.data)})).catch((e=>{}))}),[e.activeContent.id]),Object(ce.jsx)("div",{children:Object(ce.jsx)(bt.a,{className:a.root,children:Object(ce.jsx)(Qe.a,{children:Object(ce.jsxs)("form",{children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h2",{children:"PrEP Client Tracking & Discontinuations/Interruptions"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"uniqueId",children:["PrEP Interruptions ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(Me.a,{type:"select",name:"interruptionType",id:"interruptionType",onChange:A,value:c.interruptionType,required:!0,style:{border:"1px solid #014D88"},disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),h.filter((e=>743!==(null===e||void 0===e?void 0:e.id))).map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==j.interruptionType?Object(ce.jsx)("span",{className:a.error,children:j.interruptionType}):""]})}),("PREP_STATUS_ADVERSE_DRUG_REACTION"===c.interruptionType||"PREP_STATUS_STOPPED"===c.interruptionType||"PREP_INTERRUPtIONS_DISCONTINUED_ORAL_PREP"===c.interruptionType||"PREP_INTERRUPtIONS_DISCONTINUED_CABLA"===c.interruptionType||"PREP_STATUS_LOSS_TO_FOLLOW_UP"===c.interruptionType)&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"uniqueId",children:["Date of Interruption"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>{e.preventDefault()},name:"interruptionDate",id:"interruptionDate",min:T&&T.dateEnrolled?T.dateEnrolled:"",max:re()(new Date).format("YYYY-MM-DD"),onChange:A,value:c.interruptionDate,required:!0,disabled:s}),""!==j.interruptionDate?Object(ce.jsx)("span",{className:a.error,children:j.interruptionDate}):""]})}),"PREP_STATUS_STOPPED"===c.interruptionType&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"uniqueId",children:"Reason Stopped "}),Object(ce.jsxs)(Me.a,{type:"select",name:"reasonStopped",id:"reasonStopped",max:re()(new Date).format("YYYY-MM-DD"),onChange:A,value:c.reasonStopped,disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),O.map((e=>Object(ce.jsx)("option",{value:e.display,children:e.display},e.id)))]}),""!==j.reasonStopped?Object(ce.jsx)("span",{className:a.error,children:j.reasonStopped}):""]})}),"Others (Pls specify)"===c.reasonStopped&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"uniqueId",children:"Other Reason Stopped "}),Object(ce.jsx)(Me.a,{type:"text",name:"reasonStoppedOthers",id:"reasonStoppedOthers",max:re()(new Date).format("YYYY-MM-DD"),onChange:A,value:c.reasonStoppedOthers,disabled:s}),""!==j.reasonStoppedOther?Object(ce.jsx)("span",{className:a.error,children:j.reasonStopped}):""]})})]}),"PREP_STATUS_TRANSFER_OUT"===c.interruptionType&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"uniqueId",children:"Date of client referred out "}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateClientReferredOut",id:"dateClientReferredOut",min:T&&T.dateEnrolled?T.dateEnrolled:"",max:re()(new Date).format("YYYY-MM-DD"),onChange:A,value:c.dateClientReferredOut||c.interruptionDate,required:!0,disabled:s}),""!==j.dateClientReferredOut?Object(ce.jsx)("span",{className:a.error,children:j.dateClientReferredOut}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"uniqueId",children:"Facility referred to "}),Object(ce.jsx)(Me.a,{type:"text",name:"facilityReferredTo",id:"facilityReferredTo",max:re()(new Date).format("YYYY-MM-DD"),onChange:A,value:c.facilityReferredTo,required:!0,disabled:s}),""!==j.facilityReferredTo?Object(ce.jsx)("span",{className:a.error,children:j.facilityReferredTo}):""]})})]}),"PREP_STATUS_DEAD"===c.interruptionType&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"uniqueId",children:"Date of Client's Death "}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateClientDied",id:"dateClientDied",min:T&&T.dateEnrolled?T.dateEnrolled:"",max:re()(new Date).format("YYYY-MM-DD"),onChange:A,value:c.dateClientDied||c.interruptionDate,required:!0,disabled:s}),""!==j.dateClientDied?Object(ce.jsx)("span",{className:a.error,children:j.dateClientDied}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"uniqueId",children:"Cause of death"}),Object(ce.jsxs)(Me.a,{type:"select",name:"causeOfDeath",id:"causeOfDeath",min:T&&T.dateEnrolled?T.dateEnrolled:"",max:re()(new Date).format("YYYY-MM-DD"),onChange:A,value:c.causeOfDeath,required:!0,disabled:s,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),f.map((e=>Object(ce.jsx)("option",{value:e.display,children:e.display},e.id)))]}),""!==j.causeOfDeath?Object(ce.jsx)("span",{className:a.error,children:j.causeOfDeath}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"uniqueId",children:"Source of death information "}),Object(ce.jsx)(Me.a,{type:"text",name:"sourceOfDeathInfo",id:"sourceOfDeathInfo",max:re()(new Date).format("YYYY-MM-DD"),onChange:A,value:c.sourceOfDeathInfo,required:!0,disabled:s}),""!==j.sourceOfDeathInfo?Object(ce.jsx)("span",{className:a.error,children:j.sourceOfDeathInfo}):""]})})]}),"PREP_STATUS_RESTART"===c.interruptionType&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Date of restart if placed back on medication"}),Object(ce.jsx)(Me.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateRestartPlacedBackMedication",id:"dateRestartPlacedBackMedication",min:T&&T.dateEnrolled?T.dateEnrolled:"",max:re()(new Date).format("YYYY-MM-DD"),value:c.dateRestartPlacedBackMedication,onChange:A,disabled:s,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==j.dateRestartPlacedBackMedication?Object(ce.jsx)("span",{className:a.error,children:j.dateRestartPlacedBackMedication}):""]})}),"PREP_STATUS_SEROCONVERTED"===c.interruptionType&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"uniqueId",children:"Date Seroconverted "}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateSeroconverted",id:"dateSeroconverted",min:T&&T.dateEnrolled?T.dateEnrolled:"",max:re()(new Date).format("YYYY-MM-DD"),onChange:A,value:c.dateSeroconverted||c.interruptionDate,required:!0,disabled:s}),""!==j.dateSeroconverted?Object(ce.jsx)("span",{className:a.error,children:j.dateSeroconverted}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Link to ART"}),Object(ce.jsxs)(Me.a,{type:"select",name:"linkToArt",id:"linkToArt",onChange:A,value:c.linkToArt,disabled:s,children:[Object(ce.jsx)("option",{value:"",children:" Select"}),Object(ce.jsx)("option",{value:"true",children:"Yes "}),Object(ce.jsx)("option",{value:"false",children:" No"})]}),""!==j.linkToArt?Object(ce.jsx)("span",{className:a.error,children:j.linkToArt}):""]})}),"true"===c.linkToArt&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Date link to ART"}),Object(ce.jsx)(Me.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateLinkToArt",id:"dateLinkToArt",min:T&&T.dateEnrolled?T.dateEnrolled:"",max:re()(new Date).format("YYYY-MM-DD"),value:c.dateLinkToArt,onChange:A,disabled:s,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==j.dateLinkToArt?Object(ce.jsx)("span",{className:a.error,children:j.dateLinkToArt}):""]})})]})]}),l?Object(ce.jsx)($e.a,{}):"",Object(ce.jsx)("br",{}),"view"!==e.activeContent.actionType&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Q.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(ce.jsx)(Ue.a,{}),onClick:t=>{var a;(t.preventDefault(),""===c.interruptionDate&&""!==c.dateSeroconverted?c.interruptionDate=c.dateSeroconverted:""===c.interruptionDate&&""!==c.dateRestartPlacedBackMedication?c.interruptionDate=c.dateRestartPlacedBackMedication:""===c.interruptionDate&&""!==c.dateClientReferredOut?c.interruptionDate=c.dateClientReferredOut:""===c.interruptionDate&&""!==c.dateClientDied&&(c.interruptionDate=c.dateClientDied),(()=>{let e=Object(p.a)({},j);return"PREP_STATUS_ADVERSE_DRUG_REACTION"!==c.interruptionType&&"PREP_STATUS_STOPPED"!==c.interruptionType&&"PREP_STATUS_LOSS_TO_FOLLOW_UP"!==c.interruptionType||c.interruptionDate||(e.interruptionDate="This field is required"),"PREP_STATUS_TRANSFER_OUT"!==c.interruptionType||c.dateClientReferredOut||(e.dateClientReferredOut="This field is required"),"PREP_STATUS_DEAD"!==c.interruptionType||c.dateClientDied||(e.dateClientDied="This field is required"),c.interruptionType||(e.interruptionType="This field is required"),b(Object(p.a)({},e)),Object.values(e).every((e=>""===e))})())&&(c.previousPrepStatus=null===(a=e.patientObj)||void 0===a?void 0:a.prepStatus,console.log("payload: ",c),d(!0),e.activeContent&&"update"===e.activeContent.actionType?u.a.put("".concat(x,"prep-interruption/").concat(e.activeContent.id),c,{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{d(!1),o.b.success("\ud83d\udc4d Record saved successfully! \u2714"),e.PatientObject(),e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{d(!1),E(e)})):u.a.post("".concat(x,"prep/interruption"),c,{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{const a=((e,t)=>{var a;const r=null===e||void 0===e||null===(a=e.interruptionType)||void 0===a?void 0:a.toLowerCase();return null===t||void 0===t?void 0:t.find((e=>{var t;return r.includes(null===e||void 0===e||null===(t=e.display)||void 0===t?void 0:t.replace(/\s/g,"_").toLowerCase())}))})(t.data,h);d(!1),o.b.success("\ud83d\udc4d Record saved successfully! \u2714"),e.PatientObject(),e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history",obj:{newStatus:a}}))})).catch((e=>{d(!1),E(e)})))},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:l?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(ce.jsx)(Q.a,{variant:"contained",className:a.button,startIcon:Object(ce.jsx)(mt.a,{}),onClick:e.toggle,style:{backgroundColor:"#992E62"},children:Object(ce.jsxs)("span",{style:{textTransform:"capitalize",color:"#fff"},children:[" ","Cancel"," "]})})]})]})})})})};const vt=Object(Z.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}})));var gt=e=>{const t=e.patientObj,a=vt(),[s,i]=Object(r.useState)({id:"",uniqueId:"",dateOfRegistration:"",entryPointId:"",facilityName:"",statusAtRegistrationId:"",dateConfirmedHiv:"",sourceOfReferrer:"",enrollmentSettingId:"",pregnancyStatusId:"",dateOfLpm:"",tbStatusId:"",targetGroupId:"",ovc_enrolled:"",ovcNumber:""}),[c,n]=Object(r.useState)(!1),[l,d]=Object(r.useState)({}),[j,b]=Object(r.useState)([]),[h,m]=Object(r.useState)([]),[O,g]=Object(r.useState)(!1);Object(r.useEffect)((()=>{}),[]);const f=e=>{i(Object(p.a)(Object(p.a)({},s),{},{[e.target.name]:e.target.value})),"entryPointId"===e.target.name&&("21"===e.target.value?g(!0):g(!1))};return Object(ce.jsx)("div",{children:Object(ce.jsx)(bt.a,{children:Object(ce.jsx)(Qe.a,{children:Object(ce.jsxs)("form",{children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h2",{children:"PrEP Visit"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"uniqueId",children:"Duration on PErp "}),Object(ce.jsx)(Me.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:f,value:s.uniqueId,required:!0})]})})]}),Object(ce.jsx)("hr",{}),Object(ce.jsx)("div",{className:"row",children:Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Noted Side Effects"}),Object(ce.jsxs)(Me.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:f,value:s.entryPointId,required:!0,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),j.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id))),""!==l.entryPointId?Object(ce.jsx)("span",{className:a.error,children:l.entryPointId}):""]})]})})}),Object(ce.jsx)("hr",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"entryPointId",children:"HTS Result"}),Object(ce.jsxs)(Me.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:f,value:s.entryPointId,required:!0,children:[Object(ce.jsx)("option",{value:"",children:" "}),j.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id))),""!==l.entryPointId?Object(ce.jsx)("span",{className:a.error,children:l.entryPointId}):""]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"entryPointId",children:"Risk Reduction Plan"}),Object(ce.jsxs)(Me.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:f,value:s.entryPointId,required:!0,children:[Object(ce.jsx)("option",{value:"",children:" "}),j.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id))),""!==l.entryPointId?Object(ce.jsx)("span",{className:a.error,children:l.entryPointId}):""]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"entryPointId",children:"Syndromic STI Screening"}),Object(ce.jsxs)(Me.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:f,value:s.entryPointId,required:!0,children:[Object(ce.jsx)("option",{value:"",children:" "}),j.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id))),""!==l.entryPointId?Object(ce.jsx)("span",{className:a.error,children:l.entryPointId}):""]})]})})]}),Object(ce.jsx)("hr",{}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h3",{children:"PrEP Drugs"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Regimen"}),Object(ce.jsxs)(Me.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:f,value:s.statusAtRegistrationId,required:!0,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),h.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id))),""!==l.statusAtRegistrationId?Object(ce.jsx)("span",{className:a.error,children:l.statusAtRegistrationId}):""]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Level of Adherence"}),Object(ce.jsxs)(Me.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:f,value:s.statusAtRegistrationId,required:!0,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),h.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Why Poor/Fair Adherence?"}),Object(ce.jsxs)(Me.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:f,value:s.statusAtRegistrationId,required:!0,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),h.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id))),""!==l.statusAtRegistrationId?Object(ce.jsx)("span",{className:a.error,children:l.statusAtRegistrationId}):""]})]})})]}),c?Object(ce.jsx)($e.a,{}):"",Object(ce.jsx)("br",{}),Object(ce.jsx)(Q.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(ce.jsx)(Ue.a,{}),onClick:a=>{a.preventDefault(),s.personId=t.id,t.enrolled=!0,delete s.tableData,n(!0),u.a.post("".concat(x,"hiv/enrollment"),s,{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{n(!1),o.b.success("Record saved successfully! \u2714"),e.toggle(),e.patientObj.enrolled=!0,e.PatientCurrentStatus()})).catch((e=>{n(!1),o.b.error("Something went wrong \u274c")}))},children:c?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(ce.jsx)(Q.a,{variant:"contained",className:a.button,startIcon:Object(ce.jsx)(mt.a,{}),onClick:e.toggle,children:Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})})},ft=a(263),yt=a.n(ft);const Nt=Object(Z.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{flexGrow:1,"& .card-title":{color:"#fff",fontWeight:"bold"},"& .form-control":{borderRadius:"0.25rem",height:"2.5625em"},"& .card-header:first-child":{borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"},"& .dropdown-toggle::after":{display:" block !important"},"& select":{"-webkit-appearance":"listbox !important"},"& p":{color:"red"},"& label":{fontSize:"14px",color:"#014d88",fontWeight:"bold"}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}})));var St=e=>{const[t,a]=Object(r.useState)([]),s=Nt(),[i,c]=Object(r.useState)({dateEnrolled:"",dateReferred:"",extra:{},personId:0,prepEligibilityUuid:"",riskType:"",supporterName:"",supporterPhone:"",supporterRelationshipType:"",uniqueId:"",hivTestingPoint:"",dateOfLastHivNegativeTest:"",targetGroup:""}),[n,l]=Object(r.useState)(!1),[d,j]=Object(r.useState)({}),[b,h]=Object(r.useState)([]),[m,O]=Object(r.useState)([]),[g,f]=Object(r.useState)(),[y,N]=Object(r.useState)(!1),[S,T]=Object(r.useState)("");Object(r.useEffect)((()=>{P(),C(),D(),R(),e.activeContent.id&&""!==e.activeContent.id&&null!==e.activeContent.id&&(I(e.activeContent.id),N("view"===e.activeContent.actionType))}),[]);const R=()=>{u.a.get("".concat(x,"application-codesets/v2/HTS_ENTRY_POINT"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{a(e.data)})).catch((e=>{}))},C=()=>{u.a.get("".concat(x,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{O(e.data)})).catch((e=>{}))},D=()=>{u.a.get("".concat(x,"application-codesets/v2/PREP_RISK_TYPE"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{h(e.data)})).catch((e=>{}))},P=()=>{u.a.get("".concat(x,"prep/eligibility/open/patients/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{f(t.data),u.a.get("".concat(x,"hts/persons/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{var t,a;T(null===(t=e.data)||void 0===t||null===(a=t.htsClientDtoList[0])||void 0===a?void 0:a.targetGroup)})).catch((e=>{}))})).catch((e=>{}))},I=t=>{u.a.get("".concat(x,"prep/enrollment/person/").concat(e.patientObj.personId),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{c(e.data.find((e=>e.id===t)))})).catch((e=>{}))},w=e=>{c(Object(p.a)(Object(p.a)({},i),{},{[e.target.name]:e.target.value}))},A=t=>{t.preventDefault(),(()=>{let e=Object(p.a)({},d);return e.dateEnrolled=i.dateEnrolled?"":"This field is required\u26a0",e.dateReferred=i.dateReferred?"":"This field is required\u26a0",e.riskType=i.riskType?"":"This field is required\u26a0",e.uniqueId=i.uniqueId?"":"This field is required\u26a0",j(Object(p.a)({},e)),Object.values(e).every((e=>""==e))})()?(i.personId=e.patientObj.personId,i.prepEligibilityUuid=g.uuid,i.targetGroup=S,l(!0),e.activeContent&&e.activeContent.actionType?u.a.put("".concat(x,"prep-enrollment/").concat(e.activeContent.id),i,{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{l(!1),e.patientObj.prepCount="1",e.PatientObject(),o.b.success("PrEP enrolment saved successfully!\u2714",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{l(!1),o.b.error("Something went wrong\u274c")})):u.a.post("".concat(x,"prep/enrollment"),i,{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{l(!1),e.patientObj.prepCount="1",o.b.success("PrEP enrolment saved successfully!\u2714",{position:o.b.POSITION.BOTTOM_CENTER}),e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{l(!1),o.b.error("Something went wrong\u274c")}))):o.b.error("All fields are required\u274c",{position:o.b.POSITION.BOTTOM_CENTER})};return Object(ce.jsx)("div",{children:Object(ce.jsx)(bt.a,{children:Object(ce.jsx)(Qe.a,{children:Object(ce.jsxs)("form",{children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("h2",{children:"PrEP Enrollment "}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"uniqueId",children:["Unique Client's ID ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsx)(Me.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:w,value:i.uniqueId,disabled:y,style:{border:"1px solid #014D88"}}),""!==d.uniqueId?Object(ce.jsx)("span",{className:s.error,children:d.uniqueId}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"",children:"Partner ANC/Unique ART No "}),Object(ce.jsx)(Me.a,{type:"text",name:"ancUniqueArtNo",id:"ancUniqueArtNo",onChange:w,value:i.ancUniqueArtNo,disabled:y,style:{border:"1px solid #014D88"}}),""!==d.ancUniqueArtNo?Object(ce.jsx)("span",{className:s.error,children:d.ancUniqueArtNo}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{children:["Date enrolled in PrEP"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsx)(Me.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateEnrolled",id:"dateEnrolled",value:i.dateEnrolled,onChange:w,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},min:g&&g.visitDate?g.visitDate:"",max:re()(new Date).format("YYYY-MM-DD"),disabled:y}),""!==d.dateEnrolled?Object(ce.jsx)("span",{className:s.error,children:d.dateEnrolled}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"entryPointId",children:["PrEP Risk Type ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})]}),Object(ce.jsxs)(Me.a,{type:"select",name:"riskType",id:"riskType",onChange:w,value:i.riskType,disabled:y,style:{border:"1px solid #014D88"},children:[Object(ce.jsx)("option",{value:"",children:" Select"}),b.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==d.riskType?Object(ce.jsx)("span",{className:s.error,children:d.riskType}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"HIV Testing Point "}),Object(ce.jsxs)(Me.a,{type:"select",name:"hivTestingPoint",id:"hivTestingPoint",onChange:w,value:i.hivTestingPoint,disabled:y,style:{border:"1px solid #014D88"},children:[Object(ce.jsx)("option",{value:"",children:" Select"}),t.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Date of last HIV Negative test"}),Object(ce.jsx)(Me.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateOfLastHivNegativeTest",id:"dateOfLastHivNegativeTest",value:i.dateOfLastHivNegativeTest,onChange:w,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},max:re()(new Date).format("YYYY-MM-DD"),disabled:y}),""!==d.dateOfLastHivNegativeTest?Object(ce.jsx)("span",{className:s.error,children:d.dateOfLastHivNegativeTest}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{children:["Date Referred for PrEP"," ",Object(ce.jsx)("span",{style:{color:"red"},children:" *"})," "]}),Object(ce.jsx)(Me.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateReferred",id:"dateReferred",value:i.dateReferred,onChange:w,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},min:g&&g.visitDate?g.visitDate:"",max:re()(new Date).format("YYYY-MM-DD"),disabled:y}),""!==d.dateReferred?Object(ce.jsx)("span",{className:s.error,children:d.dateReferred}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"PrEP Supporter "}),Object(ce.jsx)(Me.a,{className:"form-control",type:"text",name:"supporterName",id:"supporterName",value:i.supporterName,onChange:w,style:{border:"1px solid #014D88",borderRadius:"0.25rem !important"},disabled:y}),""!==d.supporterName?Object(ce.jsx)("span",{className:s.error,children:d.supporterName}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Relationship "}),Object(ce.jsxs)(Me.a,{className:"form-control",type:"select",name:"supporterRelationshipType",id:"supporterRelationshipType",value:i.supporterRelationshipType,onChange:w,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:y,children:[Object(ce.jsx)("option",{value:"",children:" Select"}),m.map((e=>Object(ce.jsx)("option",{value:e.code,children:e.display},e.id)))]}),""!==d.supporterRelationshipType?Object(ce.jsx)("span",{className:s.error,children:d.supporterRelationshipType}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"PrEP Supporter Phone Number"}),Object(ce.jsx)(yt.a,{containerStyle:{width:"100%",border:"1px solid #014D88",borderRadius:"0.25rem !important"},style:{borderRadius:"0.25rem !important"},inputStyle:{width:"100%",borderRadius:"0.25rem !important"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"supporterPhone",id:"supporterPhone",masks:{ng:"...-...-....",at:"(....) ...-...."},value:i.supporterPhone,onChange:e=>{((e,t)=>{c(Object(p.a)(Object(p.a)({},i),{},{[t]:e.slice(0,10)}))})(e,"supporterPhone")},disabled:y}),""!==d.supporterPhone?Object(ce.jsx)("span",{className:s.error,children:d.supporterPhone}):""]})})]}),n?Object(ce.jsx)($e.a,{}):"",Object(ce.jsx)("br",{}),e.activeContent&&"update"===e.activeContent.actionType?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)(Q.a,{type:"submit",variant:"contained",color:"primary",hidden:y,className:s.button,startIcon:Object(ce.jsx)(Ue.a,{}),style:{backgroundColor:"#014d88",border:"1px solid #014D88"},onClick:A,disabled:n,children:n?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})}):Object(ce.jsx)(ce.Fragment,{children:!y&&Object(ce.jsx)(Q.a,{type:"submit",variant:"contained",color:"primary",className:s.button,startIcon:Object(ce.jsx)(Ue.a,{}),style:{backgroundColor:"#014d88"},onClick:A,disabled:n,children:n?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})})]})})})})},Tt=a(471),Rt=a.n(Tt),Ct=a(957),Dt=a(201),Pt=a(948),It=a(958),wt=a(949),At=a.p+"static/media/fingerprintimage.73ff98ea.png",Et=a(618),_t=a.n(Et),kt=a(90),Bt=a.n(kt);const Ft=Object(Z.a)((e=>({root:{width:"100%","& .dropdown-toggle::after, .dropleft .dropdown-toggle::before, .dropright .dropdown-toggle::before, .dropup .dropdown-toggle::after":{fontFamily:"FontAwesome",border:"0",verticalAlign:"middle",marginLeft:".25em",lineHeight:"1"},"& .dropdown-menu .dropdown-item":{fontSize:"14px",color:"#014d88",padding:"0.3rem 1.5rem",fontWeight:"bold"},"& .mt-4":{marginTop:"28px !important"},"& .form-control":{color:"#992E62"},"& .form-control:focus":{color:"#014d88"},"& .sharp ":{"min-width":"35px",padding:"5px",height:"35px","min-height":"35px"}},card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"}})));let Yt="";var Lt=function(e){const t=Ft();let a=Object(n.useHistory)();a.location&&a.location.state&&a.location.state.permissions;const[i,c]=Object(r.useState)([]),[l,d]=Object(r.useState)({biometricType:"FINGERPRINT",patientId:e.patientId,templateType:"",device:""}),[j,b]=Object(r.useState)([]),[h,m]=Object(r.useState)([]),[O,f]=s.a.useState(!1),[y,N]=Object(r.useState)(!1),[S,T]=s.a.useState(!1),[R,C]=s.a.useState(!1),[D,P]=s.a.useState(!1),[I,w]=Object(r.useState)({}),[A,E]=Object(r.useState)([]),[_,k]=Object(r.useState)([]),[B,F]=Object(r.useState)([]),Y=(Object(p.a)({},D&&{bgcolor:Dt.a[500],"&:hover":{bgcolor:Dt.a[700]}}),async()=>{const t=await u.a.get("".concat(x,"application-codesets/v2/BIOMETRIC_CAPTURE_FINGERS"),{headers:{Authorization:"Bearer ".concat(v)}});u.a.get("".concat(x,"biometrics/person/").concat(e.patientId),{headers:{Authorization:"Bearer ".concat(v)}}).then((async e=>{if(e.data.length>0){E(e.data),N(!0);let a=Bt.a.uniq(Bt.a.map(e.data,"templateType"));F(a);let r=Bt.a.map(t.data,(e=>Bt.a.extend({},e,{captured:a.includes(e.display)})));b(r)}else{let e=Bt.a.map(t.data,(e=>Bt.a.extend({},e,{captured:!1})));b(e)}})).catch((async e=>{console.log("getPersonBiometrics error"),console.log(e);let a=Bt.a.map(t.data,(e=>Bt.a.extend({},e,{captured:!1})));b(a),N(!0)}))}),L=()=>{u.a.post("".concat(x,"biometrics/store-list/").concat(e.patientId),e.patientId,{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{console.log("cleared store")})).catch((e=>{console.log("cleared store error"),console.log(e)}))};Object(r.useEffect)((()=>{L(),Y(),H()}),[]);const H=()=>{u.a.get("".concat(x,"modules/check?moduleName=biometric"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{!0===e.data&&u.a.get("".concat(x,"biometrics/devices"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{m(e.data),c(e.data)})).catch((e=>{console.log(e)}))})).catch((e=>{}))};return Object(ce.jsx)("div",{className:t.root,children:Object(ce.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(ce.jsx)("div",{className:"",style:{padding:"5px",flex:"7",boxShadow:"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px",minHeight:"400px"},children:y&&A.length>0?Object(ce.jsx)("div",{style:{display:"flex",width:"100%",flexWrap:"wrap"},children:A.map(((t,a)=>Object(ce.jsx)("div",{style:{minHeight:"120px",padding:"5px",width:"20%"},children:Object(ce.jsxs)("div",{className:"card ",style:{borderRadius:"6px"},children:[Object(ce.jsxs)("div",{className:"card-header align-items-start",style:{backgroundColor:"#fff"},children:[Object(ce.jsxs)("div",{children:[Object(ce.jsx)("h6",{className:"fs-18 font-w500 mb-3 user-name",children:Object(ce.jsx)(g.b,{to:"#",style:{color:"#014d88",fontSize:"14px",fontFamily:'"poppins",sans-serif'},children:t.templateType})}),Object(ce.jsxs)("div",{className:"fs-9 text-nowrap",style:{fontSize:"10px",color:"#992E62",fontWeight:"bold",fontFamily:'"poppins",sans-serif'},children:[Object(ce.jsx)("i",{className:"fa fa-calendar-o me-3","aria-hidden":"true"}),re()(t.lastModifiedDate).format("YYYY-MM-DD HH:mm")]})]}),Object(ce.jsxs)(De.a,{className:"dropdown ms-auto",children:[Object(ce.jsx)(De.a.Toggle,{as:"button",variant:"",drop:"up",className:"btn sharp btn-primary ",id:"tp-btn",style:{backgroundColor:"#014d88",borderColor:"#014d88",borderRadius:"5px",marginRight:"-18px",marginTop:"-10px"},children:Object(ce.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"18px",height:"18px",viewBox:"0 0 24 24",version:"1.1",children:Object(ce.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(ce.jsx)("rect",{x:"0",y:"0",width:"24",height:"24"}),Object(ce.jsx)("circle",{fill:"#ffffff",cx:"12",cy:"5",r:"2"}),Object(ce.jsx)("circle",{fill:"#ffffff",cx:"12",cy:"12",r:"2"}),Object(ce.jsx)("circle",{fill:"#ffffff",cx:"12",cy:"19",r:"2"})]})})}),Object(ce.jsx)(De.a.Menu,{alignRight:!0,className:"dropdown-menu-right",children:Object(ce.jsxs)(De.a.Item,{style:{color:"red"},onClick:()=>{return a=t.id,r=t.templateType,void u.a.delete("".concat(x,"biometrics/").concat(a),{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{o.b.success("".concat(r," deleted successfully")),Bt.a.find(j,{display:r}).captured=!1,b([...j]);let a=Bt.a.reject(A,{templateType:r});E(a),L(),0===a.length&&e.updatePatientBiometricStatus(!1)})).catch((e=>{o.b.error("Something went wrong"),console.log(e)}));var a,r},children:[Object(ce.jsx)(_t.a,{})," Delete"]})})]})]}),Object(ce.jsx)("div",{className:"card-body p-0 pb-2",children:Object(ce.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(ce.jsx)("li",{className:"list-group-item",style:{height:"100px",display:"flex",justifyContent:"center"},children:Object(ce.jsx)("img",{src:At,alt:"",style:{height:"80px"}})}),Object(ce.jsxs)("li",{className:"list-group-item",children:[Object(ce.jsx)(Pt.a,{variant:"info badge-xs light",className:"card-link float-end",children:"Version "}),Object(ce.jsxs)("span",{className:"mb-0 title",children:["Status ",t.iso]})," :",Object(ce.jsx)("span",{className:"text-black desc-text ms-2",children:Object(ce.jsxs)(Pt.a,{variant:!0===t.iso?"primary badge-xs":"danger badge-xs",children:[Object(ce.jsx)("i",{className:"fa fa-check-square me-2 scale4","aria-hidden":"true"})," "]})})]})]})})]})},a)))}):Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)("div",{className:"flex-grow-8",children:Object(ce.jsx)("div",{className:"flex-grow-8",children:Object(ce.jsx)(It.a,{severity:"info",children:Object(ce.jsx)(wt.a,{style:{height:"400px"},children:Object(ce.jsx)("strong",{children:"No biometrics captured"})})})})})})}),Object(ce.jsx)("div",{style:{flex:"3",padding:"5px",marginLeft:"5px",border:"1px solid rgba(99, 99, 99, 0.2)",boxShadow:"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px"},children:Object(ce.jsxs)("div",{className:"col-12",children:[Object(ce.jsx)(o.a,{}),Object(ce.jsx)(ve.a,{md:12,children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"device",style:{color:"#014d88",fontWeight:"bold",fontSize:"14px"},children:"Select Device "}),Object(ce.jsxs)(Me.a,{type:"select",name:"device",id:"device",onChange:e=>{const t=e.target.value,a=i.find((e=>e.name===t));Yt=null===a.url?x:a.url,d(Object(p.a)(Object(p.a)({},l),{},{device:t})),u.a.get("".concat(Yt,"biometrics/secugen/boot?reader=").concat(t),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{"ERROR"===e.data.errorType?o.b.error(e.data.errorName+" is not plug"):T(!0)})).catch((e=>{}))},value:l.device,required:!0,children:[Object(ce.jsx)("option",{value:"",children:"Select Device "}),i.map((e=>{let{id:t,name:a}=e;return Object(ce.jsx)("option",{value:a,children:a},t)}))]}),""!==I.device?Object(ce.jsx)("span",{className:t.error,children:I.device}):""]})}),S?Object(ce.jsxs)("div",{className:"row col-12",children:[Object(ce.jsx)(ve.a,{md:6,children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"device",style:{color:"#014d88",fontWeight:"bold",fontSize:"14px"},children:"Select Finger"}),Object(ce.jsxs)(Me.a,{type:"select",name:"templateType",id:"templateType",onChange:e=>{d(Object(p.a)(Object(p.a)({},l),{},{[e.target.name]:e.target.value}))},value:l.templateType,required:!0,children:[Object(ce.jsx)("option",{value:"",children:"Select Finger "}),Bt.a.filter(j,["captured",!1]).map((e=>Object(ce.jsx)("option",{value:e.display,children:e.display},e.id)))]}),""!==I.templateType?Object(ce.jsx)("span",{className:t.error,children:I.templateType}):""]})}),Object(ce.jsx)(ve.a,{md:6,children:Object(ce.jsx)(Q.a,{type:"button",variant:"contained",color:"primary",onClick:e=>{e.preventDefault(),(()=>{let e=Object(p.a)({},I);return e.templateType=l.templateType?"":"This field is required",e.device=l.device?"":"This field is required",w(Object(p.a)({},e)),Object.values(e).every((e=>""===e))})()&&u.a.post("".concat(Yt,"biometrics/secugen/enrollment?reader=SG_DEV_AUTO"),l,{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{if(f(!0),"ERROR"===e.data.type)f(!1),C(!0),window.setTimeout((()=>{C(!1)}),5e3),o.b.error(e.data.message.ERROR);else{const t=e.data.templateType;C(!1),P(!0),window.setTimeout((()=>{P(!1),f(!1)}),5e3);let a=e.data;a.capturedBiometricsList=Bt.a.uniqBy(a.capturedBiometricsList,"templateType"),k([..._,a]),Bt.a.find(j,{display:t}).captured=!0,b([...j]),d(Object(p.a)(Object(p.a)({},l),{},{templateType:""}))}})).catch((e=>{}))},className:"mt-4",style:{backgroundColor:"#992E62"},startIcon:Object(ce.jsx)(Rt.a,{}),children:"Capture Finger"})}),Object(ce.jsx)("br",{})]}):"",Object(ce.jsx)(xe.a,{children:_.length>=1?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(ve.a,{md:12,style:{marginTop:"10px",paddingBottom:"20px"},children:Object(ce.jsx)(Ct.a,{celled:!0,horizontal:!0,children:_.map((e=>Object(ce.jsxs)(Ct.a.Item,{style:{width:"200px",height:"200px",border:"1px dotted #014d88",margin:"5px"},children:[Object(ce.jsxs)(Ct.a.Header,{style:{paddingLeft:"0px",height:"0.5rem",display:"flex",justifyContent:"right",alignItems:"right"},children:[Object(ce.jsx)(ke.a,{name:"cancel",color:"red"})," "]}),Object(ce.jsxs)(Ct.a.Content,{style:{width:"200px",height:"160px",display:"flex",justifyContent:"center",alignItems:"center"},children:[" ",Object(ce.jsx)(Rt.a,{style:{color:"#992E62",fontSize:150}})]}),Object(ce.jsx)(Ct.a.Content,{style:{width:"200px",height:"30px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"18px",color:"#014d88",fontWeight:"bold",fontFamily:'"poppins", sans-serif'},children:e.templateType})]})))})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)(ve.a,{md:12,children:Object(ce.jsx)(Q.a,{type:"button",variant:"contained",color:"primary",onClick:t=>{if(t.preventDefault(),_.length>=1){const t=_[_.length-1];t.capturedBiometricsList=Bt.a.uniqBy(t.capturedBiometricsList,"templateType"),u.a.post("".concat(x,"biometrics/templates"),t,{headers:{Authorization:"Bearer ".concat(v)}}).then((t=>{o.b.success("Biometric save successful"),k([]),Y(),e.patientObj.biometricStatus=!0,e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((e=>{o.b.error("Something went wrong saving biometrics"),console.log(e)}))}else o.b.error("You can't save less than 2 finger")},startIcon:Object(ce.jsx)(Ue.a,{}),children:"Save Capture"})})]}):""})]})})]})})};var Ht=Object(be.a)((e=>({root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing,"px ").concat(e.spacing(2),"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}})))((function(e){let t=Object(n.useHistory)();const[a,s]=Object(r.useState)(""),[i,c]=Object(r.useState)({route:"recent-history",id:"",activeTab:"home",actionType:"create",obj:{}}),{classes:o}=e,l=t.location&&t.location.state?t.location.state.patientObj:{},d=t.location&&t.location.state?t.location.state.prepId:{};async function j(){u.a.get("".concat(x,"prep/persons/").concat(l.personId),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{s(e.data)})).catch((e=>{}))}return Object(r.useEffect)((()=>{j()}),[]),Object(ce.jsxs)("div",{className:o.root,children:[Object(ce.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(ce.jsx)("ol",{className:"breadcrumb",children:Object(ce.jsx)("li",{className:"breadcrumb-item active",children:Object(ce.jsxs)("h4",{children:[" ",Object(ce.jsx)(g.b,{to:"/",children:"PrEP /"})," Patient Dashboard"]})})})}),Object(ce.jsx)(he.a,{children:Object(ce.jsxs)(pe.a,{children:[Object(ce.jsx)(Se,{patientObj:l,setActiveContent:c,activeContent:i,patientDetail:a}),Object(ce.jsx)(Ce,{patientObj:l,setActiveContent:c,patientDetail:a}),Object(ce.jsx)("br",{}),"recent-history"===i.route&&Object(ce.jsx)(Ee,{patientObj:l,setActiveContent:c,activeContent:i,prepId:d}),"biometrics"===i.route&&Object(ce.jsx)(Lt,{patientObj:l,setActiveContent:c,activeContent:i,prepId:d}),"consultation"===i.route&&Object(ce.jsx)(jt,{patientObj:l,setActiveContent:c,activeContent:i,prepId:d}),"prep-commencement"===i.route&&Object(ce.jsx)(pt,{patientObj:l,setActiveContent:c,activeContent:i,prepId:d,PatientObject:j}),"prep-interruptions"===i.route&&Object(ce.jsx)(xt,{patientObj:l,setActiveContent:c,activeContent:i,prepId:d,PatientObject:j}),"prep-screening"===i.route&&Object(ce.jsx)(it,{patientObj:l,setActiveContent:c,activeContent:i,prepId:d,patientDetail:a,PatientObject:j}),"prep-visit"===i.route&&Object(ce.jsx)(gt,{PatientObject:j}),"prep-registration"===i.route&&Object(ce.jsx)(St,{patientObj:l,setActiveContent:c,activeContent:i,prepId:d,PatientObject:j}),"patient-history"===i.route&&Object(ce.jsx)(Fe,{patientObj:l,setActiveContent:c,activeContent:i})]})})]})})),zt=a(950),Mt=a(472),Wt=a(200),Vt=a(297),qt=(a(845),a(842),a(931)),Ut=a(622),Gt=a.n(Ut);a(841),a(839);Wt.b.add(Vt.a,Vt.b,Vt.c,Vt.d);const Kt=Object(Z.a)((e=>({card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}})));var Jt=e=>{console.log(e);const[t,a]=Object(r.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",landmark:"",sexId:"",ninNumber:""}),[s,i]=Object(r.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}),[c,l]=Object(r.useState)((new Date).toISOString().substr(0,10).replace("T"," ")),[d,j]=Object(r.useState)([]),[b,h]=Object(r.useState)(!1),[m,O]=Object(r.useState)(!0),[f,y]=Object(r.useState)(!1),[N,S]=Object(r.useState)(null),[T,R]=Object(r.useState)([]),[C,D]=Object(r.useState)([]),[P,I]=Object(r.useState)([]),[w,A]=Object(r.useState)([]),[E,_]=Object(r.useState)([]),[k,B]=Object(r.useState)([]),[F,Y]=Object(r.useState)([]),[L,H]=Object(r.useState)([]),[z,M]=Object(r.useState)({}),[W,V]=Object(r.useState)([]),[q,U]=Object(r.useState)({person:"",hivEnrollment:""}),G=(e.location&&e.location.state&&e.location.state.user,Kt()),K=Object(n.useHistory)(),J=Object(n.useLocation)(),[X,Z]=Object(r.useState)(!1),[$,ee]=Object(r.useState)({id:"",uniqueId:"",dateOfRegistration:"",entryPointId:"",facilityName:"",statusAtRegistrationId:"",dateConfirmedHiv:"",sourceOfReferrerId:"",enrollmentSettingId:"",pregnancyStatusId:"",dateOfLpm:"",tbStatusId:"",targetGroupId:"",ovc_enrolled:"",ovcNumber:"",householdNumber:"",referredToOVCPartner:"",dateReferredToOVCPartner:"",referredFromOVCPartner:"",dateReferredFromOVCPartner:"",careEntryPointOther:""}),[te,re]=Object(r.useState)([]),[se,ie]=Object(r.useState)([]),[ne,oe]=Object(r.useState)([]),[le,de]=Object(r.useState)([]),[je,be]=Object(r.useState)([]),[he,pe]=Object(r.useState)([]),[ue,Oe]=Object(r.useState)([]),[xe,ve]=Object(r.useState)(!1),[ge,fe]=Object(r.useState)(!1),[ye,Ne]=Object(r.useState)("false"),Se=J.state;let Te=null,Re={};Te=Se?Se.patientId:null,Re=Se?Se.patientObj:{};const[Ce,De]=Object(r.useState)(!1),[Pe,Ie]=Object(r.useState)(!1);Object(r.useEffect)((()=>{if(we(),Ae(),Ee(),_e(),ke(),Be(),Je(),Xe(),Ze(),Qe(),tt(),at(),rt(),Fe(),Re){const a=Re.contact?Re.contact:[];let r=[];a.contact&&a.contact.length>0&&a.contact.map((e=>{const t={address:e.address.line[0],phone:e.contactPoint.value,firstName:e.firstName,email:"",relationshipId:e.relationshipId,lastName:e.surname,middleName:e.otherName};r.push(t)}));j(r);const s=Re.identifier,i=Re.address,c=Re.contactPoint,n=s.identifier.find((e=>"HospitalNumber"==e.type)),o=c.contactPoint.find((e=>"phone"==e.type)),l=c.contactPoint.find((e=>"email"==e.type)),d=c.contactPoint.find((e=>"altphone"==e.type)),b=i&&i.address&&i.address.length>0?i.address[0]:null;t.dob=Re.dateOfBirth,t.firstName=Re.firstName,t.dateOfRegistration=Re.dateOfRegistration,t.middleName=Re.otherName,t.lastName=Re.surname,t.hospitalNumber=n?n.value:"",t.maritalStatusId=Re.maritalStatus.id,t.employmentStatusId=Re.employmentStatus.id,t.genderId=Re.gender?Re.gender.id:null,t.sexId=Re.sex,t.educationId=Re.education.id,t.phoneNumber=o&&o.value?o.value:"",t.altPhonenumber=d&&d.value?d.value:"",t.email=l&&l.value?l.value:"",t.address=b&&b.city?b.city:"",t.landmark=b.line[0],t.countryId=b.countryId,Le(b.countryId),e=b.stateId,u.a.get("".concat(x,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{H(e.data)})).catch((e=>{})),t.stateId=b.stateId,t.district=b.district,ee(Re.enrollment);const h=Ye(ae(Re.dateOfBirth).format("DD-MM-YYYY"));t.age=h,Z("Female"===Re.sex),t.ninNumber=Re.ninNumber}var e;t.dateOfRegistration<t.dob&&alert("Date of registration can not be earlier than date of birth")}),[Re,Te,t.dateOfRegistration]);const we=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(x,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(v)}});R(e.data)}catch(e){}}),[]),Ae=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(x,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(v)}});D(e.data)}catch(e){}}),[]),Ee=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(x,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(v)}});I(e.data)}catch(e){}}),[]),_e=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(x,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(v)}});A(e.data)}catch(e){}}),[]),ke=Object(r.useCallback)((async()=>{try{const e=await u.a.get("".concat(x,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(v)}});_(e.data)}catch(e){}}),[]),Be=Object(r.useCallback)((async()=>{const e=await u.a.get("".concat(x,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(v)}});V(e.data)}),[]),Fe=()=>{u.a.get("".concat(x,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{B(e.data)})).catch((e=>{}))},Ye=e=>{var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),s=new Date(r),i=t.getFullYear()-s.getFullYear(),c=t.getMonth()-s.getMonth();return(c<0||0===c&&t.getDate()<s.getDate())&&i--,0===i?c+" month(s)":i};function Le(e){u.a.get("".concat(x,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{Y(e.data)})).catch((e=>{}))}const We=e=>{"Actual"==e.target.value?O(!0):"Estimated"==e.target.value&&O(!1)},Ve=e=>{if(a(Object(p.a)(Object(p.a)({},t),{},{[e.target.name]:e.target.value})),"sexId"===e.target.name&&"Female"===e.target.value&&Z(!0),"firstName"===e.target.name&&""!==e.target.value){const r=Ke(e.target.value);a(Object(p.a)(Object(p.a)({},t),{},{[e.target.name]:r}))}if("lastName"===e.target.name&&""!==e.target.value){const s=Ke(e.target.value);a(Object(p.a)(Object(p.a)({},t),{},{[e.target.name]:s}))}if("middleName"===e.target.name&&""!==e.target.value){const i=Ke(e.target.value);a(Object(p.a)(Object(p.a)({},t),{},{[e.target.name]:i}))}if("hospitalNumber"===e.target.name&&""!==e.target.value){async function c(){const t=e.target.value;!0!==(await u.a.post("".concat(x,"patient/exist/hospital-number"),t,{headers:{Authorization:"Bearer ".concat(v),"Content-Type":"text/plain"}})).data?(De(!1),ee(Object(p.a)(Object(p.a)({},$),{},{uniqueId:e.target.value})),Ie(!0)):(De(!1),Ie(!0))}c()}},qe=e=>{const t=E.find((t=>t.id==e));return t?t.display:""},Ge=e=>{i(Object(p.a)(Object(p.a)({},s),{},{[e.target.name]:e.target.value}))},Ke=e=>e.replace(/[^a-z]/gi,""),Je=()=>{u.a.get("".concat(x,"application-codesets/v2/POINT_ENTRY"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{re(e.data)})).catch((e=>{}))},Xe=()=>{u.a.get("".concat(x,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{ie(e.data)})).catch((e=>{}))},Ze=()=>{u.a.get("".concat(x,"application-codesets/v2/HIV_STATUS_ENROL"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{oe(e.data)})).catch((e=>{}))},Qe=()=>{u.a.get("".concat(x,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{de(e.data)})).catch((e=>{}))},tt=()=>{u.a.get("".concat(x,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{be(e.data)})).catch((e=>{}))},at=()=>{u.a.get("".concat(x,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{pe(e.data)})).catch((e=>{}))},rt=()=>{u.a.get("".concat(x,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{Oe(e.data)})).catch((e=>{}))},st=e=>{ee(Object(p.a)(Object(p.a)({},$),{},{[e.target.name]:e.target.value})),"entryPointId"===e.target.name&&("21"===e.target.value?ve(!0):ve(!1)),"pregnancyStatusId"===e.target.name&&(console.log(e.target.value),"72"===e.target.value?ve(!0):ve(!1))},it=(e,r)=>{a(Object(p.a)(Object(p.a)({},t),{},{[r]:e.slice(0,10)}))},ct=e=>{e.target.checked?fe(!0):fe(!1)};return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(ce.jsx)(et.a,{className:G.cardBottom,children:Object(ce.jsxs)(qt.a,{children:[Object(ce.jsx)(g.b,{to:{pathname:"/patient-history",state:{patientObj:Re}},children:Object(ce.jsx)(Q.a,{variant:"contained",color:"primary",className:" float-end ms-1",style:{backgroundColor:"#014d88",fontWeight:"bolder"},startIcon:Object(ce.jsx)(me.a,{}),children:Object(ce.jsxs)("span",{style:{textTransform:"capitalize",color:"#fff"},children:["Back"," "]})})}),Object(ce.jsx)("br",{}),Object(ce.jsx)("br",{}),Object(ce.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(ce.jsxs)(zt.a,{children:[Object(ce.jsxs)("div",{className:"card",children:[Object(ce.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ce.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Edit User Information"})}),Object(ce.jsx)("div",{className:"card-body",children:Object(ce.jsxs)("div",{className:"basic-form",children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"dateOfRegistration",children:["Date of Registration*"," "]}),Object(ce.jsx)(Me.a,{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dateOfRegistration",id:"dateOfRegistration",value:t.dateOfRegistration,onChange:Ve,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==z.dateOfRegistration1?Object(ce.jsx)("span",{className:G.error,children:z.dateOfRegistration1}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"patientId",children:"Hospital Number* "}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:t.hospitalNumber,onChange:Ve,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:"update"!==Se.actionType}),""!==z.hospitalNumber?Object(ce.jsx)("span",{className:G.error,children:z.hospitalNumber}):"",""!==z.hospitalNumber?Object(ce.jsx)("span",{className:G.error,children:z.hospitalNumber}):"",!0===Ce?Object(ce.jsx)("span",{className:G.error,children:"Hospital number already exist"}):"",!0===Pe?Object(ce.jsx)("span",{className:G.success,children:"Hospital number is OK."}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"patientId",children:"EMR Number* "}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"emrNumber",id:"emrNumber",disabled:"true",value:Math.floor(1094328*Math.random()),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"firstName",children:"First Names *"}),Object(ce.jsx)(Me.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:t.firstName,onChange:Ve,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==z.firstName?Object(ce.jsx)("span",{className:G.error,children:z.firstName}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Middle Name"}),Object(ce.jsx)(Me.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:t.middleName,onChange:Ve,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Last Name *"}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:t.lastName,onChange:Ve,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==z.lastName?Object(ce.jsx)("span",{className:G.error,children:z.lastName}):""]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Sex *"}),Object(ce.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:Ve,value:t.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),T.map(((e,t)=>Object(ce.jsx)("option",{value:e.display,children:e.display},e.id)))]}),""!==z.sexId?Object(ce.jsx)("span",{className:G.error,children:z.sexId}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Date Of Birth"}),Object(ce.jsx)("div",{className:"radio",children:Object(ce.jsxs)("label",{children:[Object(ce.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:e=>We(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," ","Actual"]})}),Object(ce.jsx)("div",{className:"radio",children:Object(ce.jsxs)("label",{children:[Object(ce.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:e=>We(e),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," ","Estimated"]})})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Date"}),Object(ce.jsx)("input",{className:"form-control",type:"date",onKeyDown:e=>e.preventDefault(),name:"dob",id:"dob",max:c,value:t.dob,onChange:e=>{if(e.target.value){const a=new Date,r=new Date(e.target.value);let s=a.getFullYear()-r.getFullYear();const i=a.getMonth()-r.getMonth();(i<0||0===i&&a.getDate()<r.getDate())&&s--,t.age=s}else a(Object(p.a)(Object(p.a)({},t),{},{age:""}));a(Object(p.a)(Object(p.a)({},t),{},{dob:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Age"}),Object(ce.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:t.age,disabled:m,onChange:e=>{if(!m&&e.target.value){const a=new Date;a.setDate(15),a.setMonth(5);const r=ae(a.toISOString()).add(-1*e.target.value,"years");t.dob=ae(r).format("YYYY-MM-DD")}a(Object(p.a)(Object(p.a)({},t),{},{age:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Marital Status"}),Object(ce.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:Ve,value:t.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),C.map(((e,t)=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Employment Status *"}),Object(ce.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:Ve,value:t.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),w.map(((e,t)=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==z.employmentStatusId?Object(ce.jsx)("span",{className:G.error,children:z.employmentStatusId}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Education Level *"}),Object(ce.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:Ve,value:t.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),P.map(((e,t)=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==z.educationId?Object(ce.jsx)("span",{className:G.error,children:z.educationId}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"patientId",children:["National Identity Number (NIN)"," "]}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"nin",id:"nin",value:t.ninNumber,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})})]}),Object(ce.jsxs)("div",{className:"card",children:[Object(ce.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ce.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(ce.jsxs)("div",{className:"card-body",children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Phone Number *"}),Object(ce.jsx)(yt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"phoneNumber",id:"phoneNumber",value:t.phoneNumber,onChange:e=>{it(e,"phoneNumber")}}),""!==z.phoneNumber?Object(ce.jsx)("span",{className:G.error,children:z.phoneNumber}):""]})}),Object(ce.jsx)("div",{className:"form-group col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Alt. Phone Number"}),Object(ce.jsx)(yt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",value:t.altPhonenumber,onChange:e=>{it(e,"altPhonenumber")}})]})}),Object(ce.jsx)("div",{className:"form-group col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Email"}),Object(ce.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:Ve,value:t.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Country *"}),Object(ce.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:t.countryId,onChange:e=>{const r=e.target.value;Le(r),a(Object(p.a)(Object(p.a)({},t),{},{countryId:r}))},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),k.map(((e,t)=>Object(ce.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==z.countryId?Object(ce.jsx)("span",{className:G.error,children:z.countryId}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"State *"}),Object(ce.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:t.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:e=>{const r=e.target.value;a(Object(p.a)(Object(p.a)({},t),{},{stateId:e.target.value})),u.a.get("".concat(x,"organisation-units/parent-organisation-units/").concat(r),{headers:{Authorization:"Bearer ".concat(v)}}).then((e=>{H(e.data)})).catch((e=>{}))},children:[Object(ce.jsx)("option",{value:"",children:"Select"}),F.map(((e,t)=>Object(ce.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==z.stateId?Object(ce.jsx)("span",{className:G.error,children:z.stateId}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Province/District/LGA *"}),Object(ce.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:t.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ve,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),L.map(((e,t)=>Object(ce.jsx)("option",{value:e.id,children:e.name},t)))]}),""!==z.district?Object(ce.jsx)("span",{className:G.error,children:z.district}):""]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Street Address*"}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:t.address,onChange:Ve,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==z.address?Object(ce.jsx)("span",{className:G.error,children:z.address}):""]})}),Object(ce.jsx)("div",{className:"form-group  col-md-4",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Landmark"}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",value:t.landmark,onChange:Ve,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(ce.jsxs)("div",{className:"card",children:[Object(ce.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ce.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(ce.jsxs)("div",{className:"card-body",children:[Object(ce.jsxs)("div",{className:"row",children:[d&&d.length>0&&Object(ce.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(ce.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(ce.jsx)("thead",{className:"mb-3",children:Object(ce.jsxs)("tr",{children:[Object(ce.jsx)("th",{children:"Relationship Type"}),Object(ce.jsx)("th",{children:"Name"}),Object(ce.jsx)("th",{children:"Phone"}),Object(ce.jsx)("th",{children:"Address"}),Object(ce.jsx)("th",{children:"Actions"})]})}),Object(ce.jsx)("tbody",{className:"mb-3",children:d.map(((e,t)=>Object(ce.jsxs)("tr",{className:"mb-3",children:[Object(ce.jsx)("td",{children:qe(e.relationshipId)}),Object(ce.jsx)("td",{children:e.firstName+" "+e.middleName+" "+e.lastName}),Object(ce.jsx)("td",{children:e.phone}),Object(ce.jsx)("td",{children:e.address}),Object(ce.jsxs)("td",{children:[Object(ce.jsx)("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:()=>((e,t)=>{i(e),y(!0),d.splice(t,1)})(e,t),children:Object(ce.jsx)(Mt.a,{icon:"edit"})}),"\xa0\xa0",Object(ce.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:e=>(e=>{d.splice(e,1),j([...d])})(t),children:Object(ce.jsx)(Mt.a,{icon:"trash"})})]})]},e.index)))})]})}),Object(ce.jsx)("div",{className:"col-xl-12 col-lg-12",children:f&&Object(ce.jsx)("div",{className:"card",children:Object(ce.jsxs)("div",{className:"card-body",children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"relationshipType",children:"Relationship Type *"}),Object(ce.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:s.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ge,children:[Object(ce.jsx)("option",{value:"",children:"Select"}),E.map(((e,t)=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==z.relationshipId?Object(ce.jsx)("span",{className:G.error,children:z.relationshipId}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"cfirstName",children:"First Name *"}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:s.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ge}),""!==z.firstName?Object(ce.jsx)("span",{className:G.error,children:z.firstName}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Middle Name"}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:s.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ge})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Last Name *"}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:s.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ge}),""!==z.lastName?Object(ce.jsx)("span",{className:G.error,children:z.lastName}):""]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(ce.jsx)(yt.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",name:"phone",value:s.phone,id:"phone",onChange:e=>{((e,t)=>{i(Object(p.a)(Object(p.a)({},s),{},{[t]:e.slice(0,10)}))})(e.slice(0,10),"phone")}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"contactEmail",children:"Email"}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"email",id:"email",value:s.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ge})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"contactAddress",children:"Address"}),Object(ce.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:s.address,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ge})]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"col-1",children:Object(ce.jsx)(Q.a,{type:"button",variant:"contained",color:"primary",className:G.button,onClick:e=>{(()=>{let e=Object(p.a)({},z);return e.firstName=s.firstName?"":"First Name is required",e.lastName=s.lastName?"":"Last Name  is required.",e.relationshipId=s.relationshipId?"":"Relationship Type is required.",M(Object(p.a)({},e)),Object.values(e).every((e=>""==e))})()&&j([...d,s])},children:"Add"})}),Object(ce.jsx)("div",{className:"col-1",children:Object(ce.jsx)(Q.a,{type:"button",variant:"contained",color:"secondary",className:G.button,onClick:()=>{y(!1)},children:"Cancel"})})]})]})})})]}),Object(ce.jsx)("div",{className:"row"}),Object(ce.jsx)(Q.a,{type:"button",variant:"contained",color:"primary",className:G.button,startIcon:Object(ce.jsx)(Gt.a,{}),onClick:()=>{y(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),Object(ce.jsxs)("div",{className:"card",children:[Object(ce.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(ce.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"HIV Enrollment"})}),Object(ce.jsxs)("div",{className:"card-body",children:[Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"uniqueId",children:"Unique ID No * "}),Object(ce.jsx)(Me.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:st,value:$.uniqueId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:!0}),""!==z.uniqueId?Object(ce.jsx)("span",{className:G.error,children:z.uniqueId}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsxs)(ze.a,{for:"dateOfRegistration",children:["Date of Enrollment *"," "]}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateOfRegistration",id:"dateOfRegistration",min:t.dateOfRegistration,max:ae(new Date).format("YYYY-MM-DD"),onChange:st,value:$.dateOfRegistration,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==z.dateOfRegistration?Object(ce.jsx)("span",{className:G.error,children:z.dateOfRegistration}):""]})})]}),Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{for:"entryPointId",children:"Care Entry Point * "}),Object(ce.jsxs)(Me.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:st,value:$.entryPointId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:" "}),te.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==z.entryPointId?Object(ce.jsx)("span",{className:G.error,children:z.entryPointId}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:!0===xe?Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Facility Name"}),Object(ce.jsx)(Me.a,{type:"text",name:"facilityName",id:"facilityName",onChange:st,value:$.facilityName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]}):""}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"HIV Status at Registration *"}),Object(ce.jsxs)(Me.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:st,value:$.statusAtRegistrationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:" Select"}),ne.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==z.statusAtRegistrationId?Object(ce.jsx)("span",{className:G.error,children:z.statusAtRegistrationId}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Date of Confirmed HIV Test *"}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateConfirmedHiv",id:"dateConfirmedHiv",min:t.dob,max:$.dateOfRegistration,onChange:st,value:$.dateConfirmedHiv,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==z.dateConfirmedHiv?Object(ce.jsx)("span",{className:G.error,children:z.dateConfirmedHiv}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Source of Referral *"}),Object(ce.jsxs)(Me.a,{type:"select",name:"sourceOfReferrerId",id:"sourceOfReferrerId",value:$.sourceOfReferrerId,onChange:st,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:"Select "}),se.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==z.sourceOfReferrerId?Object(ce.jsx)("span",{className:G.error,children:z.sourceOfReferrerId}):""]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Enrollment Setting *"}),Object(ce.jsxs)(Me.a,{type:"select",name:"enrollmentSettingId",id:"enrollmentSettingId",value:$.enrollmentSettingId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:st,children:[Object(ce.jsx)("option",{value:"",children:" Select"}),le.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==z.enrollmentSettingId?Object(ce.jsx)("span",{className:G.error,children:z.enrollmentSettingId}):""]})}),X&&t.age>9&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:" Pregnancy "}),Object(ce.jsxs)(Me.a,{type:"select",name:"pregnancyStatusId",id:"pregnancyStatusId",value:$.pregnancyStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:st,children:[Object(ce.jsx)("option",{value:"",children:"Select "}),ue.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]})]})}),"72"!==$.pregnancyStatusId&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Date of LMP "}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateOfLpm",id:"dateOfLpm",max:c,onChange:st,value:$.dateOfLpm,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})})]}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"TB Status * "}),Object(ce.jsxs)(Me.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:$.tbStatusId,onChange:st,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:" Select"}),je.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==z.tbStatusId?Object(ce.jsx)("span",{className:G.error,children:z.tbStatusId}):""]})}),"false"===ye?Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Target Group *"}),Object(ce.jsxs)(Me.a,{type:"select",name:"targetGroupId",id:"targetGroupId",value:$.targetGroupId,onChange:st,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(ce.jsx)("option",{value:"",children:" Select"}),he.map((e=>Object(ce.jsx)("option",{value:e.id,children:e.display},e.id)))]}),""!==z.targetGroupId?Object(ce.jsx)("span",{className:G.error,children:z.targetGroupId}):""]})}):"",Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)("div",{className:"form-check custom-checkbox ml-1 ",children:[Object(ce.jsx)("input",{type:"checkbox",className:"form-check-input",name:"ovc_enrolled",id:"ovc_enrolled",onChange:ct}),Object(ce.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:"Enrolled into OVC?"})]})}),t.age<=14&&Object(ce.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(ce.jsxs)("div",{className:"form-check custom-checkbox ml-1 ",children:[Object(ce.jsx)("input",{type:"checkbox",className:"form-check-input",name:"ovc_enrolled",id:"ovc_enrolled",onChange:ct}),Object(ce.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:"Enrolled into OVC?"})]})}),!0===ge&&Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)("div",{className:"row",children:[Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Household Unique Number"}),Object(ce.jsx)(Me.a,{type:"text",name:"householdNumber",id:"householdNumber",required:ge,onChange:st,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:$.householdNumber})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6"}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Referred To OVC Partner"}),Object(ce.jsx)(Me.a,{type:"text",name:"referredToOVCPartner",id:"referredToOVCPartner",required:ge,onChange:st,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:$.referredToOVCPartner})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Date Referred To OVC Partner"}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateReferredToOVCPartner",id:"dateReferredToOVCPartner",min:t.dob,max:$.dateOfRegistration,onChange:st,value:$.dateReferredToOVCPartner,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Referred From OVC Partner"}),Object(ce.jsx)(Me.a,{type:"text",name:"referredFromOVCPartner",id:"referredFromOVCPartner",required:ge,onChange:st,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:$.referredFromOVCPartner})]})}),Object(ce.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(ce.jsxs)(He.a,{children:[Object(ce.jsx)(ze.a,{children:"Date Referred From OVC Partner"}),Object(ce.jsx)(Me.a,{type:"date",onKeyDown:e=>e.preventDefault(),name:"dateReferredFromOVCPartner",id:"dateReferredFromOVCPartner",min:t.dob,max:$.dateOfRegistration,onChange:st,value:$.dateReferredFromOVCPartner,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]})]})]}),b?Object(ce.jsx)($e.a,{}):"",Object(ce.jsx)("br",{}),"update"===Se.actionType?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(Q.a,{type:"submit",variant:"contained",color:"primary",className:G.button,startIcon:Object(ce.jsx)(Ue.a,{}),onClick:async e=>{e.preventDefault();const a=T.find((e=>e.display===t.sexId));if(t.sexId=a.id,(()=>{let e=Object(p.a)({},z);return e.firstName=t.firstName?"":"First Name is required",e.hospitalNumber=t.hospitalNumber?"":"Hospital Number  is required.",e.lastName=t.lastName?"":"Last Name  is required.",e.sexId=t.sexId?"":"Sex is required.",e.dateOfRegistration1=t.dateOfRegistration?"":"Date of Registration is required.",e.educationId=t.educationId?"":"Education is required.",e.address=t.address?"":"Address is required.",e.phoneNumber=t.phoneNumber?"":"Phone Number  is required.",e.countryId=t.countryId?"":"Country is required.",e.stateId=t.stateId?"":"State is required.",e.district=t.district?"":"Province/LGA is required.",e.targetGroupId=$.targetGroupId?"":"Target group is required.",e.dateConfirmedHiv=$.dateConfirmedHiv?"":"date confirm HIV is required.",e.sourceOfReferrerId=$.sourceOfReferrerId?"":"Source of referrer is required.",e.enrollmentSettingId=$.enrollmentSettingId?"":"Enrollment Setting Number  is required.",e.tbStatusId=$.tbStatusId?"":"TB status is required.",e.statusAtRegistrationId=$.statusAtRegistrationId?"":"Status at Registration is required.",e.entryPointId=$.entryPointId?"":"Care Entry Point is required.",e.dateOfRegistration=$.dateOfRegistration?"":"Date of Registration is required.",e.uniqueId=$.uniqueId?"":"Unique ID is required.",M(Object(p.a)({},e)),Object.values(e).every((e=>""==e))})()){let e=[];d&&d.length>0&&d.map((t=>{const a={address:{line:[t.address]},contactPoint:{type:"phone",value:t.phone},firstName:t.firstName,fullName:t.firstName+" "+t.middleName+" "+t.lastName,relationshipId:t.relationshipId,surname:t.lastName,otherName:t.middleName};e.push(a)}));try{const a={active:!0,address:[{city:t.address,countryId:t.countryId,district:t.district,line:[t.landmark],organisationUnitId:0,postalCode:"",stateId:t.stateId}],contact:e,contactPoint:[],dateOfBirth:t.dob,deceased:!1,deceasedDateTime:null,firstName:t.firstName,genderId:t.genderId,sexId:t.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:t.hospitalNumber}],otherName:t.middleName,maritalStatusId:t.maritalStatusId,surname:t.lastName,educationId:t.educationId,employmentStatusId:t.employmentStatusId,dateOfRegistration:t.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=t.dateOfBirth,ninNumber:t.ninNumber},r={type:"phone",value:t.phoneNumber};if(t.email){const e={type:"email",value:t.email};a.contactPoint.push(e)}if(t.altPhonenumber){const e={type:"altphone",value:t.altPhonenumber};a.contactPoint.push(e)}a.contactPoint.push(r),a.id=Te,q.person=a,q.hivEnrollment=$;await u.a.put("".concat(x,"hiv/patient/").concat(Re.id),q,{headers:{Authorization:"Bearer ".concat(v)}});o.b.success("Patient Updated successfully! \u2714"),K.push("/")}catch(r){if(r.response&&r.response.data){let e=r.response.data&&""!==r.response.data.apierror.message?r.response.data.apierror.message:"Something went wrong, please try again";o.b.error(e)}}}},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:b?Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(ce.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})}),Object(ce.jsx)(Q.a,{variant:"contained",className:G.button,startIcon:Object(ce.jsx)(mt.a,{}),onClick:()=>{K.push({pathname:"/"})},style:{backgroundColor:"#992E62"},children:Object(ce.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]}):""]})})]})})]})};function Xt(){return Object(ce.jsx)("div",{style:{marginTop:"3em"},children:Object(ce.jsx)(n.MemoryRouter,{children:Object(ce.jsxs)("div",{children:[Object(ce.jsx)(o.a,{}),Object(ce.jsxs)(n.Switch,{children:[Object(ce.jsx)(n.Route,{path:"/patient-dashboard",children:Object(ce.jsx)(Ht,{})}),Object(ce.jsx)(n.Route,{path:"/update-patient",children:Object(ce.jsx)(Jt,{})}),Object(ce.jsx)(n.Route,{path:"/",children:Object(ce.jsx)(je,{})})]})]})})})}var Zt=e=>{e&&e instanceof Function&&a.e(6).then(a.bind(null,1086)).then((t=>{let{getCLS:a,getFID:r,getFCP:s,getLCP:i,getTTFB:c}=t;a(e),r(e),s(e),i(e),c(e)}))},Qt=a(623);let $t="ltr";const ea=[{typography:"poppins",version:"light",layout:"vertical",headerBg:"color_1",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"full",direction:$t},{typography:"poppins",version:"light",layout:"vertical",primary:"color_5",headerBg:"color_5",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",direction:$t},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_11",headerBg:"color_1",sidebarBg:"color_11",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_11",direction:$t},{typography:"poppins",version:"dark",layout:"vertical",headerBg:"color_3",navheaderBg:"color_3",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_1",direction:$t},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_15",headerBg:"color_1",sidebarStyle:"full",sidebarBg:"color_1",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_15",direction:$t},{typography:"poppins",version:"light",layout:"horizontal",navheaderBg:"color_1",headerBg:"color_1",sidebarBg:"color_9",sidebarStyle:"modern",sidebarPosition:"static",headerPosition:"fixed",containerLayout:"wide",primary:"color_9",direction:$t}],ta=Object(r.createContext)();var aa=e=>{const[t,a]=Object(r.useState)({value:"full",label:"Full"}),[s,i]=Object(r.useState)({value:"fixed",label:"Fixed"}),[c,n]=Object(r.useState)({value:"fixed",label:"Fixed"}),[o,l]=Object(r.useState)({value:"vertical",label:"Vertical"}),[d,j]=Object(r.useState)({value:"ltr",label:"LTR"}),[b,h]=Object(r.useState)("color_1"),[p,u]=Object(r.useState)("color_1"),[m,O]=Object(r.useState)("color_1"),[x,v]=Object(r.useState)("color_1"),[g,f]=Object(r.useState)(!1),[y,N]=Object(r.useState)(!1),[S,T]=Object(r.useState)({value:"light",label:"Light"}),[R,C]=Object(r.useState)({value:"wide-boxed",label:"Wide Boxed"}),D=document.querySelector("body"),[P,I]=Object(r.useState)(0),[w,A]=Object(r.useState)(0),E=e=>{h(e),D.setAttribute("data-primary",e)},_=e=>{u(e),D.setAttribute("data-nav-headerbg",e)},k=e=>{O(e),D.setAttribute("data-headerbg",e)},B=e=>{v(e),D.setAttribute("data-sibebarbg",e)},F=e=>{i(e),D.setAttribute("data-sidebar-position",e.value)},Y=e=>{j(e),D.setAttribute("direction",e.value);let t=document.querySelector("html");t.setAttribute("dir",e.value),t.className=e.value},L=e=>{"horizontal"===e.value&&"overlay"===t.value?(l(e),D.setAttribute("data-layout",e.value),a({value:"full",label:"Full"}),D.setAttribute("data-sidebar-style","full")):(l(e),D.setAttribute("data-layout",e.value))},H=e=>{"horizontal"===o.value&&"overlay"===e.value?alert("Sorry! Overlay is not possible in Horizontal layout."):(a(e),f("icon-hover"===e.value?"_i-hover":""),D.setAttribute("data-sidebar-style",e.value))},z=e=>{n(e),D.setAttribute("data-header-position",e.value)},M=e=>{D.setAttribute("data-theme-version",e.value),T(e)},W=e=>{C(e),D.setAttribute("data-container",e.value),"boxed"===e.value&&H({value:"overlay",label:"Overlay"})};return Object(r.useEffect)((()=>{const e=document.querySelector("body");e.setAttribute("data-typography","poppins"),e.setAttribute("data-theme-version","light"),e.setAttribute("data-layout","vertical"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-nav-headerbg","color_1"),e.setAttribute("data-headerbg","color_1"),e.setAttribute("data-sidebar-style","overlay"),e.setAttribute("data-sibebarbg","color_1"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-sidebar-position","fixed"),e.setAttribute("data-header-position","fixed"),e.setAttribute("data-container","wide"),e.setAttribute("direction","ltr");let t=()=>{I(window.innerWidth),A(window.innerHeight),window.innerWidth>=768&&window.innerWidth<1024?e.setAttribute("data-sidebar-style","mini"):window.innerWidth<=768?e.setAttribute("data-sidebar-style","overlay"):e.setAttribute("data-sidebar-style","full")};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),Object(ce.jsx)(ta.Provider,{value:{body:D,sideBarOption:[{value:"compact",label:"Compact"},{value:"full",label:"Full"},{value:"mini",label:"Mini"},{value:"modern",label:"Modern"},{value:"overlay",label:"Overlay"},{value:"icon-hover",label:"Icon-hover"}],layoutOption:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"}],backgroundOption:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],sidebarposition:s,headerPositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],containerPosition:[{value:"wide-boxed",label:"Wide Boxed"},{value:"boxed",label:"Boxed"},{value:"wide",label:"Wide"}],directionPosition:[{value:"ltr",label:"LTR"},{value:"rtl",label:"RTL"}],fontFamily:[{value:"poppins",label:"Poppins"},{value:"roboto",label:"Roboto"},{value:"cairo",label:"Cairo"},{value:"opensans",label:"Open Sans"},{value:"HelveticaNeue",label:"HelveticaNeue"}],primaryColor:b,navigationHader:p,windowWidth:P,windowHeight:w,changePrimaryColor:E,changeNavigationHader:_,changeSideBarStyle:H,sideBarStyle:t,changeSideBarPostion:F,sidebarpositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],changeHeaderPostion:z,headerposition:c,changeSideBarLayout:L,sidebarLayout:o,changeDirectionLayout:Y,changeContainerPosition:W,direction:d,colors:["color_1","color_2","color_3","color_4","color_5","color_6","color_7","color_8","color_9","color_10","color_11","color_12","color_13","color_14","color_15"],haderColor:m,chnageHaderColor:k,chnageSidebarColor:B,sidebarColor:x,iconHover:g,menuToggle:y,openMenuToggle:()=>{"overly"===t.value?N(!0):N(!1)},changeBackground:M,background:S,containerPosition_:R,setDemoTheme:(e,t)=>{var a={},r=ea[e];D.setAttribute("data-typography",r.typography),a.value=r.version,M(a),a.value=r.layout,L(a),E(r.primary),_(r.navheaderBg),k(r.headerBg),a.value=r.sidebarStyle,H(a),B(r.sidebarBg),a.value=r.sidebarPosition,F(a),a.value=r.headerPosition,z(a),a.value=r.containerLayout,W(a),a.value=t,Y(a)}},children:e.children})};c.a.render(Object(ce.jsx)(s.a.StrictMode,{children:Object(ce.jsx)(Qt.a,{children:Object(ce.jsx)(g.a,{basename:"/",children:Object(ce.jsx)(aa,{children:Object(ce.jsx)(Xt,{})})})})}),document.getElementById("root")),Zt()}},[[843,1,2]]]);
//# sourceMappingURL=main.4840deed.chunk.js.map