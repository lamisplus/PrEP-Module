(this.webpackJsonpLamisPlus=this.webpackJsonpLamisPlus||[]).push([[0],{482:function(e,t,a){},711:function(e,t,a){},712:function(e,t,a){},954:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),n=a(20),i=a.n(n),s=a(66),o=a(17),d=(a(171),a(711),a(712),a(713),a(7)),l=a(1031),j=a(1032),b=a(1072),u=a(1057),m=a(1033),h=a(14),O=a(28),p=a(5),x=a(293),f=a.n(x),g=a(12),v=a.n(g),y="http://localhost:8383/api/v1/",N="eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJndWVzdEBsYW1pc3BsdXMub3JnIiwiYXV0aCI6IlN1cGVyIEFkbWluIiwibmFtZSI6Ikd1ZXN0IEd1ZXN0IiwiZXhwIjoxNjY0MjkxMjk0fQ.iB97IhuV7b3-3eJTYAW5l8FMH9sI5AM-nXseP-mShFkkOU7ztt6zbaRZ_KBKgwXjFyrptE4mw_WQr79D3xMiZg",S=(a(282),a(38)),I=a(375),C=a.n(I),D=a(385),R=a.n(D),w=a(376),T=a.n(w),A=a(383),P=a.n(A),B=a(263),k=a.n(B),E=a(262),q=a.n(E),z=a(377),Y=a.n(z),L=a(378),F=a.n(L),H=a(380),_=a.n(H),M=a(381),W=a.n(M),V=a(382),U=a.n(V),G=a(386),K=a.n(G),X=a(379),Z=a.n(X),J=a(384),Q=a.n(J),$=a(387),ee=a.n($),te=(a(112),a(583)),ae=a(494),re=a(1020),ce=a(388),ne=(a(471),a(29)),ie=a.n(ne),se=a(244),oe=a.n(se),de=a(125),le=a(2);ie.a.locale("en"),oe()();var je={Add:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(C.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(T.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(q.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Y.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(k.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(F.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Z.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(_.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(W.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(U.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(k.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(P.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(q.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(Q.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(R.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(K.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(le.jsx)(ee.a,Object(p.a)(Object(p.a)({},e),{},{ref:t}))}))},be=(Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),function(e){var t=Object(r.useState)([]),a=Object(d.a)(t,2),c=(a[0],a[1]),n=Object(r.useState)(!0),i=Object(d.a)(n,2),s=i[0],o=i[1];function l(){return(l=Object(O.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),v.a.get("".concat(y,"hiv/patients"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){o(!1),c(e.data)})).catch((function(e){o(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[]);var j=function(e){var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),c=new Date(r),n=t.getFullYear()-c.getFullYear(),i=t.getMonth()-c.getMonth();return(i<0||0===i&&t.getDate()<c.getDate())&&n--,0===n?i+" month(s)":n+" year(s)"},b=function(e){var t=e.identifier.find((function(e){return"HospitalNumber"==e.type}));return t?t.value:""};return Object(le.jsx)("div",{children:Object(le.jsx)(f.a,{icons:je,title:"Find Patient ",columns:[{title:"Patient Name",field:"name"},{title:"Hospital Number",field:"hospital_number",filtering:!1},{title:"Sex",field:"gender",filtering:!1},{title:"Age",field:"age",filtering:!1},{title:"Actions",field:"actions",filtering:!1}],isLoading:s,data:[{id:3,visitId:null,facilityId:1616,active:!0,surname:"Eeka",ninNumber:"34444444444",emrId:null,firstName:"Emeka",otherName:null,sex:"Female",gender:{id:377,display:"Female"},deceased:!1,maritalStatus:{id:5,display:"Single"},employmentStatus:{id:88,display:"Unemployed"},education:{id:10,display:"None"},organization:null,biometricStatus:!1,dateOfBirth:"1979-06-15",deceasedDateTime:null,identifier:{identifier:[{type:"HospitalNumber",value:"344",assignerId:1}]},contact:null,contactPoint:{contactPoint:[{type:"email",value:"guest@lamisplus.org"},{type:"altphone",value:"2344444444"},{type:"phone",value:"2344444444"}]},address:{address:[{city:"abuha",line:["abuja"],stateId:2,district:"39",countryId:1,postalCode:"",organisationUnitId:0}]},dateOfRegistration:"2022-09-02",checkInDate:null,encounterDate:null,currentStatus:"ACTIVE ON ART",enrollment:{facilityId:1616,id:2,uniqueId:"344",entryPointId:16,targetGroupId:151,dateConfirmedHiv:"2022-09-02",dateEnrolledPMTCT:null,sourceOfReferrerId:43,timeHivDiagnosis:null,pregnant:null,breastfeeding:null,dateOfRegistration:"2022-09-02",statusAtRegistrationId:54,enrollmentSettingId:51,dateStarted:null,personId:3,facilityName:"",ovcNumber:"",dateOfLpm:null,pregnancyStatusId:72,tbStatusId:67,visitId:4,houseHoldNumber:null,careEntryPointOther:"",referredToOVCPartner:"",referredFromOVCPartner:"",dateReferredToOVCPartner:null,dateReferredFromOVCPartner:null},artCommence:{id:5,visitDate:"2022-09-16",cd4:34,cd4Percentage:34,isCommencement:!0,functionalStatusId:123,clinicalNote:"test",uuid:"7176ec2d-c929-4ced-9349-7ddf5ebf5697",hivEnrollmentId:null,whoStagingId:119,regimenId:1,regimenTypeId:1,vitalSignId:3,facilityId:1616,personId:3,clinicalStageId:119,lmpDate:null,visitId:4,vitalSignDto:{id:3,bodyWeight:33,diastolic:90,captureDate:null,height:90,personId:3,visitId:4,systolic:90,temperature:36,pulse:45,respiratoryRate:44,archived:0,facilityId:1616},isViralLoadAtStartOfArt:!1,viralLoadAtStartOfArt:null,dateOfViralLoadAtStartOfArt:null},artClinicVisits:[],artPharmacyRefills:null,mentalHealth:!0,commenced:!0,enrolled:!0,clinicalEvaluation:!0,isDateOfBirthEstimated:!0}].map((function(e){return{name:"Not Enrolled"!==e.currentStatus?Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(S.b,{to:{pathname:"/patient-history",state:{patientObj:e}},title:"Click to view patient dashboard",children:[" ",e.firstName+" "+e.surname]})}):Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)(S.b,{to:{pathname:"/enroll-patient",state:{patientId:e.id,patientObj:e}},title:"Enroll Patient",children:[" ",e.firstName+" "+e.surname]})}),hospital_number:b(e.identifier),gender:e&&e.sex?e.sex:"",age:0===e.dateOfBirth||void 0===e.dateOfBirth||null===e.dateOfBirth||""===e.dateOfBirth?0:j(ie()(e.dateOfBirth).format("DD-MM-YYYY")),actions:Object(le.jsx)("div",{children:"Not Enrolled"!==e.currentStatus?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(S.b,{to:{pathname:"/patient-history",state:{patientObj:e}},children:Object(le.jsxs)(re.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(le.jsx)(ae.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(le.jsx)(ce.a,{})}),Object(le.jsx)(ae.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(le.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Patient Dashboard"})})]})})}):Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(S.b,{to:{pathname:"/enroll-patient",state:{patientId:e.id,patientObj:e}},children:Object(le.jsxs)(re.a,{variant:"contained","aria-label":"split button",style:{backgroundColor:"rgb(153, 46, 98)",height:"30px",width:"215px"},size:"large",children:[Object(le.jsx)(ae.a,{color:"primary",size:"small","aria-label":"select merge strategy","aria-haspopup":"menu",style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(le.jsx)(de.b,{})}),Object(le.jsx)(ae.a,{style:{backgroundColor:"rgb(153, 46, 98)"},children:Object(le.jsx)("span",{style:{fontSize:"12px",color:"#fff",fontWeight:"bolder"},children:"Enroll Patient"})})]})})})})}})),options:{headerStyle:{backgroundColor:"#014d88",color:"#fff"},searchFieldStyle:{width:"200%",margingLeft:"250px"},filtering:!1,exportButton:!1,searchFieldAlignment:"left",pageSizeOptions:[10,20,100],pageSize:10,debounceInterval:400}})})}),ue=a(162),me=a.n(ue),he=a(1028),Oe=a(1029),pe=a(1030),xe=a(1021),fe=a(128),ge=a.n(fe),ve=a(212),ye=a.n(ve);ge.a.setOptions({colors:ge.a.map(ge.a.getOptions().colors,(function(e){return{radialGradient:{cx:.5,cy:.3,r:.7},stops:[[0,e],[1,ge.a.color(e).brighten(-.3).get("rgb")]]}}))});var Ne={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:"Number of Adults and Children currently receiving ART by Age"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",connectorColor:"black"},showInLegend:!0}},series:[{name:"Currently Receiving ART By Age",data:[{name:"25 + ",sliced:!0,y:61.41},{name:"20-24 ",y:11.84},{name:"10-19 ",y:10.85},{name:"\u2264 9 ",y:4.67}]}]},Se={chart:{plotBackgroundColor:null,plotBorderWidth:0,plotShadow:!1},title:{text:"Number of Adults and Children newly enrolled on ART by Sex",align:"center",verticalAlign:"middle",y:-160},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},accessibility:{point:{valueSuffix:"%"}},plotOptions:{pie:{dataLabels:{enabled:!0,distance:-50,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{fontWeight:"bold",color:"white"}},startAngle:-90,endAngle:90,center:["50%","75%"],size:"110%",showInLegend:!0}},series:[{type:"pie",name:"Newly Enrolled on ART ",innerSize:"50%",data:[["Male",58.9],["Female",13.29]]}]},Ie=Object(te.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}},card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"}}})),Ce=function(e){Ie();var t=Object(r.useState)(""),a=Object(d.a)(t,2),n=(a[0],a[1],Object(r.useState)(!1)),i=Object(d.a)(n,2),s=(i[0],i[1],Object(r.useState)({activeItem:"gamepad"})),o=Object(d.a)(s,2),l=o[0],j=(o[1],l.activeItem,c.a.useState(null)),b=Object(d.a)(j,2),u=b[0];b[1],Boolean(u);return Object(le.jsx)("div",{spacing:5,style:{padding:20},children:Object(le.jsx)(he.a,{children:Object(le.jsx)(Oe.a,{md:12,children:Object(le.jsxs)(he.a,{children:[Object(le.jsx)(Oe.a,{lg:6,md:6,sm:12,xs:12,className:"mb-4",children:Object(le.jsx)(xe.a,{children:Object(le.jsx)(pe.a,{children:Object(le.jsx)(ye.a,{highcharts:ge.a,options:Se})})})}),Object(le.jsx)(Oe.a,{lg:6,md:6,sm:12,xs:12,className:"mb-4",children:Object(le.jsx)(xe.a,{children:Object(le.jsx)(pe.a,{children:Object(le.jsx)(ye.a,{highcharts:ge.a,options:Ne})})})})]})})})})},De={chart:{type:"column"},title:{text:"Viral Load Cascade among new patients eligible after 6 months"},subtitle:{text:""},legend:{align:"right",verticalAlign:"middle",layout:"vertical"},xAxis:{categories:["Number Eligble","Number of Sample Collected","Number Tested","Number Suppressed"],labels:{x:-10}},yAxis:{allowDecimals:!1,title:{text:"Amount"}},series:[{name:"Number Eligble",data:[20,40,30,3]},{name:"Number of Sample Collected",data:[62,41,22,22]},{name:"Number Tested",data:[200,45,30,20]},{name:"Number Suppressed",data:[40,40,10,90]}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{align:"center",verticalAlign:"bottom",layout:"horizontal"},yAxis:{labels:{align:"left",x:0,y:-5},title:{text:null}},subtitle:{text:null},credits:{enabled:!1}}}]}},Re={chart:{type:"column"},title:{text:"Viral Load Cascade among patients currently on ART eligible after 12 months of last VL result"},subtitle:{text:""},legend:{align:"right",verticalAlign:"middle",layout:"vertical"},xAxis:{categories:["Number Eligble","Number of Sample Collected","Number Tested","Number Suppressed"],labels:{x:-10}},yAxis:{allowDecimals:!1,title:{text:"Amount"}},series:[{name:"Number Eligble",data:[200,40,30,3]},{name:"Number of Sample Collected",data:[62,41,22,22]},{name:"Number Tested",data:[2e3,450,300,200]},{name:"Number Suppressed",data:[40,40,100,90]}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{align:"center",verticalAlign:"bottom",layout:"horizontal"},yAxis:{labels:{align:"left",x:0,y:-5},title:{text:null}},subtitle:{text:null},credits:{enabled:!1}}}]}},we=function(){return Object(le.jsx)(r.Fragment,{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-xl-3 col-xxl-4 col-lg-6 col-sm-6",children:Object(le.jsx)("div",{className:"widget-stat card",children:Object(le.jsx)("div",{className:"card-body p-4",children:Object(le.jsxs)("div",{className:"media ai-icon",children:[Object(le.jsx)("span",{className:"me-3 bgl-primary text-danger",children:Object(le.jsx)("i",{class:"fa fa-user-plus","aria-hidden":"true"})}),Object(le.jsxs)("div",{className:"media-body",children:[Object(le.jsx)("p",{className:"mb-1",children:"NEWLY DIAGNOSED HIV+"}),Object(le.jsx)("h4",{className:"mb-0",children:"3280"})]})]})})})}),Object(le.jsx)("div",{className:"col-xl-3 col-xxl-4 col-lg-6 col-sm-6",children:Object(le.jsx)("div",{className:"widget-stat card",children:Object(le.jsx)("div",{className:"card-body p-4",children:Object(le.jsxs)("div",{className:"media ai-icon",children:[Object(le.jsx)("span",{className:"me-3 bgl-warning text-warning",children:Object(le.jsx)("i",{class:"fa fa-heartbeat","aria-hidden":"true"})}),Object(le.jsxs)("div",{className:"media-body",children:[Object(le.jsx)("p",{className:"mb-1",children:"CURRENT ON ART"}),Object(le.jsx)("h4",{className:"mb-0",children:"2570"})]})]})})})}),Object(le.jsx)("div",{className:"col-xl-3 col-xxl-4 col-lg-6 col-sm-6",children:Object(le.jsx)("div",{className:"widget-stat card",children:Object(le.jsx)("div",{className:"card-body  p-4",children:Object(le.jsxs)("div",{className:"media ai-icon",children:[Object(le.jsx)("span",{className:"me-3 bgl-danger text-danger",children:Object(le.jsx)("i",{class:"fa fa-compress","aria-hidden":"true"})}),Object(le.jsxs)("div",{className:"media-body",children:[Object(le.jsx)("p",{className:"mb-1",children:"VIRALLY SUPPRESSED"}),Object(le.jsx)("h4",{className:"mb-0",children:"50"})]})]})})})}),Object(le.jsx)("div",{className:"col-xl-3 col-xxl-4 col-lg-6 col-sm-6",children:Object(le.jsx)("div",{className:"widget-stat card",children:Object(le.jsx)("div",{className:"card-body p-4",children:Object(le.jsxs)("div",{className:"media ai-icon",children:[Object(le.jsx)("span",{className:"me-3 bgl-success text-success",children:Object(le.jsx)("i",{class:"fa fa-users","aria-hidden":"true"})}),Object(le.jsxs)("div",{className:"media-body",children:[Object(le.jsx)("p",{className:"mb-1",children:"CURRENTLY ACTIVE"}),Object(le.jsx)("h4",{className:"mb-0",children:"2340"})]})]})})})}),Object(le.jsx)(Ce,{}),Object(le.jsx)("div",{className:"col-xl-6 col-xxl-4 col-lg-6 col-sm-6",children:Object(le.jsx)(ye.a,{highcharts:ge.a,options:De})}),Object(le.jsx)("div",{className:"col-xl-6 col-xxl-4 col-lg-6 col-sm-6",children:Object(le.jsx)(ye.a,{highcharts:ge.a,options:Re})})]})})},Te=a(417);ie.a.locale("en"),oe()();Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}}));var Ae=a(666),Pe={borderRadius:"2px",fontSize:14},Be=function(){var e=Object(r.useState)("home"),t=Object(d.a)(e,2),a=t[0],c=t[1];return Object(le.jsxs)(r.Fragment,{children:[Object(le.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(le.jsx)("ol",{className:"breadcrumb",children:Object(le.jsx)("li",{className:"breadcrumb-item active",children:Object(le.jsx)("h4",{children:"Prep"})})})}),Object(le.jsx)(S.b,{to:"register-patient",children:Object(le.jsx)(ae.a,{variant:"contained",color:"primary",className:" float-end mb-10",startIcon:Object(le.jsx)(Ae.a,{size:"10"}),style:{backgroundColor:"#014d88"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"New Patient"})})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(l.a,{children:Object(le.jsx)(j.a,{xl:12,children:Object(le.jsx)(b.a,{style:Pe,children:Object(le.jsx)(b.a.Body,{children:Object(le.jsx)("div",{className:"custom-tab-1",children:Object(le.jsxs)(u.a,{id:"controlled-tab-example",activeKey:a,onSelect:function(e){return c(e)},className:"mb-3",children:[Object(le.jsx)(m.a,{eventKey:"home",title:"Find Patients",children:Object(le.jsx)(be,{})}),Object(le.jsx)(m.a,{eventKey:"visualization",title:"Data Visualisation",children:Object(le.jsx)(we,{})})]})})})})})})]})},ke=a(9),Ee=a(1065),qe=a(1073),ze=(a(13),a(1024)),Ye=a(1026),Le=a(1027),Fe=a(1025),He=a(504),_e=a.n(He),Me=a(1023),We=a(166),Ve=a(16),Ue=a(10),Ge=a(1034),Ke=(a(1064),a(1035)),Xe=(a(1036),a(1037),a(1038)),Ze=a(1039),Je=a(1040),Qe=a(50),$e=a.n(Qe),et=a(197),tt=a.n(et),at=a(1058),rt=a(220);a(221),a(1074),a(1076),a(1075),a(496),a(1077),Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"12.8px"}}}));ie.a.locale("en"),oe()();var ct=Object(ke.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}))((function(e){var t=e.classes,a=(!e.patientObj||e.patientObj.currentStatus,e.patientObj?e.patientObj:{}),c=(e.permissions&&e.permissions,Object(r.useState)(a)),n=Object(d.a)(c,2),i=n[0],s=(n[1],Object(r.useState)(e.patientObj.biometricStatus)),o=Object(d.a)(s,2),l=(o[0],o[1],Object(r.useState)(!1)),j=Object(d.a)(l,2),b=j[0],u=j[1],m=Object(r.useState)([]),x=Object(d.a)(m,2),f=(x[0],x[1]),g=Object(r.useState)(!1),I=Object(d.a)(g,2),C=(I[0],I[1],Object(r.useState)(!1)),D=Object(d.a)(C,2),R=(D[0],D[1],Object(r.useState)()),w=Object(d.a)(R,2),T=(w[0],w[1]),A=Object(r.useState)(!1),P=Object(d.a)(A,2);P[0],P[1],Object(r.useEffect)((function(){!function(){k.apply(this,arguments)}(),B()}),[e.patientObj]);var B=function(){v.a.get("".concat(y,"modules/check?moduleName=biometric"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){u(e.data),!0===e.data&&v.a.get("".concat(y,"biometrics/devices"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){f(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){}))};function k(){return(k=Object(O.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.get("".concat(y,"hiv/status/patient-current/").concat(i.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){T(e.data)})).catch((function(e){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(le.jsx)("div",{className:t.root,children:Object(le.jsxs)(ze.a,{defaultExpanded:!0,children:[Object(le.jsx)(Le.a,{expandIcon:Object(le.jsx)(_e.a,{}),children:Object(le.jsx)(he.a,{children:Object(le.jsx)(Oe.a,{md:12,children:Object(le.jsxs)(he.a,{className:"mt-1",children:[Object(le.jsxs)(Oe.a,{md:12,className:t.root2,children:[Object(le.jsx)("b",{style:{fontSize:"25px"},children:i.firstName+" "+i.surname}),Object(le.jsx)(S.b,{to:"/",children:Object(le.jsx)(ae.a,{variant:"contained",color:"primary",className:" float-end ms-2 mr-2 mt-2",startIcon:Object(le.jsx)(de.a,{}),style:{backgroundColor:"rgb(153, 46, 98)",color:"#fff",height:"35px"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Back"})})})]}),Object(le.jsx)(Oe.a,{md:4,className:t.root2,children:Object(le.jsxs)("span",{children:[" ","Patient ID : ",Object(le.jsx)("b",{children:function(e){var t=e.identifier.find((function(e){return"HospitalNumber"==e.type}));return t?t.value:""}(i.identifier)})]})}),Object(le.jsx)(Oe.a,{md:4,className:t.root2,children:Object(le.jsxs)("span",{children:["Date Of Birth : ",Object(le.jsx)("b",{children:i.dateOfBirth})]})}),Object(le.jsx)(Oe.a,{md:4,className:t.root2,children:Object(le.jsxs)("span",{children:[" ","Age : ",Object(le.jsx)("b",{children:function(e){var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),c=new Date(r),n=t.getFullYear()-c.getFullYear(),i=t.getMonth()-c.getMonth();return(i<0||0===i&&t.getDate()<c.getDate())&&n--,0===n?i+" month(s)":n+" year(s)"}(ie()(i.dateOfBirth).format("DD-MM-YYYY"))})]})}),Object(le.jsx)(Oe.a,{md:4,children:Object(le.jsxs)("span",{children:[" ","Gender :"," ",Object(le.jsx)("b",{children:i.sex&&null!==i.sex?i.sex:""})]})}),Object(le.jsx)(Oe.a,{md:4,className:t.root2,children:Object(le.jsxs)("span",{children:[" ","Phone Number : ",Object(le.jsx)("b",{children:function(e){var t=e.contactPoint.find((function(e){return"phone"==e.type}));return t?t.value:""}(i.contactPoint)})]})}),Object(le.jsx)(Oe.a,{md:4,className:t.root2,children:Object(le.jsxs)("span",{children:[" ","Address : ",Object(le.jsxs)("b",{children:[function(e){var t=e.address.find((function(e){return e.city}));return t?t.city:""}(i.address)," "]})]})}),Object(le.jsx)(Oe.a,{md:12,children:!0===b?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{children:Object(le.jsxs)(We.a,{variant:"caption",children:[Object(le.jsxs)(Te.a,{color:!0===e.patientObj.biometricStatus?"green":"red",size:"mini",children:["Biometric Status",Object(le.jsx)(Te.a.Detail,{children:!0===e.patientObj.biometricStatus?"Captured":"Not Capture"})]}),!0!==e.patientObj.biometricStatus?Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(le.Fragment,{children:Object(le.jsx)(Te.a,{as:"a",color:"teal",onClick:function(){return t=i,void e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"biometrics",obj:t}));var t},tag:!0,children:"Capture Now"})})}):""]})})}):Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{children:Object(le.jsx)(We.a,{variant:"caption",children:Object(le.jsx)(Te.a,{color:"red",size:"mini",children:"Biometric Not Install"})})})})})]})})})}),Object(le.jsx)(Ye.a,{className:t.details}),Object(le.jsx)(Me.a,{}),Object(le.jsx)(Fe.a,{expandIcon:Object(le.jsx)(_e.a,{})})]})})})),nt=a(1055),it=Object(te.a)((function(e){return{navItemText:{padding:e.spacing(2)}}}));var st=function(e){it();var t="",a=e.patientObj?e.patientObj:{},c=(!e.patientObj||e.patientObj.currentStatus,Object(r.useState)(a)),n=Object(d.a)(c,2),i=(n[0],n[1],Object(r.useState)()),s=Object(d.a)(i,2),o=(s[0],s[1]);Object(r.useEffect)((function(){l(),t=e.patientObj&&e.patientObj.sex?e.patientObj.sex:null,o("Female"===t)}),[e.patientObj]);var l=function(){v.a.get("".concat(y,"observation/person/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){var t=e.data,a=t.filter((function(e){return"mental health"===e.type})),r=t.filter((function(e){return"initial evaluation"===e.type}));a.length>1&&!0,r.length>1&&!0})).catch((function(e){}))};return Object(le.jsx)("div",{children:Object(le.jsxs)(nt.a,{size:"mini",color:"black",inverted:!0,children:[Object(le.jsx)(nt.a.Item,{onClick:function(){e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))},children:" Home"}),Object(le.jsx)(nt.a.Item,{onClick:function(){e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"consultation"}))},children:" PrEP Visit"}),Object(le.jsx)(nt.a.Item,{onClick:function(){e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"prep-screening"}))},children:"PrEP Eligibilty Screening Form"}),Object(le.jsx)(nt.a.Item,{onClick:function(){e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"prep-interruptions"}))},children:"PrEP Discontinuations & Interruptions"}),Object(le.jsx)(nt.a.Item,{onClick:function(){e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"prep-commencement"}))},children:"PrEP Commencement"})]})})},ot=a(1053),dt=a(1046),lt=a(1061),jt=Object(te.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:"bolder"}}})),bt=function(e){jt();var t=Object(r.useState)([]),a=Object(d.a)(t,2),c=a[0],n=a[1],i=Object(r.useState)([]),l=Object(d.a)(i,2),j=(l[0],l[1]),u=Object(r.useState)([]),m=Object(d.a)(u,2),x=(m[0],m[1]),f=Object(r.useState)([]),g=Object(d.a)(f,2),S=g[0],I=g[1],C=Object(r.useState)(!0),D=Object(d.a)(C,2),R=(D[0],D[1]),w=Object(s.g)(),T=Object(r.useState)(0),A=Object(d.a)(T,2),P=A[0],B=A[1];Object(r.useEffect)((function(){E(),function(){q.apply(this,arguments)}(),function(){z.apply(this,arguments)}(),k()}),[e.patientObj.id]);var k=function(){v.a.get("".concat(y,"hiv/patients/").concat(e.patientObj.id,"/activities?full=false"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){I(e.data)})).catch((function(e){}))},E=function(){v.a.get("".concat(y,"laboratory/orders/patients/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){var t=[];e.data.forEach((function(e,a,r){var c=e.labOrder.tests;c[a]&&c.forEach((function(e,a,r){t.push(e)}))})),n(t)})).catch((function(e){}))};function q(){return(q=Object(O.a)(Object(h.a)().mark((function t(){return Object(h.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:R(!0),v.a.get("".concat(y,"hiv/art/pharmacy/patient?pageNo=0&pageSize=10&personId=").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){R(!1),j(e.data)})).catch((function(e){R(!1)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(){return(z=Object(O.a)(Object(h.a)().mark((function t(){return Object(h.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:R(!0),v.a.get("".concat(y,"hiv/art/clinic-visit/person?pageNo=0&pageSize=10&personId=").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){R(!1),x(e.data)})).catch((function(e){R(!1)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Y=function(t,a){"Mental-health"===t.path?e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"mental-health-view",id:t.id,actionType:a})):"Art-commence"===t.path?e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"art-commencement-view",id:t.id,actionType:a})):"Clinical-evaluation"===t.path?e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"adult-clinic-eveluation-view",id:t.id,actionType:a})):"eac1"===t.path?e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"first-eac-history",id:t.id,actionType:a})):"eac2"===t.path?e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"second-eac-history",id:t.id,actionType:a})):"eac3"===t.path?e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"completed-eac-history",id:t.id,actionType:a})):"hiv-enrollment"===t.path?w.push({pathname:"/update-patient",state:{id:t.id,patientObj:e.patientObj,actionType:a}}):"pharmacy"===t.path?e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"pharmacy-update",id:t.id,activeTab:"history",actionType:a,obj:t})):"Laboratory"===t.path?e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"mental-health-history",id:t.id,actionType:a})):"clinic-visit"===t.path&&e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"consultation",id:t.id,activeTab:"history",actionType:a}))};return Object(le.jsx)(r.Fragment,{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-xl-4 col-xxl-4 col-lg-4",children:Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header  border-0 pb-0",children:Object(le.jsx)("h4",{className:"card-title",children:" Recent Activities"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsx)(me.a,{style:{height:"370px"},id:"DZ_W_Todo1",className:"widget-media dz-scroll ps ps--active-y",children:Object(le.jsx)(lt.a,{className:"accordion accordion-header-bg accordion-header-shadow accordion-rounded ",defaultActiveKey:"0",children:Object(le.jsx)(le.Fragment,{children:S.map((function(e,t){return Object(le.jsxs)("div",{className:"accordion-item",children:[Object(le.jsxs)(lt.a.Toggle,{as:b.a.Text,eventKey:"".concat(t),className:"accordion-header ".concat(1===P?"":"collapsed"," accordion-header-info"),onClick:function(){return B(1===P?-1:t)},children:[Object(le.jsx)("span",{className:"accordion-header-icon"}),Object(le.jsxs)("span",{className:"accordion-header-text",children:["Visit Date : ",Object(le.jsx)("span",{className:"",children:e.date})," "]}),Object(le.jsx)("span",{className:"accordion-header-indicator"})]}),Object(le.jsx)(lt.a.Collapse,{eventKey:"".concat(t),className:"accordion__body",children:Object(le.jsx)("div",{className:"accordion-body-text",children:Object(le.jsx)("ul",{className:"timeline",children:e.activities&&e.activities.map((function(e,t){return Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("li",{children:Object(le.jsxs)("div",{className:"timeline-panel",children:[Object(le.jsx)("div",{className:t%2==0?"media me-2 media-info":"media me-2 media-success",children:(a=e.name,"HIV Enrollment"===a?"HE":"Pharmacy refill"===a?"PR":"Clinical evaluation"===a?"CE":"Clinic visit follow up"===a?"CV":"ART Commencement"===a?"AC":"RA")}),Object(le.jsxs)("div",{className:"media-body",children:[Object(le.jsx)("h5",{className:"mb-1",children:e.name}),Object(le.jsx)("small",{className:"d-block",children:e.date})]}),Object(le.jsxs)(ot.a,{className:"dropdown",children:[Object(le.jsx)(ot.a.Toggle,{variant:" light",className:"i-false p-0 btn-info sharp",children:Object(le.jsx)("svg",{width:"18px",height:"18px",viewBox:"0 0 24 24",version:"1.1",children:Object(le.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(le.jsx)("rect",{x:"0",y:"0",width:"24",height:"24"}),Object(le.jsx)("circle",{fill:"#000000",cx:"5",cy:"12",r:"2"}),Object(le.jsx)("circle",{fill:"#000000",cx:"12",cy:"12",r:"2"}),Object(le.jsx)("circle",{fill:"#000000",cx:"19",cy:"12",r:"2"})]})})}),Object(le.jsxs)(ot.a.Menu,{className:"dropdown-menu",children:[e.viewable&&Object(le.jsx)(ot.a.Item,{className:"dropdown-item",onClick:function(){return Y(e,"view")},children:"View"}),e.viewable&&Object(le.jsx)(ot.a.Item,{className:"dropdown-item",onClick:function(){return Y(e,"update")},children:"Update"}),e.deletable&&Object(le.jsx)(ot.a.Item,{className:"dropdown-item",to:"/widget-basic",onClick:function(){var t;"Mental-health"===(t=e).path?v.a.delete("".concat(y,"observation/").concat(t.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){o.b.success("Record Deleted Successfully"),k()})).catch((function(e){if(e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})):"Art-commence"===t.path?v.a.delete("".concat(y,"hiv/art/commencement/").concat(t.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){o.b.success("Record Deleted Successfully"),k()})).catch((function(e){if(e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})):"Clinical-evaluation"===t.path?v.a.delete("".concat(y,"observation/").concat(t.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){o.b.success("Record Deleted Successfully"),k()})).catch((function(e){if(e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})):"eac1"===t.path?v.a.delete("".concat(y,"observation/eac/").concat(t.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){o.b.success("Record Deleted Successfully"),k()})).catch((function(e){if(e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})):"eac2"===t.path?v.a.delete("".concat(y,"observation/eac/").concat(t.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){o.b.success("Record Deleted Successfully"),k()})).catch((function(e){if(e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})):"eac3"===t.path?v.a.delete("".concat(y,"observation/eac/").concat(t.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){o.b.success("Record Deleted Successfully"),k()})).catch((function(e){if(e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})):"hiv-enrollment"===t.path?v.a.delete("".concat(y,"hiv/enrollment/").concat(t.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){o.b.success("Record Deleted Successfully"),k()})).catch((function(e){if(e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})):"pharmacy"===t.path?v.a.delete("".concat(y,"art/pharmacy/").concat(t.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){o.b.success("Record Deleted Successfully"),k()})).catch((function(e){if(e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})):"clinic-visit"===t.path&&v.a.delete("".concat(y,"hiv/art/clinic-visit/").concat(t.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){o.b.success("Record Deleted Successfully"),k()})).catch((function(e){if(e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")}))},children:"Delete"})]})]})]})})});var a}))})})})]},t)}))})})})})]})}),Object(le.jsx)("div",{className:"col-xl-8 col-xxl-8 col-lg-8",children:Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header border-0 pb-0",children:Object(le.jsx)("h4",{className:"card-title",children:"Visit Chart"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsx)(me.a,{style:{height:"370px"},id:"DZ_W_TimeLine",className:"widget-timeline dz-scroll height370 ps ps--active-y",children:Object(le.jsx)("ul",{className:"timeline",children:c.length>0?Object(le.jsx)(le.Fragment,{children:c.map((function(t,a){return Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)("li",{children:[Object(le.jsx)("div",{className:(r=t.labTestOrderStatus,0===r?"timeline-badge info":1===r?"timeline-badge warning":2===r?"timeline-badge success":3===r?"timeline-badge danger":4===r?"timeline-badge primary":5===r?"timeline-badge info":"timeline-badge secondary")}),Object(le.jsxs)("span",{className:"timeline-panel text-muted",onClick:function(){e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))},children:[Object(le.jsxs)("h6",{className:"mb-0",children:["Test Order Date"," ",Object(le.jsx)("br",{}),Object(le.jsx)("strong",{className:"text-primary",children:t.orderDate})]}),"others"!==t.labTestGroupName&&Object(le.jsxs)("h6",{className:"mb-0",children:["Test Order"," ",Object(le.jsx)("br",{}),Object(le.jsx)("strong",{className:"text-primary",children:t.labTestGroupName+" - "+t.labTestName}),"."]}),"others"===t.labTestGroupName&&Object(le.jsxs)("h6",{className:"mb-0",children:["Test Order"," ",Object(le.jsx)("br",{}),Object(le.jsx)("strong",{className:"text-primary",children:t.labTestName+" - "+t.viralLoadIndicationName}),"."]}),Object(le.jsxs)("h6",{className:"mb-0",children:["Status"," ",Object(le.jsx)("br",{}),Object(le.jsx)("strong",{className:"text-primary",children:t.labTestOrderStatusName}),"."]})]})]},a)});var r}))}):Object(le.jsx)(dt.a,{variant:"info",className:"alert-dismissible solid fade show",children:Object(le.jsx)("p",{children:"No visit yet"})})})})})]})})]})})},ut=a(1069),mt=a(1070),ht=a(1059),Ot=a(1049),pt=a(1050),xt=a(1047),ft=a(194),gt=a(1078),vt=a(148),yt=a.n(vt),Nt=Object(te.a)((function(e){return{error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}}));function St(e){var t=e.relative,a=e.index,r=e.removeRelativeLocation;return Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{children:t.adr}),Object(le.jsx)("th",{children:t.adrOnsetDate}),Object(le.jsx)("th",{}),Object(le.jsx)("th",{children:Object(le.jsx)(gt.a,{"aria-label":"delete",size:"small",color:"error",onClick:function(){return r(a)},children:Object(le.jsx)(yt.a,{fontSize:"inherit"})})})]})}var It=function(e){var t=Object(r.useState)({}),a=Object(d.a)(t,2),c=a[0],n=a[1],i=Nt(),s=Object(p.a)({},c),l=Object(r.useState)([]),j=Object(d.a)(l,2),b=j[0],u=j[1];Object(r.useEffect)((function(){m()}),[]);var m=function(){v.a.get("".concat(y,"application-codesets/v2/PREP_SIDE_EFFECTS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){u(e.data)})).catch((function(e){}))},h=function(t){e.setAdrObj(Object(p.a)(Object(p.a)({},e.adrObj),{},Object(Ue.a)({},t.target.name,t.target.value)))},O=function(t){e.adrList.splice(t,1),e.setAdrList(Object(Ve.a)(e.adrList))};return Object(le.jsx)("div",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"ADR "}),Object(le.jsxs)(Je.a,{type:"select",name:"adr",id:"adr",value:e.adrObj.adr,onChange:h,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:" Select"}),b.map((function(e){return Object(le.jsx)("option",{value:e.display,children:e.display},e.id)}))]}),""!==c.adr?Object(le.jsx)("span",{className:i.error,children:c.adr}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:" Onset Date"}),Object(le.jsx)(Je.a,{type:"date",name:"adrOnsetDate",id:"adrOnsetDate",value:e.adrObj.adrOnsetDate,onChange:h,min:e.artStartDate,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},max:ie()(new Date).format("YYYY-MM-DD"),required:!0}),""!==c.adrOnsetDate?Object(le.jsx)("span",{className:i.error,children:c.adrOnsetDate}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-2",children:Object(le.jsxs)(Te.a,{as:"a",color:"black",onClick:function(t){s.adr=e.adrObj.adr?"":"This field is required",s.adrOnsetDate=e.adrObj.adrOnsetDate?"":"This field is required",n(Object(p.a)({},s)),Object.values(s).every((function(e){return""==e}))?e.setAdrList([].concat(Object(Ve.a)(e.adrList),[e.adrObj])):o.b.error(" Field are required ")},size:"tiny",style:{marginTop:35},children:[Object(le.jsx)(ft.a,{name:"plus"})," Add"]})}),e.adrList.length>0?Object(le.jsx)(at.a,{children:Object(le.jsxs)(xt.a,{striped:!0,responsive:!0,children:[Object(le.jsx)("thead",{children:Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{children:"ADR"}),Object(le.jsx)("th",{children:"OnSetDate"}),Object(le.jsx)("th",{})]})}),Object(le.jsx)("tbody",{children:e.adrList.map((function(e,t){return Object(le.jsx)(St,{index:t,relative:e,removeRelativeLocation:O},t)}))})]})}):""]})})},Ct=Object(te.a)((function(e){return{error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}}));function Dt(e){var t=e.relative,a=e.index,r=e.removeInfection;return Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{children:t.illnessInfection}),Object(le.jsx)("th",{children:t.ondateInfection}),Object(le.jsx)("th",{}),Object(le.jsx)("th",{children:Object(le.jsx)(gt.a,{"aria-label":"delete",size:"small",color:"error",onClick:function(){return r(a)},children:Object(le.jsx)(yt.a,{fontSize:"inherit"})})})]})}var Rt=function(e){var t=Object(r.useState)({}),a=Object(d.a)(t,2),c=a[0],n=a[1],i=Ct(),s=Object(p.a)({},c),l=function(t){e.setInfection(Object(p.a)(Object(p.a)({},e.infection),{},Object(Ue.a)({},t.target.name,t.target.value)))},j=function(t){e.infectionList.splice(t,1),e.setInfectionList(Object(Ve.a)(e.infectionList))};return Object(le.jsx)("div",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Onset Date "}),Object(le.jsx)(Je.a,{type:"date",name:"ondateInfection",id:"ondateInfection",value:e.infection.ondateInfection,onChange:l,min:e.artStartDate,max:ie()(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==c.ondateInfection?Object(le.jsx)("span",{className:i.error,children:c.ondateInfection}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:" Illness"}),Object(le.jsx)(Je.a,{type:"text",name:"illnessInfection",id:"illnessInfection",value:e.infection.illnessInfection,onChange:l,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==c.illnessInfection?Object(le.jsx)("span",{className:i.error,children:c.illnessInfection}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-2",children:Object(le.jsxs)(Te.a,{as:"a",color:"black",onClick:function(t){s.ondateInfection=e.infection.ondateInfection?"":"This field is required",s.illnessInfection=e.infection.illnessInfection?"":"This field is required",n(Object(p.a)({},s)),Object.values(s).every((function(e){return""==e}))?e.setInfectionList([].concat(Object(Ve.a)(e.infectionList),[e.infection])):o.b.error(" Field are required ")},size:"tiny",style:{marginTop:35},children:[Object(le.jsx)(ft.a,{name:"plus"})," Add"]})}),e.infectionList.length>0?Object(le.jsx)(at.a,{children:Object(le.jsx)("div",{style:{padding:"3px 0px"},children:Object(le.jsxs)(xt.a,{striped:!0,responsive:!0,size:"sm",children:[Object(le.jsx)("thead",{children:Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{children:"Illness"}),Object(le.jsx)("th",{children:"OnSetDate"}),Object(le.jsx)("th",{})]})}),Object(le.jsx)("tbody",{children:e.infectionList.map((function(e,t){return Object(le.jsx)(Dt,{index:t,relative:e,removeInfection:j},t)}))})]})})}):""]})})},wt=function(e){var t=Object(r.useState)([]),a=Object(d.a)(t,2),c=a[0],n=a[1],i=Object(r.useState)(!1),s=Object(d.a)(i,2),o=s[0],l=s[1];Object(r.useEffect)((function(){j(),"NO"===e.tbObj.antiTBDrug?l(!0):l(!1);var t=c.filter((function(e){return"TB suspected and referred for evaluation"!==e.display&&"Currently on INH prophylaxis"!==e.display&&"Currently on TB treatment"!==e.display}));console.log(t),t}),[]);var j=function(){v.a.get("".concat(y,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){n(e.data)})).catch((function(e){}))},b=function(t){if(e.setTbObj(Object(p.a)(Object(p.a)({},e.tbObj),{},Object(Ue.a)({},t.target.name,t.target.value))),"antiTBDrug"===t.target.name&&("NO"===t.target.value?(l(!0),c):l(!1)),"currentOnIpt"===t.target.name&&"YES"===t.target.value){if("coughing"===t.target.name&&"NO"===t.target.value&&"nightSweat"===t.target.name&&"NO"===t.target.value&&"fever"===t.target.name&&"NO"===t.target.value&&"contactWithTBCase"===t.target.name&&"NO"===t.target.value&&"contactWithTBCase"===t.target.name&&"NO"===t.target.value){var a=c.filter((function(e){return"TB suspected and referred for evaluation"!==e.display&&"Currently on TB treatment"!==e.display}));n(a)}}else"currentOnIpt"===t.target.name&&t.target.value;if("NO"===e.tbObj.currentOnIpt&&"NO"===e.tbObj.coughing&&"NO"===e.tbObj.nightSweat&&"NO"===e.tbObj.fever&&"NO"===e.tbObj.contactWithTBCase&&"NO"===e.tbObj.lethergy){var r=c.filter((function(e){return"TB suspected and referred for evaluation"!==e.display&&"Currently on INH prophylaxis"!==e.display&&"Currently on TB treatment"!==e.display}));console.log(r),n(r)}};return Object(le.jsx)("div",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Patient on Anti TB Drugs?"}),Object(le.jsxs)(Je.a,{type:"select",name:"antiTBDrug",id:"antiTBDrug",value:e.tbObj.antiTBDrug,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),Object(le.jsx)("option",{value:"YES",children:" YES"}),Object(le.jsx)("option",{value:"NO",children:"NO "})]})]})}),!0===o?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Patient Currently on IPT?"}),Object(le.jsxs)(Je.a,{type:"select",name:"currentOnIpt",id:"currentOnIpt",value:e.tbObj.currentOnIpt,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:" Select"}),Object(le.jsx)("option",{value:"YES",children:" YES"}),Object(le.jsx)("option",{value:"NO",children:"NO "})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"coughing?"}),Object(le.jsxs)(Je.a,{type:"select",name:"coughing",id:"coughing",value:e.tbObj.coughing,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:" Select"}),Object(le.jsx)("option",{value:"YES",children:" YES"}),Object(le.jsx)("option",{value:"NO",children:"NO "})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Night Sweat?"}),Object(le.jsxs)(Je.a,{type:"select",name:"nightSweat",id:"nightSweat",value:e.tbObj.nightSweat,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:" Select"}),Object(le.jsx)("option",{value:"YES",children:" YES"}),Object(le.jsx)("option",{value:"NO",children:"NO "})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Fever"}),Object(le.jsxs)(Je.a,{type:"select",name:"fever",id:"fever",value:e.tbObj.fever,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),Object(le.jsx)("option",{value:"YES",children:" YES"}),Object(le.jsx)("option",{value:"NO",children:"NO "})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Contact with TB Case?"}),Object(le.jsxs)(Je.a,{type:"select",name:"contactWithTBCase",id:"contactWithTBCase",value:e.tbObj.contactWithTBCase,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:" Select"}),Object(le.jsx)("option",{value:"YES",children:" YES"}),Object(le.jsx)("option",{value:"NO",children:"NO "})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Lethergy"}),Object(le.jsxs)(Je.a,{type:"select",name:"lethergy",id:"lethergy",value:e.tbObj.lethergy,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),Object(le.jsx)("option",{value:"YES",children:" YES"}),Object(le.jsx)("option",{value:"NO",children:"NO "})]})]})}),"NO"===e.tbObj.currentOnIpt&&"NO"===e.tbObj.coughing&&"NO"===e.tbObj.nightSweat&&"NO"===e.tbObj.fever&&"NO"===e.tbObj.contactWithTBCase&&"NO"===e.tbObj.lethergy&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"TB Status"}),Object(le.jsxs)(Je.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:e.tbObj.tbStatusId,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),c.filter((function(e){return"TB suspected and referred for evaluation"!==e.display&&"Currently on INH prophylaxis"!==e.display&&"Currently on TB treatment"!==e.display})).map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})})}),"YES"===e.tbObj.currentOnIpt&&"NO"===e.tbObj.coughing&&"NO"===e.tbObj.nightSweat&&"NO"===e.tbObj.fever&&"NO"===e.tbObj.contactWithTBCase&&"NO"===e.tbObj.lethergy&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"TB Status"}),Object(le.jsxs)(Je.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:e.tbObj.tbStatusId,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),c.filter((function(e){return"TB suspected and referred for evaluation"!==e.display&&"Currently on TB treatment"!==e.display})).map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})})}),"YES"===e.tbObj.currentOnIpt&&"YES"===e.tbObj.coughing&&"NO"===e.tbObj.nightSweat&&"NO"===e.tbObj.fever&&"NO"===e.tbObj.contactWithTBCase&&"NO"===e.tbObj.lethergy&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"TB Status"}),Object(le.jsxs)(Je.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:e.tbObj.tbStatusId,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),c.filter((function(e){return"No sign or symptoms of TB"!==e.display&&"Currently on TB treatment"!==e.display})).map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})})}),"YES"===e.tbObj.currentOnIpt&&"NO"===e.tbObj.coughing&&"YES"===e.tbObj.nightSweat&&"NO"===e.tbObj.fever&&"NO"===e.tbObj.contactWithTBCase&&"NO"===e.tbObj.lethergy&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"TB Status"}),Object(le.jsxs)(Je.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:e.tbObj.tbStatusId,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),c.filter((function(e){return"No sign or symptoms of TB"!==e.display&&"Currently on TB treatment"!==e.display})).map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})})}),"YES"===e.tbObj.currentOnIpt&&"NO"===e.tbObj.coughing&&"NO"===e.tbObj.nightSweat&&"YES"===e.tbObj.fever&&"NO"===e.tbObj.contactWithTBCase&&"NO"===e.tbObj.lethergy&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"TB Status"}),Object(le.jsxs)(Je.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:e.tbObj.tbStatusId,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),c.filter((function(e){return"No sign or symptoms of TB"!==e.display&&"Currently on TB treatment"!==e.display})).map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})})}),"YES"===e.tbObj.currentOnIpt&&"NO"===e.tbObj.coughing&&"NO"===e.tbObj.nightSweat&&"NO"===e.tbObj.fever&&"YES"===e.tbObj.contactWithTBCase&&"NO"===e.tbObj.lethergy&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"TB Status"}),Object(le.jsxs)(Je.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:e.tbObj.tbStatusId,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),c.filter((function(e){return"No sign or symptoms of TB"!==e.display&&"Currently on TB treatment"!==e.display})).map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})})}),"YES"===e.tbObj.currentOnIpt&&"NO"===e.tbObj.coughing&&"NO"===e.tbObj.nightSweat&&"NO"===e.tbObj.fever&&"NO"===e.tbObj.contactWithTBCase&&"YES"===e.tbObj.lethergy&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"TB Status"}),Object(le.jsxs)(Je.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:e.tbObj.tbStatusId,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),c.filter((function(e){return"No sign or symptoms of TB"!==e.display&&"Currently on TB treatment"!==e.display})).map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})})})]}):""]})})},Tt=a(68),At=a.n(Tt),Pt=a(1056),Bt=a(669),kt=(a(474),a(1048)),Et=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),qt=function(e){Object(s.g)();var t=Et(),a=Object(r.useState)(!1),c=Object(d.a)(a,2),n=c[0],i=c[1],l=Object(r.useState)({}),j=Object(d.a)(l,2),b=(j[0],j[1],Object(r.useState)({allergy:""})),u=Object(d.a)(b,2),m=u[0];u[1];return Object(le.jsx)("div",{children:Object(le.jsxs)(Pt.a,{show:e.showModal,toggle:e.toggle,className:"fade",size:"md",children:[Object(le.jsxs)(Pt.a.Header,{toggle:e.toggle,style:{backgroundColor:"#eeeeee"},children:["Add Allergy",Object(le.jsx)(Bt.a,{variant:"",className:"btn-close",onClick:e.toggle})]}),Object(le.jsx)(Pt.a.Body,{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(pe.a,{children:Object(le.jsxs)("form",{children:[Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-12",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Allergies"}),Object(le.jsx)(Je.a,{type:"select",name:"allergy",id:"allergy",required:!0,children:Object(le.jsx)("option",{value:"",children:"Select "})})]})})}),n?Object(le.jsx)(kt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:t.button,startIcon:Object(le.jsx)($e.a,{}),onClick:function(t){t.preventDefault(),i(!0),v.a.post("".concat(y,"patient/vital-sign/"),m,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){i(!1),o.b.success("Vital signs save successful"),e.toggle(),e.patientsVitalsSigns()})).catch((function(e){i(!1),o.b.error("Something went wrong")}))},children:n?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)(ae.a,{variant:"contained",className:t.button,startIcon:Object(le.jsx)(At.a,{}),children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})})]})})},zt=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),Yt=function(e){e.patientObj,Object(s.g)();var t=zt(),a=Object(r.useState)(!1),c=Object(d.a)(a,2),n=c[0],i=c[1],l=Object(r.useState)({}),j=Object(d.a)(l,2),b=(j[0],j[1],Object(r.useState)({allergy:""})),u=Object(d.a)(b,2),m=u[0];u[1];return Object(le.jsx)("div",{children:Object(le.jsxs)(Pt.a,{show:e.showModal,toggle:e.toggle,className:"fade",size:"md",children:[Object(le.jsxs)(Pt.a.Header,{toggle:e.toggle,style:{backgroundColor:"#eeeeee"},children:["Add Conditions",Object(le.jsx)(Bt.a,{variant:"",className:"btn-close",onClick:e.toggle})]}),Object(le.jsx)(Pt.a.Body,{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(pe.a,{children:Object(le.jsxs)("form",{children:[Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-12",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Conditions"}),Object(le.jsx)(Je.a,{type:"select",name:"allergy",id:"allergy",required:!0,children:Object(le.jsx)("option",{value:"",children:"Select "})})]})})}),n?Object(le.jsx)(kt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:t.button,startIcon:Object(le.jsx)($e.a,{}),onClick:function(t){t.preventDefault(),i(!0),v.a.post("".concat(y,"patient/vital-sign/"),m,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){i(!1),e.patientObj.commenced=!0,o.b.success("Vital signs save successful"),e.toggle(),e.patientsVitalsSigns()})).catch((function(e){i(!1),o.b.error("Something went wrong")}))},children:n?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)(ae.a,{variant:"contained",className:t.button,startIcon:Object(le.jsx)(At.a,{}),children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})})]})})},Lt=a(1054),Ft=a(353),Ht=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),_t=new Date,Mt=function(e){var t=e.patientObj,a=Object(r.useState)(),c=Object(d.a)(a,2),n=c[0],i=c[1],s=Ht(),l=Object(r.useState)([]),j=Object(d.a)(l,2),b=j[0],u=j[1],m=Object(r.useState)(!1),p=Object(d.a)(m,2),x=p[0],f=p[1],g=Object(r.useState)({}),S=Object(d.a)(g,2);S[0],S[1];function I(){return(I=Object(O.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.get("".concat(y,"patient/vital-sign/post-service"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){var t=e.data.filter((function(e){return"consultation-code"!==e.moduleServiceCode&&"hiv-code"!==e.moduleServiceCode}));u(Object.entries(t).map((function(e){var t=Object(d.a)(e,2),a=(t[0],t[1]);return{label:a.moduleServiceName,value:a.moduleServiceCode}})))})).catch((function(e){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){I.apply(this,arguments)}()}),[]);var C=Object(r.useState)({encounterDate:Object(Lt.a)(new Date(_t),"yyyy-MM-dd"),facilityId:1,personId:"",serviceCode:"",visitId:""}),D=Object(d.a)(C,2),R=D[0];D[1];return Object(le.jsx)("div",{children:Object(le.jsxs)(Pt.a,{show:e.showModal,toggle:e.toggle,className:"fade",size:"lg",children:[Object(le.jsxs)(Pt.a.Header,{toggle:e.toggle,style:{backgroundColor:"#eeeeee"},children:["Post Patient",Object(le.jsx)(Bt.a,{variant:"",className:"btn-close",onClick:e.toggle})]}),Object(le.jsx)(Pt.a.Body,{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(pe.a,{children:Object(le.jsxs)("form",{children:[Object(le.jsx)("div",{className:"row",children:Object(le.jsx)(Ft.a,{onChange:i,value:n,options:b,isMulti:"true",noOptionsMessage:"true"})}),x?Object(le.jsx)(kt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:s.button,startIcon:Object(le.jsx)($e.a,{}),onClick:function(a){a.preventDefault(),f(!0);var r=[];n.forEach((function(e,t,a){r.push(e.value)})),R.personId=t.id,R.visitId=t.visitId,R.serviceCode=r,v.a.post("".concat(y,"patient/post"),R,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){f(!1),e.patientObj.commenced=!0,o.b.success("Vital signs save successful"),e.toggle()})).catch((function(e){f(!1),o.b.error("Something went wrong")}))},children:x?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})]})})})})]})})},Wt=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),Vt=function(e){var t=e.patientObj?e.patientObj:{},a=c.a.useState(!1),n=Object(d.a)(a,2),i=n[0],s=n[1],l=c.a.useState(!1),j=Object(d.a)(l,2),b=(j[0],j[1],function(){return s(!i)}),u=Object(r.useState)("cm"),m=Object(d.a)(u,2),x=(m[0],m[1],Object(r.useState)({})),f=Object(d.a)(x,2),g=f[0],S=f[1],I=Object(r.useState)([]),C=Object(d.a)(I,2),D=C[0],R=C[1],w=Object(r.useState)(!0),T=Object(d.a)(w,2),A=(T[0],T[1]),P=Object(r.useState)(0),B=Object(d.a)(P,2),k=B[0],E=B[1],q=Object(p.a)({},g),z=Wt(),Y=Object(r.useState)({}),L=Object(d.a)(Y,2),F=L[0],H=L[1],_=Object(r.useState)(!1),M=Object(d.a)(_,2),W=M[0],V=M[1],U=Object(r.useState)([]),G=Object(d.a)(U,2),K=G[0],X=G[1],Z=Object(r.useState)([]),J=Object(d.a)(Z,2),Q=J[0],$=J[1],ee=Object(r.useState)([]),te=Object(d.a)(ee,2),re=te[0],ce=te[1],ne=Object(r.useState)([]),se=Object(d.a)(ne,2),oe=(se[0],se[1]),de=Object(r.useState)(!1),je=Object(d.a)(de,2),be=(je[0],je[1]),ue=Object(r.useState)(!1),he=Object(d.a)(ue,2),Oe=he[0],pe=he[1],xe=Object(r.useState)(!1),fe=Object(d.a)(xe,2),ge=fe[0],ve=fe[1],ye=Object(r.useState)(!1),Ne=Object(d.a)(ye,2),Se=Ne[0],Ie=Ne[1],Ce=Object(r.useState)({}),De=Object(d.a)(Ce,2),Re=De[0],we=De[1],Ae=Object(r.useState)(!1),Pe=Object(d.a)(Ae,2),Be=Pe[0],ke=Pe[1],Ee=Object(r.useState)({illnessInfection:"",ondateInfection:""}),qe=Object(d.a)(Ee,2),ze=qe[0],Ye=qe[1],Le=Object(r.useState)([]),Fe=Object(d.a)(Le,2),He=Fe[0],_e=Fe[1],Me=Object(r.useState)({adr:"",adrOnsetDate:""}),We=Object(d.a)(Me,2),Ve=We[0],Ge=We[1],Ke=Object(r.useState)([]),Qe=Object(d.a)(Ke,2),et=Qe[0],tt=Qe[1],rt=Object(r.useState)({bodyWeight:"",diastolic:"",height:"",systolic:"",pulse:"",temperature:"",respiratoryRate:""}),ct=Object(d.a)(rt,2),nt=ct[0],it=ct[1],st=Object(r.useState)({adherenceLevel:"",adheres:{},adrScreened:"",adverseDrugReactions:{},artStatusId:"",cd4:"",cd4Percentage:"",clinicalNote:"",clinicalStageId:"",facilityId:0,functionalStatusId:"",hivEnrollmentId:"",nextAppointment:"",lmpDate:"",oiScreened:"",opportunisticInfections:{},personId:t.id,tbScreen:{},stiIds:"",stiTreated:"",uuid:"",visitDate:"",whoStagingId:""}),ot=Object(d.a)(st,2),jt=ot[0],bt=ot[1],xt=Object(r.useState)({bodyWeight:"",diastolic:"",encounterDate:"",facilityId:1,height:"",personId:e.patientObj.id,serviceTypeId:1,systolic:"",pulse:"",temperature:"",respiratoryRate:""}),ft=Object(d.a)(xt,2),gt=ft[0],vt=ft[1],yt=Object(r.useState)({currentOnIpt:"",coughing:"",antiTBDrug:"",nightSweat:"",fever:"",contactWithTBCase:"",lethergy:"",tbStatusId:""}),Nt=Object(d.a)(yt,2),St=Nt[0],Ct=Nt[1];function Dt(){return(Dt=Object(O.a)(Object(h.a)().mark((function t(){return Object(h.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:A(!0),v.a.get("".concat(y,"hiv/art/clinic-visit/person?pageNo=0&pageSize=10&personId=").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){A(!1),R(e.data)})).catch((function(e){A(!1)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){Et.apply(this,arguments)}(),Bt(),function(){zt.apply(this,arguments)}(),kt(),Tt(),Pt(),function(){Dt.apply(this,arguments)}(),At()}),[]);var Tt=function(){v.a.get("".concat(y,"patient/vital-sign/person/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){var t=e.data[e.data.length-1];t.encounterDate===ie()(new Date).format("YYYY-MM-DD")===!0&&(we(t),ke(!0))})).catch((function(e){}))},At=function(){v.a.get("".concat(y,"hiv/patient/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){t=e.data})).catch((function(e){}))},Pt=function(){v.a.get("".concat(y,"hiv/patients"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){var a=t.data.filter((function(t){return t.id===e.patientObj.id}));H(a[0])})).catch((function(e){}))},Bt=function(){v.a.get("".concat(y,"application-codesets/v2/CLINICAL_STAGE"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){X(e.data)})).catch((function(e){}))},kt=function(){v.a.get("".concat(y,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){oe(e.data)})).catch((function(e){}))};function Et(){return(Et=Object(O.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.get("".concat(y,"application-codesets/v2/FUNCTIONAL%20_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){$(e.data)})).catch((function(e){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(){return(zt=Object(O.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.get("".concat(y,"application-codesets/v2/PrEP_LEVEL_OF_ADHERENCE"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){ce(e.data)})).catch((function(e){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lt=function(e){bt(Object(p.a)(Object(p.a)({},jt),{},Object(Ue.a)({},e.target.name,e.target.value))),"whoStagingId"===e.target.name&&("NO"===e.target.value?be(!0):be(!1))},Ft=function(e){vt(Object(p.a)(Object(p.a)({},gt),{},Object(Ue.a)({},e.target.name,e.target.value)))};return Object(le.jsxs)("div",{children:[Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"col-md-6",children:Object(le.jsx)("h2",{children:"Clinic Follow-up Visit"})})}),Object(le.jsxs)(ut.a,{columns:"equal",children:[Object(le.jsxs)(ut.a.Column,{width:5,children:[Object(le.jsxs)(mt.a,{children:[Object(le.jsx)(Te.a,{as:"a",color:"blue",style:{width:"110%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"Vital Signs"})}),Object(le.jsx)("br",{}),Object(le.jsxs)(me.a,{style:{height:"370px"},id:"DZ_W_Todo1",className:"widget-media dz-scroll ps ps--active-y",children:[Object(le.jsx)("br",{}),Object(le.jsx)("ul",{className:"timeline",children:D.length>0?Object(le.jsx)(lt.a,{className:"accordion accordion-header-bg accordion-header-shadow accordion-rounded ",defaultActiveKey:"0",children:Object(le.jsx)(le.Fragment,{children:D.map((function(e,t){return Object(le.jsxs)("div",{className:"accordion-item",children:[Object(le.jsxs)(lt.a.Toggle,{as:ht.a.Text,eventKey:"".concat(t),className:"accordion-header ".concat(1===k?"":"collapsed"," accordion-header-info"),onClick:function(){return E(1===k?-1:t)},style:{width:"100%"},children:[Object(le.jsx)("span",{className:"accordion-header-icon"}),Object(le.jsxs)("span",{className:"accordion-header-text float-start",children:["Visit Date : ",Object(le.jsx)("span",{className:"",children:e.visitDate})," "]}),Object(le.jsx)("span",{className:"accordion-header-indicator"})]}),Object(le.jsx)(lt.a.Collapse,{eventKey:"".concat(t),className:"accordion__body",children:Object(le.jsx)("div",{className:"accordion-body-text",children:Object(le.jsxs)(at.a,{celled:!0,style:{width:"100%"},children:[e.vitalSignDto&&null!==e.vitalSignDto.pulse&&Object(le.jsxs)(at.a.Item,{style:{paddingBottom:"10px",paddingTop:"10px",borderTop:"1px solid #fff",marginTop:"-5px"},children:["Pulse ",Object(le.jsx)("span",{style:{color:"rgb(153, 46, 98)"},className:"float-end",children:Object(le.jsxs)("b",{children:[e.vitalSignDto.pulse," bpm"]})})]}),e.vitalSignDto&&null!==e.vitalSignDto.respiratoryRate&&Object(le.jsxs)(at.a.Item,{style:{paddingBottom:"10px",paddingTop:"10px"},children:["Respiratory Rate ",Object(le.jsx)("span",{className:"float-end",children:Object(le.jsxs)("b",{style:{color:"rgb(153, 46, 98)"},children:[e.vitalSignDto.respiratoryRate," bpm"]})})]}),e.vitalSignDto&&null!==e.vitalSignDto.temperature&&Object(le.jsxs)(at.a.Item,{style:{paddingBottom:"10px",paddingTop:"10px"},children:["Temperature ",Object(le.jsx)("span",{className:"float-end",children:Object(le.jsxs)("b",{style:{color:"rgb(153, 46, 98)"},children:[e.vitalSignDto.temperature," ",Object(le.jsx)("sup",{children:"0"}),"C"]})})]}),e.vitalSignDto&&null!==e.vitalSignDto.systolic&&null!==e.vitalSignDto.diastolic&&Object(le.jsxs)(at.a.Item,{style:{paddingBottom:"10px",paddingTop:"10px"},children:["Blood Pressure ",Object(le.jsx)("span",{className:"float-end",children:Object(le.jsxs)("b",{style:{color:"rgb(153, 46, 98)"},children:[e.vitalSignDto.systolic,"/",e.vitalSignDto.diastolic]})})]}),e.vitalSignDto&&null!==e.vitalSignDto.height&&Object(le.jsxs)(at.a.Item,{style:{paddingBottom:"10px",paddingTop:"10px"},children:["Height ",Object(le.jsx)("span",{className:"float-end",children:Object(le.jsxs)("b",{style:{color:"rgb(153, 46, 98)"},children:[e.vitalSignDto.height," cm"]})})]}),e.vitalSignDto&&null!==e.vitalSignDto.bodyWeight&&Object(le.jsxs)(at.a.Item,{style:{paddingBottom:"10px",paddingTop:"10px"},children:["Weight ",Object(le.jsx)("span",{className:"float-end",children:Object(le.jsxs)("b",{style:{color:"rgb(153, 46, 98)"},children:[e.vitalSignDto.bodyWeight," kg"]})})]}),e.vitalSignDto&&null!==e.vitalSignDto.bodyWeight&&null!==e.vitalSignDto.height&&Object(le.jsxs)(at.a.Item,{style:{paddingBottom:"10px",paddingTop:"10px"},children:["BMI ",Object(le.jsx)("span",{className:"float-end",children:Object(le.jsxs)("b",{style:{color:"rgb(153, 46, 98)"},children:[Math.round(e.vitalSignDto.bodyWeight/(e.vitalSignDto.height/100))," kg"]})})]})]})})})]},t)}))})}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("br",{}),Object(le.jsx)(dt.a,{variant:"info",className:"alert-dismissible solid fade show",children:Object(le.jsx)("p",{children:"No Vital Signs"})})]})})]})]}),Object(le.jsxs)(mt.a,{children:[Object(le.jsx)(Te.a,{as:"a",color:"teal",style:{width:"110%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"Previous Clinical Notes"})}),Object(le.jsxs)(me.a,{style:{height:"370px"},id:"DZ_W_Todo1",className:"widget-media dz-scroll ps ps--active-y",children:[Object(le.jsx)("br",{}),Object(le.jsx)("ul",{className:"timeline",children:D.length>0?Object(le.jsx)(lt.a,{className:"accordion accordion-header-bg accordion-header-shadow accordion-rounded ",defaultActiveKey:"0",children:Object(le.jsx)(le.Fragment,{children:D.map((function(e,t){return Object(le.jsxs)("div",{className:"accordion-item",children:[Object(le.jsxs)(lt.a.Toggle,{as:ht.a.Text,eventKey:"".concat(t),className:"accordion-header ".concat(1===k?"":"collapsed"," accordion-header-info"),onClick:function(){return E(1===k?-1:t)},style:{width:"100%"},children:[Object(le.jsx)("span",{className:"accordion-header-icon"}),Object(le.jsxs)("span",{className:"accordion-header-text float-start",style:{width:"100%"},children:["Visit Date : ",Object(le.jsx)("span",{className:"",children:e.visitDate})," "]}),Object(le.jsx)("span",{className:"accordion-header-indicator "})]}),Object(le.jsx)(lt.a.Collapse,{eventKey:"".concat(t),className:"accordion__body",children:Object(le.jsx)("div",{className:"accordion-body-text",children:Object(le.jsx)("p",{children:e.clinicalNote})})})]},t)}))})}):Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("br",{}),Object(le.jsx)(dt.a,{variant:"info",className:"alert-dismissible solid fade show",children:Object(le.jsx)("p",{children:"No Clinical Notes"})})]})})]})]})]}),Object(le.jsx)(ut.a.Column,{width:11,children:Object(le.jsxs)(mt.a,{children:[Object(le.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"VITAL  SIGNS"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date of Visit *"}),Object(le.jsx)(Je.a,{type:"date",name:"encounterDate",id:"encounterDate",value:gt.encounterDate,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Ft,min:e.patientObj&&e.patientObj.artCommence?e.patientObj.artCommence.visitDate:null,max:ie()(new Date).format("YYYY-MM-DD"),required:!0}),""!==g.encounterDate?Object(le.jsx)("span",{className:z.error,children:g.encounterDate}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Be&&Object(le.jsxs)("div",{className:"form-check custom-checkbox ml-1 ",children:[Object(le.jsx)("input",{type:"checkbox",className:"form-check-input",name:"currentVitalSigns",id:"currentVitalSigns",onChange:function(t){t.target.checked?vt(Object(p.a)({},Re)):vt({bodyWeight:"",diastolic:"",encounterDate:"",facilityId:"",height:"",personId:e.patientObj.id,serviceTypeId:"",systolic:"",pulse:"",temperature:"",respiratoryRate:""})}}),Object(le.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:"use current Vital Signs"})]})}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Pulse"}),Object(le.jsxs)(Ot.a,{children:[Object(le.jsx)(Je.a,{type:"number",name:"pulse",id:"pulse",onChange:Ft,min:"40",max:"120",value:gt.pulse,onKeyUp:function(e){if("pulse"===e.target.name&&(e.target.value<40||e.target.value>120)){it(Object(p.a)(Object(p.a)({},nt),{},{pulse:"Pulse must not be greater than 120 and less than 40"}))}else it(Object(p.a)(Object(p.a)({},nt),{},{pulse:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(pt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"bmp"})]}),""!==nt.pulse?Object(le.jsx)("span",{className:z.error,children:nt.pulse}):"",""!==g.pulse?Object(le.jsx)("span",{className:z.error,children:g.pulse}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Respiratory Rate "}),Object(le.jsxs)(Ot.a,{children:[Object(le.jsx)(Je.a,{type:"number",name:"respiratoryRate",id:"respiratoryRate",onChange:Ft,min:"10",max:"70",value:gt.respiratoryRate,onKeyUp:function(e){if("respiratoryRate"===e.target.name&&(e.target.value<10||e.target.value>70)){it(Object(p.a)(Object(p.a)({},nt),{},{respiratoryRate:"Respiratory Rate must not be greater than 70 and less than 10"}))}else it(Object(p.a)(Object(p.a)({},nt),{},{respiratoryRate:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(pt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"bmp"})]}),""!==nt.respiratoryRate?Object(le.jsx)("span",{className:z.error,children:nt.respiratoryRate}):"",""!==g.respiratoryRate?Object(le.jsx)("span",{className:z.error,children:g.respiratoryRate}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Temperature "}),Object(le.jsxs)(Ot.a,{children:[Object(le.jsx)(Je.a,{type:"number",name:"temperature",id:"temperature",onChange:Ft,min:"35",max:"47",value:gt.temperature,onKeyUp:function(e){if("temperature"===e.target.name&&(e.target.value<35||e.target.value>47)){it(Object(p.a)(Object(p.a)({},nt),{},{temperature:"Temperature must not be greater than 47 and less than 35"}))}else it(Object(p.a)(Object(p.a)({},nt),{},{temperature:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsxs)(pt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:[Object(le.jsx)("sup",{children:"o"}),"c"]})]}),""!==nt.temperature?Object(le.jsx)("span",{className:z.error,children:nt.temperature}):"",""!==g.temperature?Object(le.jsx)("span",{className:z.error,children:g.temperature}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Body Weight"}),Object(le.jsxs)(Ot.a,{children:[Object(le.jsx)(Je.a,{type:"number",name:"bodyWeight",id:"bodyWeight",onChange:Ft,min:"3",max:"150",value:gt.bodyWeight,onKeyUp:function(e){if("bodyWeight"===e.target.name&&(e.target.value<3||e.target.value>150)){it(Object(p.a)(Object(p.a)({},nt),{},{bodyWeight:"Body weight must not be greater than 150 and less than 3"}))}else it(Object(p.a)(Object(p.a)({},nt),{},{bodyWeight:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(pt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"kg"})]}),""!==nt.bodyWeight?Object(le.jsx)("span",{className:z.error,children:nt.bodyWeight}):"",""!==g.bodyWeight?Object(le.jsx)("span",{className:z.error,children:g.bodyWeight}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Height"}),Object(le.jsxs)(Ot.a,{children:[Object(le.jsx)(pt.a,{addonType:"append",isOpen:i,toggle:b,style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"cm"}),Object(le.jsx)(Je.a,{type:"number",name:"height",id:"height",onChange:Ft,value:gt.height,min:"48.26",max:"216.408",onKeyUp:function(e){if("height"===e.target.name&&(e.target.value<48.26||e.target.value>216.408)){it(Object(p.a)(Object(p.a)({},nt),{},{height:"Height cannot be greater than 216.408 and less than 48.26"}))}else it(Object(p.a)(Object(p.a)({},nt),{},{height:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(pt.a,{addonType:"append",isOpen:i,toggle:b,style:{backgroundColor:"#992E62",color:"#fff",border:"1px solid #992E62",borderRadius:"0rem"},children:""!==gt.height?(gt.height/100).toFixed(2)+"m":"m"})]}),""!==nt.height?Object(le.jsx)("span",{className:z.error,children:nt.height}):"",""!==g.height?Object(le.jsx)("span",{className:z.error,children:g.height}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 mt-2 col-md-4",children:""!==gt.bodyWeight&&""!==gt.height&&Object(le.jsxs)(Xe.a,{children:[Object(le.jsxs)(Te.a,{children:[" "," "]}),Object(le.jsx)(Ot.a,{children:Object(le.jsxs)(pt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:["BMI : ",Math.round(gt.bodyWeight/(gt.height*gt.height/100))]})})]})})]}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-8",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Blood Pressure"}),Object(le.jsxs)(Ot.a,{children:[Object(le.jsx)(pt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"systolic(mmHg)"}),Object(le.jsx)(Je.a,{type:"number",name:"systolic",id:"systolic",min:"90",max:"240",onChange:Ft,value:gt.systolic,onKeyUp:function(e){if("systolic"===e.target.name&&(e.target.value<90||e.target.value>240)){it(Object(p.a)(Object(p.a)({},nt),{},{systolic:"Blood Pressure systolic must not be greater than 240 and less than 90"}))}else it(Object(p.a)(Object(p.a)({},nt),{},{systolic:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(pt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"diastolic(mmHg)"}),Object(le.jsx)(Je.a,{type:"number",name:"diastolic",id:"diastolic",min:0,max:140,onChange:Ft,value:gt.diastolic,onKeyUp:function(e){if("diastolic"===e.target.name&&(e.target.value<60||e.target.value>140)){it(Object(p.a)(Object(p.a)({},nt),{},{diastolic:"Blood Pressure diastolic must not be greater than 140 and less than 60"}))}else it(Object(p.a)(Object(p.a)({},nt),{},{diastolic:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}})]}),""!==nt.systolic?Object(le.jsx)("span",{className:z.error,children:nt.systolic}):"",""!==g.systolic?Object(le.jsx)("span",{className:z.error,children:g.systolic}):"",""!==nt.diastolic?Object(le.jsx)("span",{className:z.error,children:nt.diastolic}):"",""!==g.diastolic?Object(le.jsx)("span",{className:z.error,children:g.diastolic}):""]})})})]}),Object(le.jsx)(Te.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"CONSULTATION"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsxs)("div",{className:" mb-3",children:[Object(le.jsx)(Ze.a,{children:"Clinical Notes"}),Object(le.jsx)("textarea",{name:"clinicalNote",className:"form-control",value:jt.clinicalNote,onChange:Lt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"}}),""!==g.clinicalNote?Object(le.jsx)("span",{className:z.error,children:g.clinicalNote}):""]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:" mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"WHO Staging *"}),Object(le.jsxs)(Je.a,{type:"select",name:"whoStagingId",id:"whoStagingId",value:jt.whoStagingId,onChange:Lt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"select",children:"Select "}),K.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==g.whoStagingId?Object(le.jsx)("span",{className:z.error,children:g.whoStagingId}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Functional Status *"}),Object(le.jsxs)(Je.a,{type:"select",name:"functionalStatusId",id:"functionalStatusId",value:jt.functionalStatusId,onChange:Lt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"select",children:"Select "}),Q.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==g.functionalStatusId?Object(le.jsx)("span",{className:z.error,children:g.functionalStatusId}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Level of Adherence *"}),Object(le.jsxs)(Je.a,{type:"select",name:"adherenceLevel",id:"adherenceLevel",value:jt.adherenceLevel,onChange:Lt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"select",children:"Select "}),re.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==g.adherenceLevel?Object(le.jsx)("span",{className:z.error,children:g.adherenceLevel}):""]})})]}),Object(le.jsx)("br",{}),Object(le.jsx)(Te.a,{as:"a",color:"red",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"OPPORTUNISTIC INFECTION"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(Rt,{setInfection:Ye,infection:ze,setInfectionList:_e,infectionList:He,artStartDate:e.patientObj.enrollment.dateOfRegistration}),Object(le.jsx)("br",{}),Object(le.jsx)(Te.a,{as:"a",color:"pink",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"ADR "})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(It,{setAdrObj:Ge,adrObj:Ve,setAdrList:tt,adrList:et,artStartDate:e.patientObj.enrollment.dateOfRegistration}),Object(le.jsx)("br",{}),Object(le.jsx)(Te.a,{as:"a",color:"teal",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"TB SCREENING"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(wt,{tbObj:St,setTbObj:Ct}),Object(le.jsx)("br",{}),Object(le.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"NEXT CLINICAL APPOINTMENT DATE "})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(Je.a,{type:"date",name:"nextAppointment",id:"nextAppointment",className:"col-md-6",value:gt.nextAppointment,onChange:Lt,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:gt.encounterDate}),""!==g.nextAppointment?Object(le.jsx)("span",{className:z.error,children:g.nextAppointment}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:z.button,disabled:W,startIcon:Object(le.jsx)($e.a,{}),style:{backgroundColor:"#014d88"},onClick:function(t){t.preventDefault(),q.encounterDate=gt.encounterDate?"":"This field is required",q.nextAppointment=jt.nextAppointment?"":"This field is required",q.whoStagingId=jt.whoStagingId?"":"This field is required",q.clinicalNote=jt.clinicalNote?"":"This field is required",q.functionalStatusId=jt.functionalStatusId?"":"This field is required",q.adherenceLevel=jt.adherenceLevel?"":"This field is required",q.labTestGroupId=gt.diastolic?"":"This field is required",q.systolic=gt.systolic?"":"This field is required",q.height=gt.height?"":"This field is required",q.bodyWeight=gt.bodyWeight?"":"This field is required",S(Object(p.a)({},q)),Object.values(q).every((function(e){return""==e}))&&(V(!0),jt.visitDate=gt.encounterDate,jt.adverseDrugReactions=et,jt.artStatusId=F.artCommence.id,jt.hivEnrollmentId=F.enrollment.id,jt.opportunisticInfections=He,jt.tbScreen=St,jt.vitalSignDto=gt,v.a.post("".concat(y,"hiv/art/clinic-visit/"),jt,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){At(),V(!1),o.b.success("Clinic Visit save successful"),e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((function(e){if(V(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},children:W?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})})]})})]}),Object(le.jsx)(qt,{toggle:function(){return ve(!ge)},showModal:ge}),Object(le.jsx)(Yt,{toggle:function(){return pe(!Oe)},showModal:Oe}),Object(le.jsx)(Mt,{toggle:function(){return Ie(!Se)},showModal:Se})]})},Ut=Object(te.a)((function(e){return{error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}}));function Gt(e){var t=e.relative,a=e.index,r=e.removeRelativeLocation;return Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{children:t.adr}),Object(le.jsx)("th",{children:t.adrOnsetDate}),Object(le.jsx)("th",{}),Object(le.jsx)("th",{children:Object(le.jsx)(gt.a,{"aria-label":"delete",size:"small",color:"error",onClick:function(){return r(a)},children:Object(le.jsx)(yt.a,{fontSize:"inherit"})})})]})}var Kt=function(e){var t=Object(r.useState)({}),a=Object(d.a)(t,2),c=a[0],n=a[1],i=Ut(),s=Object(p.a)({},c),l=Object(r.useState)([]),j=Object(d.a)(l,2),b=j[0],u=j[1];Object(r.useEffect)((function(){m()}),[]);var m=function(){v.a.get("".concat(y,"application-codesets/v2/PREP_SIDE_EFFECTS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){u(e.data)})).catch((function(e){}))},h=function(t){e.setAdrObj(Object(p.a)(Object(p.a)({},e.adrObj),{},Object(Ue.a)({},t.target.name,t.target.value)))},O=function(t){e.adrList.splice(t,1),e.setAdrList(Object(Ve.a)(e.adrList))};return Object(le.jsx)("div",{children:Object(le.jsxs)("div",{className:"row",children:[e.enableUpdate&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"ADR "}),Object(le.jsxs)(Je.a,{type:"select",name:"adr",id:"adr",value:e.adrObj.adr,onChange:h,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:" Select"}),b.map((function(e){return Object(le.jsx)("option",{value:e.display,children:e.display},e.id)}))]}),""!==c.adr?Object(le.jsx)("span",{className:i.error,children:c.adr}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:" Onset Date"}),Object(le.jsx)(Je.a,{type:"date",name:"adrOnsetDate",id:"adrOnsetDate",value:e.adrObj.adrOnsetDate,min:e.artStartDate,onChange:h,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},max:ie()(new Date).format("YYYY-MM-DD"),required:!0}),""!==c.adrOnsetDate?Object(le.jsx)("span",{className:i.error,children:c.adrOnsetDate}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-2",children:Object(le.jsxs)(Te.a,{as:"a",color:"black",onClick:function(t){s.adr=e.adrObj.adr?"":"This field is required",s.adrOnsetDate=e.adrObj.adrOnsetDate?"":"This field is required",n(Object(p.a)({},s)),Object.values(s).every((function(e){return""==e}))?e.setAdrList([].concat(Object(Ve.a)(e.adrList),[e.adrObj])):o.b.error(" Field are required ")},size:"tiny",style:{marginTop:35},children:[Object(le.jsx)(ft.a,{name:"plus"})," Add"]})})]}),e.adrList.length>0?Object(le.jsx)(at.a,{children:Object(le.jsxs)(xt.a,{striped:!0,responsive:!0,children:[Object(le.jsx)("thead",{children:Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{children:"ADR"}),Object(le.jsx)("th",{children:"OnSetDate"}),Object(le.jsx)("th",{})]})}),Object(le.jsx)("tbody",{children:e.adrList.map((function(e,t){return Object(le.jsx)(Gt,{index:t,relative:e,removeRelativeLocation:O},t)}))})]})}):""]})})},Xt=Object(te.a)((function(e){return{error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}}));function Zt(e){var t=e.relative,a=e.index,r=e.removeInfection;return Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{children:t.illnessInfection}),Object(le.jsx)("th",{children:t.ondateInfection}),Object(le.jsx)("th",{}),Object(le.jsx)("th",{children:Object(le.jsx)(gt.a,{"aria-label":"delete",size:"small",color:"error",onClick:function(){return r(a)},children:Object(le.jsx)(yt.a,{fontSize:"inherit"})})})]})}var Jt=function(e){var t=Object(r.useState)({}),a=Object(d.a)(t,2),c=a[0],n=a[1],i=Xt(),s=Object(p.a)({},c),l=function(t){e.setInfection(Object(p.a)(Object(p.a)({},e.infection),{},Object(Ue.a)({},t.target.name,t.target.value)))},j=function(t){e.infectionList.splice(t,1),e.setInfectionList(Object(Ve.a)(e.infectionList))};return Object(le.jsx)("div",{children:Object(le.jsxs)("div",{className:"row",children:[e.enableUpdate&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Onset Date "}),Object(le.jsx)(Je.a,{type:"date",name:"ondateInfection",id:"ondateInfection",value:e.infection.ondateInfection,onChange:l,max:ie()(new Date).format("YYYY-MM-DD"),style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==c.ondateInfection?Object(le.jsx)("span",{className:i.error,children:c.ondateInfection}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-5",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:" Illness"}),Object(le.jsx)(Je.a,{type:"text",name:"illnessInfection",id:"illnessInfection",value:e.infection.illnessInfection,onChange:l,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},required:!0}),""!==c.illnessInfection?Object(le.jsx)("span",{className:i.error,children:c.illnessInfection}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-2",children:Object(le.jsxs)(Te.a,{as:"a",color:"black",onClick:function(t){s.ondateInfection=e.infection.ondateInfection?"":"This field is required",s.illnessInfection=e.infection.illnessInfection?"":"This field is required",n(Object(p.a)({},s)),Object.values(s).every((function(e){return""==e}))?e.setInfectionList([].concat(Object(Ve.a)(e.infectionList),[e.infection])):o.b.error(" Field are required ")},size:"tiny",style:{marginTop:35},children:[Object(le.jsx)(ft.a,{name:"plus"})," Add"]})})]}),e.infectionList.length>0?Object(le.jsx)(at.a,{children:Object(le.jsx)("div",{style:{padding:"3px 0px"},children:Object(le.jsxs)(xt.a,{striped:!0,responsive:!0,size:"sm",children:[Object(le.jsx)("thead",{children:Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{children:"Illness"}),Object(le.jsx)("th",{children:"OnSetDate"}),Object(le.jsx)("th",{})]})}),Object(le.jsx)("tbody",{children:e.infectionList.map((function(e,t){return Object(le.jsx)(Zt,{index:t,relative:e,removeInfection:j},t)}))})]})})}):""]})})},Qt=function(e){var t=Object(r.useState)([]),a=Object(d.a)(t,2),c=a[0],n=a[1],i=Object(r.useState)(!1),s=Object(d.a)(i,2),o=s[0],l=s[1];Object(r.useEffect)((function(){j(),"NO"===e.tbObj.antiTBDrug?l(!0):l(!1)}),[e.tbObj]);var j=function(){v.a.get("".concat(y,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){n(e.data)})).catch((function(e){}))},b=function(t){e.setTbObj(Object(p.a)(Object(p.a)({},e.tbObj),{},Object(Ue.a)({},t.target.name,t.target.value))),"antiTBDrug"===t.target.name&&("NO"===t.target.value?l(!0):l(!1))};return Object(le.jsx)("div",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Patient on Anti TB Drugs?"}),Object(le.jsxs)(Je.a,{type:"select",name:"antiTBDrug",id:"antiTBDrug",value:e.tbObj.antiTBDrug,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!e.enableUpdate,required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),Object(le.jsx)("option",{value:"YES",children:" YES"}),Object(le.jsx)("option",{value:"NO",children:"NO "})]})]})}),!0===o?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Patient Currently on IPT?"}),Object(le.jsxs)(Je.a,{type:"select",name:"currentOnIpt",id:"currentOnIpt",value:e.tbObj.currentOnIpt,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!e.enableUpdate,required:!0,children:[Object(le.jsx)("option",{value:"",children:" Select"}),Object(le.jsx)("option",{value:"YES",children:" YES"}),Object(le.jsx)("option",{value:"NO",children:"NO "})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"coughing?"}),Object(le.jsxs)(Je.a,{type:"select",name:"coughing",id:"coughing",value:e.tbObj.coughing,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!e.enableUpdate,required:!0,children:[Object(le.jsx)("option",{value:"",children:" Select"}),Object(le.jsx)("option",{value:"YES",children:" YES"}),Object(le.jsx)("option",{value:"NO",children:"NO "})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Night Sweat?"}),Object(le.jsxs)(Je.a,{type:"select",name:"nightSweat",id:"nightSweat",value:e.tbObj.nightSweat,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!e.enableUpdate,required:!0,children:[Object(le.jsx)("option",{value:"",children:" Select"}),Object(le.jsx)("option",{value:"YES",children:" YES"}),Object(le.jsx)("option",{value:"NO",children:"NO "})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Fever"}),Object(le.jsxs)(Je.a,{type:"select",name:"fever",id:"fever",value:e.tbObj.fever,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!e.enableUpdate,required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),Object(le.jsx)("option",{value:"YES",children:" YES"}),Object(le.jsx)("option",{value:"NO",children:"NO "})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Contact with TB Case?"}),Object(le.jsxs)(Je.a,{type:"select",name:"contactWithTBCase",id:"contactWithTBCase",value:e.tbObj.contactWithTBCase,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!e.enableUpdate,required:!0,children:[Object(le.jsx)("option",{value:"",children:" Select"}),Object(le.jsx)("option",{value:"YES",children:" YES"}),Object(le.jsx)("option",{value:"NO",children:"NO "})]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Lethergy"}),Object(le.jsxs)(Je.a,{type:"select",name:"lethergy",id:"lethergy",value:e.tbObj.lethergy,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!e.enableUpdate,required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),Object(le.jsx)("option",{value:"YES",children:" YES"}),Object(le.jsx)("option",{value:"NO",children:"NO "})]})]})}),"NO"===e.tbObj.currentOnIpt&&"NO"===e.tbObj.coughing&&"NO"===e.tbObj.nightSweat&&"NO"===e.tbObj.fever&&"NO"===e.tbObj.contactWithTBCase&&"NO"===e.tbObj.lethergy&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"TB Status"}),Object(le.jsxs)(Je.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:e.tbObj.tbStatusId,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!e.enableUpdate,children:[Object(le.jsx)("option",{value:"",children:"Select "}),c.filter((function(e){return"TB suspected and referred for evaluation"!==e.display&&"Currently on INH prophylaxis"!==e.display&&"Currently on TB treatment"!==e.display})).map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})})}),"YES"===e.tbObj.currentOnIpt&&"NO"===e.tbObj.coughing&&"NO"===e.tbObj.nightSweat&&"NO"===e.tbObj.fever&&"NO"===e.tbObj.contactWithTBCase&&"NO"===e.tbObj.lethergy&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"TB Status"}),Object(le.jsxs)(Je.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:e.tbObj.tbStatusId,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!e.enableUpdate,children:[Object(le.jsx)("option",{value:"",children:"Select "}),c.filter((function(e){return"TB suspected and referred for evaluation"!==e.display&&"Currently on TB treatment"!==e.display})).map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})})}),"YES"===e.tbObj.currentOnIpt&&"YES"===e.tbObj.coughing&&"NO"===e.tbObj.nightSweat&&"NO"===e.tbObj.fever&&"NO"===e.tbObj.contactWithTBCase&&"NO"===e.tbObj.lethergy&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"TB Status"}),Object(le.jsxs)(Je.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:e.tbObj.tbStatusId,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!e.enableUpdate,children:[Object(le.jsx)("option",{value:"",children:"Select "}),c.filter((function(e){return"No sign or symptoms of TB"!==e.display&&"Currently on TB treatment"!==e.display})).map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})})}),"YES"===e.tbObj.currentOnIpt&&"NO"===e.tbObj.coughing&&"YES"===e.tbObj.nightSweat&&"NO"===e.tbObj.fever&&"NO"===e.tbObj.contactWithTBCase&&"NO"===e.tbObj.lethergy&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"TB Status"}),Object(le.jsxs)(Je.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:e.tbObj.tbStatusId,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!e.enableUpdate,children:[Object(le.jsx)("option",{value:"",children:"Select "}),c.filter((function(e){return"No sign or symptoms of TB"!==e.display&&"Currently on TB treatment"!==e.display})).map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})})}),"YES"===e.tbObj.currentOnIpt&&"NO"===e.tbObj.coughing&&"NO"===e.tbObj.nightSweat&&"YES"===e.tbObj.fever&&"NO"===e.tbObj.contactWithTBCase&&"NO"===e.tbObj.lethergy&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"TB Status"}),Object(le.jsxs)(Je.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:e.tbObj.tbStatusId,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!e.enableUpdate,children:[Object(le.jsx)("option",{value:"",children:"Select "}),c.filter((function(e){return"No sign or symptoms of TB"!==e.display&&"Currently on TB treatment"!==e.display})).map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})})}),"YES"===e.tbObj.currentOnIpt&&"NO"===e.tbObj.coughing&&"NO"===e.tbObj.nightSweat&&"NO"===e.tbObj.fever&&"YES"===e.tbObj.contactWithTBCase&&"NO"===e.tbObj.lethergy&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"TB Status"}),Object(le.jsxs)(Je.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:e.tbObj.tbStatusId,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!e.enableUpdate,children:[Object(le.jsx)("option",{value:"",children:"Select "}),c.filter((function(e){return"No sign or symptoms of TB"!==e.display&&"Currently on TB treatment"!==e.display})).map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})})}),"YES"===e.tbObj.currentOnIpt&&"NO"===e.tbObj.coughing&&"NO"===e.tbObj.nightSweat&&"NO"===e.tbObj.fever&&"NO"===e.tbObj.contactWithTBCase&&"YES"===e.tbObj.lethergy&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"TB Status"}),Object(le.jsxs)(Je.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:e.tbObj.tbStatusId,onChange:b,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!e.enableUpdate,children:[Object(le.jsx)("option",{value:"",children:"Select "}),c.filter((function(e){return"No sign or symptoms of TB"!==e.display&&"Currently on TB treatment"!==e.display})).map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})})})]}):""]})})},$t=a(1066),ea=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},error:{color:"#f85032",fontSize:"11px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),ta=function(e){var t=e.patientObj?e.patientObj:{},a=c.a.useState(!1),n=Object(d.a)(a,2),i=n[0],s=n[1],l=c.a.useState(!1),j=Object(d.a)(l,2),b=(j[0],j[1],function(){return s(!i)}),u=Object(r.useState)(),m=Object(d.a)(u,2),x=m[0],f=m[1],g=Object(r.useState)(!1),S=Object(d.a)(g,2),I=S[0],C=S[1],D=Object(r.useState)("cm"),R=Object(d.a)(D,2),w=(R[0],R[1],Object(r.useState)(!1)),T=Object(d.a)(w,2),A=T[0],P=T[1],B=Object(r.useState)({}),k=Object(d.a)(B,2),E=k[0],q=k[1],z=Object(r.useState)([]),Y=Object(d.a)(z,2),L=Y[0],F=Y[1],H=Object(r.useState)(!0),_=Object(d.a)(H,2),M=(_[0],_[1]),W=Object(p.a)({},E),V=ea(),U=Object(r.useState)({}),G=Object(d.a)(U,2),K=G[0],X=G[1],Z=Object(r.useState)(!1),J=Object(d.a)(Z,2),Q=J[0],$=J[1],ee=Object(r.useState)([]),te=Object(d.a)(ee,2),re=te[0],ce=te[1],ne=Object(r.useState)([]),se=Object(d.a)(ne,2),oe=se[0],de=se[1],je=Object(r.useState)([]),be=Object(d.a)(je,2),ue=be[0],he=be[1],Oe=Object(r.useState)([]),pe=Object(d.a)(Oe,2),xe=(pe[0],pe[1]),fe=Object(r.useState)(!1),ge=Object(d.a)(fe,2),ve=(ge[0],ge[1]),ye=Object(r.useState)({}),Ne=Object(d.a)(ye,2),Se=(Ne[0],Ne[1]),Ie=Object(r.useState)(!1),Ce=Object(d.a)(Ie,2),De=(Ce[0],Ce[1]),Re=Object(r.useState)({illnessInfection:"",ondateInfection:""}),we=Object(d.a)(Re,2),Ae=we[0],Pe=we[1],Be=Object(r.useState)([]),ke=Object(d.a)(Be,2),Ee=ke[0],qe=ke[1],ze=Object(r.useState)({adr:"",adrOnsetDate:""}),Ye=Object(d.a)(ze,2),Le=Ye[0],Fe=Ye[1],He=Object(r.useState)([]),_e=Object(d.a)(He,2),Me=_e[0],We=_e[1],Ge=Object(r.useState)({bodyWeight:"",diastolic:"",height:"",systolic:"",pulse:"",temperature:"",respiratoryRate:""}),Ke=Object(d.a)(Ge,2),Qe=Ke[0],et=Ke[1],tt=Object(r.useState)({adherenceLevel:"",adheres:{},adrScreened:"",adverseDrugReactions:{},artStatusId:"",cd4:"",cd4Percentage:"",clinicalNote:"",clinicalStageId:"",facilityId:0,functionalStatusId:"",hivEnrollmentId:"",nextAppointment:"",lmpDate:"",oiScreened:"",opportunisticInfections:{},personId:t.id,tbScreen:{},stiIds:"",stiTreated:"",uuid:"",visitDate:"",whoStagingId:""}),at=Object(d.a)(tt,2),rt=at[0],ct=at[1],nt=Object(r.useState)({bodyWeight:"",diastolic:"",encounterDate:"",facilityId:1,height:"",personId:e.patientObj.id,serviceTypeId:1,systolic:"",pulse:"",temperature:"",respiratoryRate:""}),it=Object(d.a)(nt,2),st=it[0],ot=it[1],dt=Object(r.useState)({currentOnIpt:"",coughing:"",antiTBDrug:"",nightSweat:"",fever:"",contactWithTBCase:"",lethergy:"",tbStatusId:""}),lt=Object(d.a)(dt,2),jt=lt[0],bt=lt[1];function ht(){return(ht=Object(O.a)(Object(h.a)().mark((function t(){return Object(h.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:M(!0),v.a.get("".concat(y,"hiv/art/clinic-visit/person?pageNo=0&pageSize=10&personId=").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){M(!1),F(e.data.filter((function(e){return!0!==e.isCommencement})))})).catch((function(e){M(!1)}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){!function(){Nt.apply(this,arguments)}(),vt(),function(){St.apply(this,arguments)}(),yt(),xt(),gt(),function(){ht.apply(this,arguments)}(),null!==e.activeContent.id&&(Dt(e.activeContent.id),f(e.activeContent.id))}),[]);var xt=function(){v.a.get("".concat(y,"patient/vital-sign/person/").concat(e.patientObj.id),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){var t=e.data[e.data.length-1];t.encounterDate===ie()(new Date).format("YYYY-MM-DD")===!0&&(Se(t),De(!0))})).catch((function(e){}))},gt=function(){v.a.get("".concat(y,"hiv/patients"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){var a=t.data.filter((function(t){return t.id===e.patientObj.id}));X(a[0])})).catch((function(e){}))},vt=function(){v.a.get("".concat(y,"application-codesets/v2/CLINICAL_STAGE"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){ce(e.data)})).catch((function(e){}))},yt=function(){v.a.get("".concat(y,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){xe(e.data)})).catch((function(e){}))};function Nt(){return(Nt=Object(O.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.get("".concat(y,"application-codesets/v2/FUNCTIONAL%20_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){de(e.data)})).catch((function(e){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(){return(St=Object(O.a)(Object(h.a)().mark((function e(){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.get("".concat(y,"application-codesets/v2/PrEP_LEVEL_OF_ADHERENCE"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){he(e.data)})).catch((function(e){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var It=function(e){ct(Object(p.a)(Object(p.a)({},rt),{},Object(Ue.a)({},e.target.name,e.target.value))),"whoStagingId"===e.target.name&&("NO"===e.target.value?ve(!0):ve(!1))},Ct=function(e){ot(Object(p.a)(Object(p.a)({},st),{},Object(Ue.a)({},e.target.name,e.target.value)))};function Dt(e){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(O.a)(Object(h.a)().mark((function e(t){return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.a.get("".concat(y,"hiv/art/clinic-visit/").concat(t),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){var t=e.data;ot(Object(p.a)({},t.vitalSignDto)),rt.clinicalNote=t.clinicalNote,rt.functionalStatusId=t.functionalStatusId,rt.whoStagingId=t.whoStagingId,rt.nextAppointment=t.nextAppointment,rt.adherenceLevel=t.adherenceLevel,bt(Object(p.a)({},t.tbScreen)),We(Object(Ve.a)(t.adverseDrugReactions)),qe(Object(Ve.a)(t.opportunisticInfections))})).catch((function(e){}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(le.jsx)("div",{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-xl-3 col-xxl-3 col-lg-3",children:Object(le.jsxs)("div",{className:"card",style:{height:"500px"},children:[Object(le.jsx)("div",{className:"card-header  border-0 pb-2",style:{backgroundColor:"#014D88"},children:Object(le.jsx)("h4",{className:"card-title",style:{color:"#fff"},children:" Clinic Visits"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsx)(me.a,{style:{height:"370px"},id:"DZ_W_Todo1",className:"widget-media dz-scroll ps ps--active-y",children:L.map((function(e,t){return Object(le.jsx)("div",{className:"media pb-3 border-bottom mb-0 align-items-center",children:Object(le.jsx)("div",{className:"media-body",children:Object(le.jsx)($t.a,{color:"black",content:"Visit Date",icon:"calendar alternate",onClick:function(){return t=e,C(!0),f(t.id),void Dt(t.id);var t},label:{basic:!0,color:"grey",pointing:"left",content:"".concat(e.visitDate)}})})},t)}))})})]})}),Object(le.jsx)("div",{className:"col-xl-9 col-xxl-9 col-lg-9",children:Object(le.jsxs)("div",{className:"card",children:[Object(le.jsxs)("div",{className:"card-header  border-0 pb-2",style:{backgroundColor:"#014D88"},children:[Object(le.jsx)("h4",{className:"card-title",style:{color:"#fff"},children:" "}),I&&Object(le.jsxs)($t.a,{color:"facebook",onClick:function(){P(!0)},children:[Object(le.jsx)(ft.a,{name:"edit"})," Edit Visit"]})]}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsx)(ut.a,{columns:"equal",children:Object(le.jsx)(ut.a.Column,{children:Object(le.jsxs)(mt.a,{children:[Object(le.jsx)(Te.a,{as:"a",color:"black",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsxs)("h4",{style:{color:"#fff"},children:[" Visit Date - ",st.encounterDate]})}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date of Visit *"}),Object(le.jsx)(Je.a,{type:"date",name:"encounterDate",id:"encounterDate",value:st.encounterDate,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},onChange:Ct,max:ie()(new Date).format("YYYY-MM-DD"),disabled:!A,required:!0}),""!==E.encounterDate?Object(le.jsx)("span",{className:V.error,children:E.encounterDate}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6"}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Pulse"}),Object(le.jsxs)(Ot.a,{children:[Object(le.jsx)(Je.a,{type:"number",name:"pulse",id:"pulse",onChange:Ct,min:"40",max:"120",value:st.pulse,onKeyUp:function(e){if("pulse"===e.target.name&&(e.target.value<40||e.target.value>120)){et(Object(p.a)(Object(p.a)({},Qe),{},{pulse:"Pulse must not be greater than 120 and less than 40"}))}else et(Object(p.a)(Object(p.a)({},Qe),{},{pulse:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(pt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"bmp"})]}),""!==Qe.pulse?Object(le.jsx)("span",{className:V.error,children:Qe.pulse}):"",""!==E.pulse?Object(le.jsx)("span",{className:V.error,children:E.pulse}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Respiratory Rate "}),Object(le.jsxs)(Ot.a,{children:[Object(le.jsx)(Je.a,{type:"number",name:"respiratoryRate",id:"respiratoryRate",onChange:Ct,min:"10",max:"70",value:st.respiratoryRate,onKeyUp:function(e){if("respiratoryRate"===e.target.name&&(e.target.value<10||e.target.value>70)){et(Object(p.a)(Object(p.a)({},Qe),{},{respiratoryRate:"Respiratory Rate must not be greater than 70 and less than 10"}))}else et(Object(p.a)(Object(p.a)({},Qe),{},{respiratoryRate:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(pt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"bmp"})]}),""!==Qe.respiratoryRate?Object(le.jsx)("span",{className:V.error,children:Qe.respiratoryRate}):"",""!==E.respiratoryRate?Object(le.jsx)("span",{className:V.error,children:E.respiratoryRate}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Temperature "}),Object(le.jsxs)(Ot.a,{children:[Object(le.jsx)(Je.a,{type:"number",name:"temperature",id:"temperature",onChange:Ct,min:"35",max:"47",value:st.temperature,onKeyUp:function(e){if("temperature"===e.target.name&&(e.target.value<35||e.target.value>47)){et(Object(p.a)(Object(p.a)({},Qe),{},{temperature:"Temperature must not be greater than 47 and less than 35"}))}else et(Object(p.a)(Object(p.a)({},Qe),{},{temperature:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsxs)(pt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:[Object(le.jsx)("sup",{children:"o"}),"c"]})]}),""!==Qe.temperature?Object(le.jsx)("span",{className:V.error,children:Qe.temperature}):"",""!==E.temperature?Object(le.jsx)("span",{className:V.error,children:E.temperature}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Body Weight"}),Object(le.jsxs)(Ot.a,{children:[Object(le.jsx)(Je.a,{type:"number",name:"bodyWeight",id:"bodyWeight",onChange:Ct,min:"3",max:"150",value:st.bodyWeight,onKeyUp:function(e){if("bodyWeight"===e.target.name&&(e.target.value<3||e.target.value>150)){et(Object(p.a)(Object(p.a)({},Qe),{},{bodyWeight:"Body weight must not be greater than 150 and less than 3"}))}else et(Object(p.a)(Object(p.a)({},Qe),{},{bodyWeight:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(pt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"kg"})]}),""!==Qe.bodyWeight?Object(le.jsx)("span",{className:V.error,children:Qe.bodyWeight}):"",""!==E.bodyWeight?Object(le.jsx)("span",{className:V.error,children:E.bodyWeight}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Height"}),Object(le.jsxs)(Ot.a,{children:[Object(le.jsx)(pt.a,{addonType:"append",isOpen:i,toggle:b,style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"cm"}),Object(le.jsx)(Je.a,{type:"number",name:"height",id:"height",onChange:Ct,value:st.height,min:"48.26",max:"216.408",onKeyUp:function(e){if("height"===e.target.name&&(e.target.value<48.26||e.target.value>216.408)){et(Object(p.a)(Object(p.a)({},Qe),{},{height:"Height cannot be greater than 216.408 and less than 48.26"}))}else et(Object(p.a)(Object(p.a)({},Qe),{},{height:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(pt.a,{addonType:"append",isOpen:i,toggle:b,style:{backgroundColor:"#992E62",color:"#fff",border:"1px solid #992E62",borderRadius:"0rem"},children:""!==st.height?(st.height/100).toFixed(2)+"m":"m"})]}),""!==Qe.height?Object(le.jsx)("span",{className:V.error,children:Qe.height}):"",""!==E.height?Object(le.jsx)("span",{className:V.error,children:E.height}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 mt-2 col-md-4",children:""!==st.bodyWeight&&""!==st.height&&Object(le.jsxs)(Xe.a,{children:[Object(le.jsxs)(Te.a,{children:[" "," "]}),Object(le.jsx)(Ot.a,{children:Object(le.jsxs)(pt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:["BMI : ",Math.round(st.bodyWeight/(st.height*st.height/100))]})})]})})]}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-8",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Blood Pressure"}),Object(le.jsxs)(Ot.a,{children:[Object(le.jsx)(pt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"systolic(mmHg)"}),Object(le.jsx)(Je.a,{type:"number",name:"systolic",id:"systolic",min:"90",max:"240",onChange:Ct,value:st.systolic,onKeyUp:function(e){if("systolic"===e.target.name&&(e.target.value<90||e.target.value>240)){et(Object(p.a)(Object(p.a)({},Qe),{},{systolic:"Blood Pressure systolic must not be greater than 240 and less than 90"}))}else et(Object(p.a)(Object(p.a)({},Qe),{},{systolic:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}}),Object(le.jsx)(pt.a,{addonType:"append",style:{backgroundColor:"#014D88",color:"#fff",border:"1px solid #014D88",borderRadius:"0rem"},children:"diastolic(mmHg)"}),Object(le.jsx)(Je.a,{type:"number",name:"diastolic",id:"diastolic",min:0,max:140,onChange:Ct,value:st.diastolic,onKeyUp:function(e){if("diastolic"===e.target.name&&(e.target.value<60||e.target.value>140)){et(Object(p.a)(Object(p.a)({},Qe),{},{diastolic:"Blood Pressure diastolic must not be greater than 140 and less than 60"}))}else et(Object(p.a)(Object(p.a)({},Qe),{},{diastolic:""}))},style:{border:"1px solid #014D88",borderRadius:"0rem"}})]}),""!==Qe.systolic?Object(le.jsx)("span",{className:V.error,children:Qe.systolic}):"",""!==E.systolic?Object(le.jsx)("span",{className:V.error,children:E.systolic}):"",""!==Qe.diastolic?Object(le.jsx)("span",{className:V.error,children:Qe.diastolic}):"",""!==E.diastolic?Object(le.jsx)("span",{className:V.error,children:E.diastolic}):""]})})})]}),Object(le.jsx)(Te.a,{as:"a",color:"grey",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"CONSULTATION"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsxs)("div",{className:" mb-3",children:[Object(le.jsx)(Ze.a,{children:"Clinical Notes"}),Object(le.jsx)("textarea",{name:"clinicalNote",className:"form-control",value:rt.clinicalNote,onChange:It,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!A}),""!==E.clinicalNote?Object(le.jsx)("span",{className:V.error,children:E.clinicalNote}):""]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:" mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"WHO Staging *"}),Object(le.jsxs)(Je.a,{type:"select",name:"whoStagingId",id:"whoStagingId",value:rt.whoStagingId,onChange:It,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!A,required:!0,children:[Object(le.jsx)("option",{value:"select",children:"Select "}),re.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==E.whoStagingId?Object(le.jsx)("span",{className:V.error,children:E.whoStagingId}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Functional Status *"}),Object(le.jsxs)(Je.a,{type:"select",name:"functionalStatusId",id:"functionalStatusId",value:rt.functionalStatusId,onChange:It,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!A,required:!0,children:[Object(le.jsx)("option",{value:"select",children:"Select "}),oe.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==E.functionalStatusId?Object(le.jsx)("span",{className:V.error,children:E.functionalStatusId}):""]})}),Object(le.jsx)("div",{className:" mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Level of Adherence *"}),Object(le.jsxs)(Je.a,{type:"select",name:"adherenceLevel",id:"adherenceLevel",value:rt.adherenceLevel,onChange:It,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},disabled:!A,required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),ue.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==E.adherenceLevel?Object(le.jsx)("span",{className:V.error,children:E.adherenceLevel}):""]})})]}),Object(le.jsx)("br",{}),Object(le.jsx)(Te.a,{as:"a",color:"red",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"OPPORTUNISTIC INFECTION"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(Jt,{setInfection:Pe,infection:Ae,setInfectionList:qe,infectionList:Ee,enableUpdate:A}),Object(le.jsx)("br",{}),Object(le.jsx)(Te.a,{as:"a",color:"pink",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"ADR"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(Kt,{setAdrObj:Fe,adrObj:Le,setAdrList:We,adrList:Me,enableUpdate:A}),Object(le.jsx)("br",{}),Object(le.jsx)(Te.a,{as:"a",color:"teal",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"TB SCREENING"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(Qt,{tbObj:jt,setTbObj:bt,enableUpdate:A}),Object(le.jsx)("br",{}),Object(le.jsx)(Te.a,{as:"a",color:"blue",style:{width:"106%",height:"35px"},ribbon:!0,children:Object(le.jsx)("h4",{style:{color:"#fff"},children:"NEXT CLINICAL APPOINTMENT DATE"})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(Je.a,{type:"date",name:"nextAppointment",id:"nextAppointment",className:"col-md-6",value:rt.nextAppointment,onChange:It,style:{border:"1px solid #014D88",borderRadius:"0.25rem"},min:ie()(new Date).format("YYYY-MM-DD"),disabled:!A,required:!0}),""!==E.nextAppointment?Object(le.jsx)("span",{className:V.error,children:E.nextAppointment}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:V.button,disabled:Q,startIcon:Object(le.jsx)($e.a,{}),style:{backgroundColor:"#014d88"},onClick:function(e){e.preventDefault(),W.encounterDate=st.encounterDate?"":"This field is required",W.nextAppointment=rt.nextAppointment?"":"This field is required",W.whoStagingId=rt.whoStagingId?"":"This field is required",W.clinicalNote=rt.clinicalNote?"":"This field is required",W.functionalStatusId=rt.functionalStatusId?"":"This field is required",W.adherenceLevel=rt.adherenceLevel?"":"This field is required",W.labTestGroupId=st.diastolic?"":"This field is required",W.systolic=st.systolic?"":"This field is required",W.height=st.height?"":"This field is required",W.bodyWeight=st.bodyWeight?"":"This field is required",q(Object(p.a)({},W)),Object.values(W).every((function(e){return""==e}))&&($(!0),rt.visitDate=st.encounterDate,rt.adverseDrugReactions=Me,rt.artStatusId=K.artCommence.id,rt.hivEnrollmentId=K.enrollment.id,rt.opportunisticInfections=Ee,rt.tbScreen=jt,rt.vitalSignDto=st,v.a.put("".concat(y,"hiv/art/clinic-visit/").concat(x),rt,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){$(!1),o.b.success("Clinic Visit updated successful")})).catch((function(e){if($(!1),e.response&&e.response.data){var t=e.response.data.apierror&&""!==e.response.data.apierror.message?e.response.data.apierror.message:"Something went wrong, please try again";o.b.error(t)}else o.b.error("Something went wrong. Please try again...")})))},hidden:!A,children:Q?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})})]})})})})]})})]})})},aa=function(e){var t=e.patientObj?e.patientObj:{};return Object(le.jsx)("div",{children:Object(le.jsx)("div",{className:"row",children:Object(le.jsx)(ta,{patientObj:t,activeContent:e.activeContent})})})},ra={borderRadius:"2px",fontSize:14},ca=function(e){var t=Object(r.useState)("home"),a=Object(d.a)(t,2),c=a[0],n=a[1],i=e.patientObj;return Object(r.useEffect)((function(){n(e.activeContent.activeTab)}),[e.activeContent.id]),Object(le.jsx)(r.Fragment,{children:Object(le.jsx)(l.a,{children:Object(le.jsx)(j.a,{xl:12,children:Object(le.jsx)(b.a,{style:ra,children:Object(le.jsx)(b.a.Body,{children:Object(le.jsx)("div",{className:"custom-tab-1",children:Object(le.jsxs)(u.a,{id:"controlled-tab-example",activeKey:c,onSelect:function(e){return n(e)},className:"mb-3",children:[Object(le.jsx)(m.a,{eventKey:"home",title:"CLINIC VISIT ",children:Object(le.jsx)(Vt,{patientObj:i,setActiveContent:e.setActiveContent})}),Object(le.jsx)(m.a,{eventKey:"history",title:" HISTORY",children:Object(le.jsx)(aa,{patientObj:i,activeContent:e.activeContent,setActiveContent:e.setActiveContent})})]})})})})})})})},na=a(79),ia=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}})),sa=function(e){var t=e.patientObj,a=(Object(s.g)(),ia()),c=Object(r.useState)({id:"",uniqueId:"",dateOfRegistration:"",entryPointId:"",facilityName:"",statusAtRegistrationId:"",dateConfirmedHiv:"",sourceOfReferrer:"",enrollmentSettingId:"",pregnancyStatusId:"",dateOfLpm:"",tbStatusId:"",targetGroupId:"",ovc_enrolled:"",ovcNumber:""}),n=Object(d.a)(c,2),i=n[0],l=n[1],j=Object(r.useState)(!1),b=Object(d.a)(j,2),u=b[0],m=b[1],h=Object(r.useState)({}),O=Object(d.a)(h,2),x=O[0],f=(O[1],Object(r.useState)([])),g=Object(d.a)(f,2),S=g[0],I=(g[1],Object(r.useState)([])),C=Object(d.a)(I,2),D=C[0],R=(C[1],Object(r.useState)(!1)),w=Object(d.a)(R,2),T=(w[0],w[1]),A=Object(r.useState)(!1),P=Object(d.a)(A,2);P[0],P[1];Object(r.useEffect)((function(){}),[]);var B=function(e){l(Object(p.a)(Object(p.a)({},i),{},Object(Ue.a)({},e.target.name,e.target.value))),"entryPointId"===e.target.name&&("21"===e.target.value?T(!0):T(!1))};return Object(le.jsx)("div",{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(pe.a,{children:Object(le.jsxs)("form",{children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h2",{children:" PrEP Commencement Form"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"uniqueId",children:"Date of Initial Adherence Counseling "}),Object(le.jsx)(na.DateTimePicker,{time:!1,name:"dateConfirmedHiv",id:"dateConfirmedHiv",value:i.regDate,onChange:function(e){return l(Object(p.a)(Object(p.a)({},i),{},{dateConfirmedHiv:ie()(e).format("YYYY-MM-DD")}))},max:new Date}),""!==x.uniqueId?Object(le.jsx)("span",{className:a.error,children:x.uniqueId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date PrEP started *"}),Object(le.jsx)(na.DateTimePicker,{time:!1,name:"dateConfirmedHiv",id:"dateConfirmedHiv",value:i.regDate,onChange:function(e){return l(Object(p.a)(Object(p.a)({},i),{},{dateConfirmedHiv:ie()(e).format("YYYY-MM-DD")}))},max:new Date})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"entryPointId",children:"PrEP Regimen"}),Object(le.jsxs)(Je.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:B,value:i.entryPointId,required:!0,children:[Object(le.jsx)("option",{value:"",children:" "}),S.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==x.entryPointId?Object(le.jsx)("span",{className:a.error,children:x.entryPointId}):""]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Transfer In"}),Object(le.jsxs)(Je.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:B,value:i.entryPointId,required:!0,children:[Object(le.jsx)("option",{value:"",children:" "}),S.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==x.entryPointId?Object(le.jsx)("span",{className:a.error,children:x.entryPointId}):""]})]})}),Object(le.jsx)("hr",{}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"entryPointId",children:"Weight"}),Object(le.jsxs)(Je.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:B,value:i.entryPointId,required:!0,children:[Object(le.jsx)("option",{value:"",children:" "}),S.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==x.entryPointId?Object(le.jsx)("span",{className:a.error,children:x.entryPointId}):""]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Height "}),Object(le.jsxs)(Je.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:B,value:i.statusAtRegistrationId,required:!0,children:[Object(le.jsx)("option",{value:"Select",children:" "}),D.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==x.statusAtRegistrationId?Object(le.jsx)("span",{className:a.error,children:x.statusAtRegistrationId}):""]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"BMI"}),Object(le.jsx)(na.DateTimePicker,{time:!1,name:"dateConfirmedHiv",id:"dateConfirmedHiv",value:i.regDate,onChange:function(e){return l(Object(p.a)(Object(p.a)({},i),{},{dateConfirmedHiv:ie()(e).format("YYYY-MM-DD")}))},max:new Date})]})})]}),u?Object(le.jsx)(kt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(le.jsx)($e.a,{}),onClick:function(a){a.preventDefault(),i.personId=t.id,t.enrolled=!0,delete i.tableData,m(!0),v.a.post("".concat(y,"hiv/enrollment"),i,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){m(!1),o.b.success("Record save successful"),e.toggle(),e.patientObj.enrolled=!0,e.PatientCurrentStatus()})).catch((function(e){m(!1),o.b.error("Something went wrong")}))},children:u?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)(ae.a,{variant:"contained",className:a.button,startIcon:Object(le.jsx)(At.a,{}),onClick:e.toggle,children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})})},oa=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}})),da=function(e){var t=e.patientObj,a=(Object(s.g)(),oa()),c=Object(r.useState)([]),n=Object(d.a)(c,2),i=(n[0],n[1],Object(r.useState)({id:"",uniqueId:"",dateOfRegistration:"",entryPointId:"",facilityName:"",statusAtRegistrationId:"",dateConfirmedHiv:"",sourceOfReferrer:"",enrollmentSettingId:"",pregnancyStatusId:"",dateOfLpm:"",tbStatusId:"",targetGroupId:"",ovc_enrolled:"",ovcNumber:""})),l=Object(d.a)(i,2),j=l[0],b=l[1],u=Object(r.useState)(!1),m=Object(d.a)(u,2),h=m[0],O=m[1],x=Object(r.useState)({}),f=Object(d.a)(x,2),g=f[0],S=(f[1],Object(r.useState)([])),I=Object(d.a)(S,2),C=I[0],D=I[1],R=Object(r.useState)([]),w=Object(d.a)(R,2),T=(w[0],w[1]),A=Object(r.useState)([]),P=Object(d.a)(A,2),B=(P[0],P[1]),k=Object(r.useState)([]),E=Object(d.a)(k,2),q=(E[0],E[1]),z=Object(r.useState)([]),Y=Object(d.a)(z,2),L=(Y[0],Y[1]),F=Object(r.useState)([]),H=Object(d.a)(F,2),_=(H[0],H[1]),M=Object(r.useState)([]),W=Object(d.a)(M,2),V=(W[0],W[1]),U=Object(r.useState)(!1),G=Object(d.a)(U,2),K=(G[0],G[1]),X=Object(r.useState)(!1),Z=Object(d.a)(X,2);Z[0],Z[1];Object(r.useEffect)((function(){J(),Q(),$(),ee(),te(),re(),ce()}),[]);var J=function(){v.a.get("".concat(y,"application-codesets/v2/POINT_ENTRY"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){D(e.data)})).catch((function(e){}))},Q=function(){v.a.get("".concat(y,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){T(e.data)})).catch((function(e){}))},$=function(){v.a.get("".concat(y,"application-codesets/v2/HIV_STATUS_ENROL"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){B(e.data)})).catch((function(e){}))},ee=function(){v.a.get("".concat(y,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){q(e.data)})).catch((function(e){}))},te=function(){v.a.get("".concat(y,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){L(e.data)})).catch((function(e){}))},re=function(){v.a.get("".concat(y,"application-codesets/v2/KP_TYPE"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){_(e.data)})).catch((function(e){}))},ce=function(){v.a.get("".concat(y,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){V(e.data)})).catch((function(e){}))},ne=function(e){b(Object(p.a)(Object(p.a)({},j),{},Object(Ue.a)({},e.target.name,e.target.value))),"entryPointId"===e.target.name&&("21"===e.target.value?K(!0):K(!1))};return Object(le.jsx)("div",{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(pe.a,{children:Object(le.jsxs)("form",{children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h2",{children:" PrEP Discontinuations & Interruptions"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"uniqueId",children:"Interruption Type * "}),Object(le.jsxs)(Je.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:ne,value:j.entryPointId,required:!0,children:[Object(le.jsx)("option",{value:"",children:"select "}),Object(le.jsx)("option",{value:"stop",children:" Stop"}),Object(le.jsx)("option",{value:"default",children:"Default "}),""!==g.entryPointId?Object(le.jsx)("span",{className:a.error,children:g.entryPointId}):""]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date of Interruption *"}),Object(le.jsx)(na.DateTimePicker,{time:!1,name:"dateConfirmedHiv",id:"dateConfirmedHiv",value:j.regDate,onChange:function(e){return b(Object(p.a)(Object(p.a)({},j),{},{dateConfirmedHiv:ie()(e).format("YYYY-MM-DD")}))},max:new Date})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"entryPointId",children:"Why?"}),Object(le.jsxs)(Je.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:ne,value:j.entryPointId,required:!0,children:[Object(le.jsx)("option",{value:"",children:" "}),C.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==g.entryPointId?Object(le.jsx)("span",{className:a.error,children:g.entryPointId}):""]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date of restart if placed back on medication"}),Object(le.jsx)(na.DateTimePicker,{time:!1,name:"dateConfirmedHiv",id:"dateConfirmedHiv",value:j.regDate,onChange:function(e){return b(Object(p.a)(Object(p.a)({},j),{},{dateConfirmedHiv:ie()(e).format("YYYY-MM-DD")}))},max:new Date})]})})]}),h?Object(le.jsx)(kt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(le.jsx)($e.a,{}),onClick:function(a){a.preventDefault(),j.personId=t.id,t.enrolled=!0,delete j.tableData,O(!0),v.a.post("".concat(y,"hiv/enrollment"),j,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){O(!1),o.b.success("Record save successful"),e.toggle(),e.patientObj.enrolled=!0,e.PatientCurrentStatus()})).catch((function(e){O(!1),o.b.error("Something went wrong")}))},children:h?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)(ae.a,{variant:"contained",className:a.button,startIcon:Object(le.jsx)(At.a,{}),onClick:e.toggle,children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})})},la=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}})),ja=function(e){var t=e.patientObj,a=(Object(s.g)(),la()),c=Object(r.useState)({id:"",uniqueId:"",dateOfRegistration:"",entryPointId:"",facilityName:"",statusAtRegistrationId:"",dateConfirmedHiv:"",sourceOfReferrer:"",enrollmentSettingId:"",pregnancyStatusId:"",dateOfLpm:"",tbStatusId:"",targetGroupId:"",ovc_enrolled:"",ovcNumber:""}),n=Object(d.a)(c,2),i=n[0],l=n[1],j=Object(r.useState)(!1),b=Object(d.a)(j,2),u=b[0],m=b[1],h=Object(r.useState)({}),O=Object(d.a)(h,2),x=O[0],f=(O[1],Object(r.useState)([])),g=Object(d.a)(f,2),S=(g[0],g[1],Object(r.useState)([])),I=Object(d.a)(S,2),C=(I[0],I[1],Object(r.useState)(!1)),D=Object(d.a)(C,2),R=(D[0],D[1]),w=Object(r.useState)(!1),T=Object(d.a)(w,2);T[0],T[1];Object(r.useEffect)((function(){}),[]);var A=function(e){l(Object(p.a)(Object(p.a)({},i),{},Object(Ue.a)({},e.target.name,e.target.value))),"entryPointId"===e.target.name&&("21"===e.target.value?R(!0):R(!1))};return Object(le.jsx)("div",{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(pe.a,{children:Object(le.jsxs)("form",{children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h2",{children:"PrEP Eligibilty Screening Form"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"uniqueId",children:"Client Name * "}),Object(le.jsx)(Je.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:A,value:i.uniqueId,required:!0}),Object(le.jsx)("span",{children:"Surname First"}),""!==x.uniqueId?Object(le.jsx)("span",{className:a.error,children:x.uniqueId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"uniqueId",children:"Age * "}),Object(le.jsx)(Je.a,{type:"number",name:"uniqueId",id:"uniqueId",onChange:A,value:i.uniqueId,required:!0})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date Of Visit *"}),Object(le.jsx)(na.DateTimePicker,{time:!1,name:"dateConfirmedHiv",id:"dateConfirmedHiv",value:i.regDate,onChange:function(e){return l(Object(p.a)(Object(p.a)({},i),{},{dateConfirmedHiv:ie()(e).format("YYYY-MM-DD")}))},max:new Date})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"uniqueId",children:"Education Level "}),Object(le.jsx)(Je.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:A,value:i.uniqueId,required:!0})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"uniqueId",children:"Occupation "}),Object(le.jsx)(Je.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:A,value:i.uniqueId,required:!0})]})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("h3",{children:"Pre-test Counselling / Risk Counselling"}),Object(le.jsx)("br",{})]}),u?Object(le.jsx)(kt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(le.jsx)($e.a,{}),onClick:function(a){a.preventDefault(),i.personId=t.id,t.enrolled=!0,delete i.tableData,m(!0),v.a.post("".concat(y,"hiv/enrollment"),i,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){m(!1),o.b.success("Record save successful"),e.toggle(),e.patientObj.enrolled=!0,e.PatientCurrentStatus()})).catch((function(e){m(!1),o.b.error("Something went wrong")}))},children:u?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)(ae.a,{variant:"contained",className:a.button,startIcon:Object(le.jsx)(At.a,{}),onClick:e.toggle,children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})})},ba=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}})),ua=function(e){var t=e.patientObj,a=(Object(s.g)(),ba()),c=Object(r.useState)({id:"",uniqueId:"",dateOfRegistration:"",entryPointId:"",facilityName:"",statusAtRegistrationId:"",dateConfirmedHiv:"",sourceOfReferrer:"",enrollmentSettingId:"",pregnancyStatusId:"",dateOfLpm:"",tbStatusId:"",targetGroupId:"",ovc_enrolled:"",ovcNumber:""}),n=Object(d.a)(c,2),i=n[0],l=n[1],j=Object(r.useState)(!1),b=Object(d.a)(j,2),u=b[0],m=b[1],h=Object(r.useState)({}),O=Object(d.a)(h,2),x=O[0],f=(O[1],Object(r.useState)([])),g=Object(d.a)(f,2),S=g[0],I=(g[1],Object(r.useState)([])),C=Object(d.a)(I,2),D=C[0],R=(C[1],Object(r.useState)(!1)),w=Object(d.a)(R,2),T=(w[0],w[1]),A=Object(r.useState)(!1),P=Object(d.a)(A,2);P[0],P[1];Object(r.useEffect)((function(){}),[]);var B=function(e){l(Object(p.a)(Object(p.a)({},i),{},Object(Ue.a)({},e.target.name,e.target.value))),"entryPointId"===e.target.name&&("21"===e.target.value?T(!0):T(!1))};return Object(le.jsx)("div",{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(pe.a,{children:Object(le.jsxs)("form",{children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h2",{children:"PrEP Visit"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"uniqueId",children:"Duration on PErp  "}),Object(le.jsx)(Je.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:B,value:i.uniqueId,required:!0})]})})]}),Object(le.jsx)("hr",{}),Object(le.jsx)("div",{className:"row",children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Noted Side Effects"}),Object(le.jsxs)(Je.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:B,value:i.entryPointId,required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),S.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==x.entryPointId?Object(le.jsx)("span",{className:a.error,children:x.entryPointId}):""]})]})})}),Object(le.jsx)("hr",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"entryPointId",children:"HTS Result"}),Object(le.jsxs)(Je.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:B,value:i.entryPointId,required:!0,children:[Object(le.jsx)("option",{value:"",children:" "}),S.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==x.entryPointId?Object(le.jsx)("span",{className:a.error,children:x.entryPointId}):""]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"entryPointId",children:"Risk Reduction Plan"}),Object(le.jsxs)(Je.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:B,value:i.entryPointId,required:!0,children:[Object(le.jsx)("option",{value:"",children:" "}),S.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==x.entryPointId?Object(le.jsx)("span",{className:a.error,children:x.entryPointId}):""]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"entryPointId",children:"Syndromic STI Screening"}),Object(le.jsxs)(Je.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:B,value:i.entryPointId,required:!0,children:[Object(le.jsx)("option",{value:"",children:" "}),S.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==x.entryPointId?Object(le.jsx)("span",{className:a.error,children:x.entryPointId}):""]})]})})]}),Object(le.jsx)("hr",{}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h3",{children:"PrEP Drugs"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Regimen"}),Object(le.jsxs)(Je.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:B,value:i.statusAtRegistrationId,required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),D.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==x.statusAtRegistrationId?Object(le.jsx)("span",{className:a.error,children:x.statusAtRegistrationId}):""]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Level of Adherence"}),Object(le.jsxs)(Je.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:B,value:i.statusAtRegistrationId,required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),D.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==x.statusAtRegistrationId?Object(le.jsx)("span",{className:a.error,children:x.statusAtRegistrationId}):""]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Why Poor/Fair Adherence?"}),Object(le.jsxs)(Je.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:B,value:i.statusAtRegistrationId,required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),D.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==x.statusAtRegistrationId?Object(le.jsx)("span",{className:a.error,children:x.statusAtRegistrationId}):""]})]})})]}),u?Object(le.jsx)(kt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(le.jsx)($e.a,{}),onClick:function(a){a.preventDefault(),i.personId=t.id,t.enrolled=!0,delete i.tableData,m(!0),v.a.post("".concat(y,"hiv/enrollment"),i,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){m(!1),o.b.success("Record save successful"),e.toggle(),e.patientObj.enrolled=!0,e.PatientCurrentStatus()})).catch((function(e){m(!1),o.b.error("Something went wrong")}))},children:u?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)(ae.a,{variant:"contained",className:a.button,startIcon:Object(le.jsx)(At.a,{}),onClick:e.toggle,children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})})},ma=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:350},button:{margin:e.spacing(1)},root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"}}})),ha=function(e){var t=e.patientObj,a=(Object(s.g)(),ma()),c=Object(r.useState)({id:"",uniqueId:"",dateOfRegistration:"",entryPointId:"",facilityName:"",statusAtRegistrationId:"",dateConfirmedHiv:"",sourceOfReferrer:"",enrollmentSettingId:"",pregnancyStatusId:"",dateOfLpm:"",tbStatusId:"",targetGroupId:"",ovc_enrolled:"",ovcNumber:""}),n=Object(d.a)(c,2),i=n[0],l=n[1],j=Object(r.useState)(!1),b=Object(d.a)(j,2),u=b[0],m=b[1],h=Object(r.useState)({}),O=Object(d.a)(h,2),x=O[0],f=(O[1],Object(r.useState)([])),g=Object(d.a)(f,2),S=g[0],I=(g[1],Object(r.useState)([])),C=Object(d.a)(I,2),D=C[0],R=(C[1],Object(r.useState)(!1)),w=Object(d.a)(R,2),T=(w[0],w[1]),A=Object(r.useState)(!1),P=Object(d.a)(A,2);P[0],P[1];Object(r.useEffect)((function(){}),[]);var B=function(e){l(Object(p.a)(Object(p.a)({},i),{},Object(Ue.a)({},e.target.name,e.target.value))),"entryPointId"===e.target.name&&("21"===e.target.value?T(!0):T(!1))};return Object(le.jsx)("div",{children:Object(le.jsx)(Ge.a,{children:Object(le.jsx)(pe.a,{children:Object(le.jsxs)("form",{children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h2",{children:"PrEP Registration Form"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"uniqueId",children:"Unique Client's ID  * "}),Object(le.jsx)(Je.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:B,value:i.uniqueId,required:!0}),""!==x.uniqueId?Object(le.jsx)("span",{className:a.error,children:x.uniqueId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date enrolled in PrEP *"}),Object(le.jsx)(na.DateTimePicker,{time:!1,name:"dateConfirmedHiv",id:"dateConfirmedHiv",value:i.regDate,onChange:function(e){return l(Object(p.a)(Object(p.a)({},i),{},{dateConfirmedHiv:ie()(e).format("YYYY-MM-DD")}))},max:new Date})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"entryPointId",children:"Population Type *"}),Object(le.jsxs)(Je.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:B,value:i.entryPointId,required:!0,children:[Object(le.jsx)("option",{value:"",children:" "}),S.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==x.entryPointId?Object(le.jsx)("span",{className:a.error,children:x.entryPointId}):""]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"entryPointId",children:"Partner Type *"}),Object(le.jsxs)(Je.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:B,value:i.entryPointId,required:!0,children:[Object(le.jsx)("option",{value:"",children:" "}),S.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==x.entryPointId?Object(le.jsx)("span",{className:a.error,children:x.entryPointId}):""]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"HIV Testing Point "}),Object(le.jsxs)(Je.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:B,value:i.statusAtRegistrationId,required:!0,children:[Object(le.jsx)("option",{value:"Select",children:" "}),D.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==x.statusAtRegistrationId?Object(le.jsx)("span",{className:a.error,children:x.statusAtRegistrationId}):""]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date of last HIV Negative test*"}),Object(le.jsx)(na.DateTimePicker,{time:!1,name:"dateConfirmedHiv",id:"dateConfirmedHiv",value:i.regDate,onChange:function(e){return l(Object(p.a)(Object(p.a)({},i),{},{dateConfirmedHiv:ie()(e).format("YYYY-MM-DD")}))},max:new Date})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date Referred for PrEP * "}),Object(le.jsx)(na.DateTimePicker,{time:!1,name:"dateConfirmedHiv",id:"dateConfirmedHiv",value:i.regDate,onChange:function(e){return l(Object(p.a)(Object(p.a)({},i),{},{dateConfirmedHiv:ie()(e).format("YYYY-MM-DD")}))},max:new Date}),""!==x.sourceOfReferrer?Object(le.jsx)("span",{className:a.error,children:x.sourceOfReferrer}):""]})})]}),u?Object(le.jsx)(kt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:a.button,startIcon:Object(le.jsx)($e.a,{}),onClick:function(a){a.preventDefault(),i.personId=t.id,t.enrolled=!0,delete i.tableData,m(!0),v.a.post("".concat(y,"hiv/enrollment"),i,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){m(!1),o.b.success("Record save successful"),e.toggle(),e.patientObj.enrolled=!0,e.PatientCurrentStatus()})).catch((function(e){m(!1),o.b.error("Something went wrong")}))},children:u?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)(ae.a,{variant:"contained",className:a.button,startIcon:Object(le.jsx)(At.a,{}),onClick:e.toggle,children:Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Cancel"})})]})})})})},Oa=a(1051),pa=a(1060),xa=a(1052),fa=a.p+"static/media/fingerprintimage.73ff98ea.png",ga=a(110),va=a.n(ga),ya=Object(te.a)((function(e){return{root:{width:"100%","& .dropdown-toggle::after, .dropleft .dropdown-toggle::before, .dropright .dropdown-toggle::before, .dropup .dropdown-toggle::after":{fontFamily:"FontAwesome",border:"0",verticalAlign:"middle",marginLeft:".25em",lineHeight:"1"},"& .dropdown-menu .dropdown-item":{fontSize:"14px",color:"#014d88",padding:"0.3rem 1.5rem",fontWeight:"bold"},"& .mt-4":{marginTop:"28px !important"},"& .form-control":{color:"#992E62"},"& .form-control:focus":{color:"#014d88"},"& .sharp ":{"min-width":"35px",padding:"5px",height:"35px","min-height":"35px"}},card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"}}})),Na="";var Sa=function(e){var t=ya(),a=Object(s.g)(),n=(a.location&&a.location.state&&a.location.state.permissions,Object(r.useState)([])),i=Object(d.a)(n,2),l=i[0],j=i[1],b=Object(r.useState)({biometricType:"FINGERPRINT",patientId:e.patientId,templateType:"",device:""}),u=Object(d.a)(b,2),m=u[0],x=u[1],f=Object(r.useState)([]),g=Object(d.a)(f,2),I=g[0],C=g[1],D=Object(r.useState)([]),R=Object(d.a)(D,2),w=(R[0],R[1]),T=c.a.useState(!1),A=Object(d.a)(T,2),P=(A[0],A[1]),B=Object(r.useState)(!1),k=Object(d.a)(B,2),E=k[0],q=k[1],z=c.a.useState(!1),Y=Object(d.a)(z,2),L=Y[0],F=Y[1],H=c.a.useState(!1),_=Object(d.a)(H,2),M=(_[0],_[1]),W=c.a.useState(!1),V=Object(d.a)(W,2),U=V[0],G=V[1],K=Object(r.useState)({}),X=Object(d.a)(K,2),Z=X[0],J=X[1],Q=Object(r.useState)([]),$=Object(d.a)(Q,2),ee=$[0],te=$[1],re=Object(r.useState)([]),ce=Object(d.a)(re,2),ne=ce[0],se=ce[1],oe=Object(r.useState)([]),de=Object(d.a)(oe,2),je=(de[0],de[1]),be=(Object(p.a)({},U&&{bgcolor:rt.a[500],"&:hover":{bgcolor:rt.a[700]}}),function(){var t=Object(O.a)(Object(h.a)().mark((function t(){var a;return Object(h.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("".concat(y,"application-codesets/v2/BIOMETRIC_CAPTURE_FINGERS"),{headers:{Authorization:"Bearer ".concat(N)}});case 2:a=t.sent,v.a.get("".concat(y,"biometrics/person/").concat(e.patientId),{headers:{Authorization:"Bearer ".concat(N)}}).then(function(){var e=Object(O.a)(Object(h.a)().mark((function e(t){var r,c,n;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data.length>0?(te(t.data),q(!0),r=va.a.uniq(va.a.map(t.data,"templateType")),je(r),c=va.a.map(a.data,(function(e){return va.a.extend({},e,{captured:r.includes(e.display)})})),C(c)):(n=va.a.map(a.data,(function(e){return va.a.extend({},e,{captured:!1})})),C(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var e=Object(O.a)(Object(h.a)().mark((function e(t){var r;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("getPersonBiometrics error"),console.log(t),r=va.a.map(a.data,(function(e){return va.a.extend({},e,{captured:!1})})),C(r),q(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),ue=function(){v.a.post("".concat(y,"biometrics/store-list/").concat(e.patientId),e.patientId,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){console.log("cleared store")})).catch((function(e){console.log("cleared store error"),console.log(e)}))};Object(r.useEffect)((function(){ue(),be(),me()}),[]);var me=function(){v.a.get("".concat(y,"modules/check?moduleName=biometric"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){!0===e.data&&v.a.get("".concat(y,"biometrics/devices"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){w(e.data),j(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){}))};return Object(le.jsx)("div",{className:t.root,children:Object(le.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(le.jsx)("div",{className:"",style:{padding:"5px",flex:"7",boxShadow:"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px",minHeight:"400px"},children:E&&ee.length>0?Object(le.jsx)("div",{style:{display:"flex",width:"100%",flexWrap:"wrap"},children:ee.map((function(t,a){return Object(le.jsx)("div",{style:{minHeight:"120px",padding:"5px",width:"20%"},children:Object(le.jsxs)("div",{className:"card ",style:{borderRadius:"6px"},children:[Object(le.jsxs)("div",{className:"card-header align-items-start",style:{backgroundColor:"#fff"},children:[Object(le.jsxs)("div",{children:[Object(le.jsx)("h6",{className:"fs-18 font-w500 mb-3 user-name",children:Object(le.jsx)(S.b,{to:"#",style:{color:"#014d88",fontSize:"14px",fontFamily:'"poppins",sans-serif'},children:t.templateType})}),Object(le.jsxs)("div",{className:"fs-9 text-nowrap",style:{fontSize:"10px",color:"#992E62",fontWeight:"bold",fontFamily:'"poppins",sans-serif'},children:[Object(le.jsx)("i",{className:"fa fa-calendar-o me-3","aria-hidden":"true"}),ie()(t.lastModifiedDate).format("YYYY-MM-DD HH:mm")]})]}),Object(le.jsxs)(ot.a,{className:"dropdown ms-auto",children:[Object(le.jsx)(ot.a.Toggle,{as:"button",variant:"",drop:"up",className:"btn sharp btn-primary ",id:"tp-btn",style:{backgroundColor:"#014d88",borderColor:"#014d88",borderRadius:"5px",marginRight:"-18px",marginTop:"-10px"},children:Object(le.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"18px",height:"18px",viewBox:"0 0 24 24",version:"1.1",children:Object(le.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[Object(le.jsx)("rect",{x:"0",y:"0",width:"24",height:"24"}),Object(le.jsx)("circle",{fill:"#ffffff",cx:"12",cy:"5",r:"2"}),Object(le.jsx)("circle",{fill:"#ffffff",cx:"12",cy:"12",r:"2"}),Object(le.jsx)("circle",{fill:"#ffffff",cx:"12",cy:"19",r:"2"})]})})}),Object(le.jsx)(ot.a.Menu,{alignRight:!0,className:"dropdown-menu-right",children:Object(le.jsxs)(ot.a.Item,{style:{color:"red"},onClick:function(){return a=t.id,r=t.templateType,void v.a.delete("".concat(y,"biometrics/").concat(a),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){o.b.success("".concat(r," deleted successfully")),va.a.find(I,{display:r}).captured=!1,C(Object(Ve.a)(I));var a=va.a.reject(ee,{templateType:r});te(a),ue(),0===a.length&&e.updatePatientBiometricStatus(!1)})).catch((function(e){o.b.error("Something went wrong"),console.log(e)}));var a,r},children:[Object(le.jsx)(yt.a,{})," Delete"]})})]})]}),Object(le.jsx)("div",{className:"card-body p-0 pb-2",children:Object(le.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(le.jsx)("li",{className:"list-group-item",style:{height:"100px",display:"flex",justifyContent:"center"},children:Object(le.jsx)("img",{src:fa,alt:"",style:{height:"80px"}})}),Object(le.jsxs)("li",{className:"list-group-item",children:[Object(le.jsx)(Oa.a,{variant:"info badge-xs light",className:"card-link float-end",children:"Version "}),Object(le.jsxs)("span",{className:"mb-0 title",children:["Status ",t.iso]})," :",Object(le.jsx)("span",{className:"text-black desc-text ms-2",children:Object(le.jsxs)(Oa.a,{variant:!0===t.iso?"primary badge-xs":"danger badge-xs",children:[Object(le.jsx)("i",{className:"fa fa-check-square me-2 scale4","aria-hidden":"true"})," "]})})]})]})})]})},a)}))}):Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"flex-grow-8",children:Object(le.jsx)("div",{className:"flex-grow-8",children:Object(le.jsx)(pa.a,{severity:"info",children:Object(le.jsx)(xa.a,{style:{height:"400px"},children:Object(le.jsx)("strong",{children:"No biometrics captured"})})})})})})}),Object(le.jsx)("div",{style:{flex:"3",padding:"5px",marginLeft:"5px",border:"1px solid rgba(99, 99, 99, 0.2)",boxShadow:"rgba(99, 99, 99, 0.2) 0px 2px 8px 0px"},children:Object(le.jsxs)("div",{className:"col-12",children:[Object(le.jsx)(o.a,{}),Object(le.jsx)(Oe.a,{md:12,children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"device",style:{color:"#014d88",fontWeight:"bold",fontSize:"14px"},children:"Select Device "}),Object(le.jsxs)(Je.a,{type:"select",name:"device",id:"device",onChange:function(e){var t=e.target.value,a=l.find((function(e){return e.name===t}));Na=null===a.url?y:a.url,x(Object(p.a)(Object(p.a)({},m),{},{device:t})),v.a.get("".concat(Na,"biometrics/secugen/boot?reader=").concat(t),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){"ERROR"===e.data.errorType?o.b.error(e.data.errorName+" is not plug"):F(!0)})).catch((function(e){}))},value:m.device,required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select Device "}),l.map((function(e){var t=e.id,a=e.name;return Object(le.jsx)("option",{value:a,children:a},t)}))]}),""!==Z.device?Object(le.jsx)("span",{className:t.error,children:Z.device}):""]})}),L?Object(le.jsxs)("div",{className:"row col-12",children:[Object(le.jsx)(Oe.a,{md:6,children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"device",style:{color:"#014d88",fontWeight:"bold",fontSize:"14px"},children:"Select Finger"}),Object(le.jsxs)(Je.a,{type:"select",name:"templateType",id:"templateType",onChange:function(e){x(Object(p.a)(Object(p.a)({},m),{},Object(Ue.a)({},e.target.name,e.target.value)))},value:m.templateType,required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select Finger "}),va.a.filter(I,["captured",!1]).map((function(e){return Object(le.jsx)("option",{value:e.display,children:e.display},e.id)}))]}),""!==Z.templateType?Object(le.jsx)("span",{className:t.error,children:Z.templateType}):""]})}),Object(le.jsx)(Oe.a,{md:6,children:Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),function(){var e=Object(p.a)({},Z);return e.templateType=m.templateType?"":"This field is required",e.device=m.device?"":"This field is required",J(Object(p.a)({},e)),Object.values(e).every((function(e){return""===e}))}()&&v.a.post("".concat(Na,"biometrics/secugen/enrollment?reader=SG_DEV_AUTO"),m,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){if(P(!0),"ERROR"===e.data.type)P(!1),M(!0),window.setTimeout((function(){M(!1)}),5e3),o.b.error(e.data.message.ERROR);else{var t=e.data.templateType;M(!1),G(!0),window.setTimeout((function(){G(!1),P(!1)}),5e3);var a=e.data;a.capturedBiometricsList=va.a.uniqBy(a.capturedBiometricsList,"templateType"),se([].concat(Object(Ve.a)(ne),[a])),va.a.find(I,{display:t}).captured=!0,C(Object(Ve.a)(I)),x(Object(p.a)(Object(p.a)({},m),{},{templateType:""}))}})).catch((function(e){}))},className:"mt-4",style:{backgroundColor:"#992E62"},startIcon:Object(le.jsx)(tt.a,{}),children:"Capture Finger"})}),Object(le.jsx)("br",{})]}):"",Object(le.jsx)(he.a,{children:ne.length>=1?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(Oe.a,{md:12,style:{marginTop:"10px",paddingBottom:"20px"},children:Object(le.jsx)(at.a,{celled:!0,horizontal:!0,children:ne.map((function(e){return Object(le.jsxs)(at.a.Item,{style:{width:"200px",height:"200px",border:"1px dotted #014d88",margin:"5px"},children:[Object(le.jsxs)(at.a.Header,{style:{paddingLeft:"0px",height:"0.5rem",display:"flex",justifyContent:"right",alignItems:"right"},children:[Object(le.jsx)(ft.a,{name:"cancel",color:"red"})," "]}),Object(le.jsxs)(at.a.Content,{style:{width:"200px",height:"160px",display:"flex",justifyContent:"center",alignItems:"center"},children:[" ",Object(le.jsx)(tt.a,{style:{color:"#992E62",fontSize:150}})]}),Object(le.jsx)(at.a.Content,{style:{width:"200px",height:"30px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"18px",color:"#014d88",fontWeight:"bold",fontFamily:'"poppins", sans-serif'},children:e.templateType})]})}))})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(Oe.a,{md:12,children:Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"primary",onClick:function(t){if(t.preventDefault(),ne.length>=1){var a=ne[ne.length-1];a.capturedBiometricsList=va.a.uniqBy(a.capturedBiometricsList,"templateType"),v.a.post("".concat(y,"biometrics/templates"),a,{headers:{Authorization:"Bearer ".concat(N)}}).then((function(t){o.b.success("Biometric save successful"),se([]),be(),e.patientObj.biometricStatus=!0,e.setActiveContent(Object(p.a)(Object(p.a)({},e.activeContent),{},{route:"recent-history"}))})).catch((function(e){o.b.error("Something went wrong saving biometrics"),console.log(e)}))}else o.b.error("You can't save less than 2 finger")},startIcon:Object(le.jsx)($e.a,{}),children:"Save Capture"})})]}):""})]})})]})})};var Ia=Object(ke.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15)},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},icon:{verticalAlign:"bottom",height:20,width:20},details:{alignItems:"center"},column:{flexBasis:"20.33%"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:"".concat(e.spacing.unit,"px ").concat(2*e.spacing.unit,"px")},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}}))((function(e){var t=Object(s.g)(),a=Object(r.useState)(!1),c=Object(d.a)(a,2),n=c[0],i=c[1],o=Object(r.useState)({route:"recent-history",id:"",activeTab:"home",actionType:"create",obj:{}}),l=Object(d.a)(o,2),j=l[0],b=l[1],u=e.classes,m=t.location&&t.location.state?t.location.state.patientObj:{};return Object(le.jsxs)("div",{className:u.root,children:[Object(le.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(le.jsx)("ol",{className:"breadcrumb",children:Object(le.jsx)("li",{className:"breadcrumb-item active",children:Object(le.jsxs)("h4",{children:[" ",Object(le.jsx)(S.b,{to:"/",children:"PrEp /"})," Patient Dashboard"]})})})}),Object(le.jsx)(Ee.a,{children:Object(le.jsxs)(qe.a,{children:[Object(le.jsx)(ct,{patientObj:m,setArt:i,setActiveContent:b}),Object(le.jsx)(st,{patientObj:m,art:n,setActiveContent:b}),Object(le.jsx)("br",{}),"recent-history"===j.route&&Object(le.jsx)(bt,{patientObj:m,setActiveContent:b,activeContent:j}),"biometrics"===j.route&&Object(le.jsx)(Sa,{patientObj:m,setActiveContent:b,activeContent:j}),"consultation"===j.route&&Object(le.jsx)(ca,{patientObj:m,setActiveContent:b,activeContent:j}),"prep-commencement"===j.route&&Object(le.jsx)(sa,{patientObj:m,setActiveContent:b,activeContent:j}),"prep-interruptions"===j.route&&Object(le.jsx)(da,{patientObj:m,setActiveContent:b,activeContent:j}),"prep-screening"===j.route&&Object(le.jsx)(ja,{patientObj:m,setActiveContent:b,activeContent:j}),"prep-visit"===j.route&&Object(le.jsx)(ua,{}),"prep-registration"===j.route&&Object(le.jsx)(ha,{patientObj:m,setActiveContent:b,activeContent:j})]})})]})})),Ca=a(165),Da=a(136),Ra=a(109),wa=a(1022),Ta=a(254),Aa=a.n(Ta),Pa=a(132),Ba=a.n(Pa);a(481),a(482);Da.b.add(Ra.a,Ra.b,Ra.c,Ra.d);var ka=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"},success:{color:"#4BB543 ",fontSize:"11px"}}})),Ea=function(e){var t,a=Object(r.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",sexId:"",ninNumber:""}),n=Object(d.a)(a,2),i=n[0],l=n[1],j=Object(r.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}),b=Object(d.a)(j,2),u=b[0],m=b[1],x=Object(r.useState)((new Date).toISOString().substr(0,10).replace("T"," ")),f=Object(d.a)(x,2),g=(f[0],f[1],Object(r.useState)([])),I=Object(d.a)(g,2),C=I[0],D=I[1],R=Object(r.useState)(!1),w=Object(d.a)(R,2),T=w[0],A=(w[1],Object(r.useState)(!1)),P=Object(d.a)(A,2),B=P[0],k=P[1],E=Object(r.useState)(!0),q=Object(d.a)(E,2),z=q[0],Y=q[1],L=Object(r.useState)(!1),F=Object(d.a)(L,2),H=F[0],_=F[1],M=Object(r.useState)(null),W=Object(d.a)(M,2),V=(W[0],W[1],Object(r.useState)([])),U=Object(d.a)(V,2),G=U[0],K=U[1],X=Object(r.useState)([]),Z=Object(d.a)(X,2),J=Z[0],Q=Z[1],$=Object(r.useState)([]),ee=Object(d.a)($,2),te=ee[0],re=ee[1],ce=Object(r.useState)([]),ie=Object(d.a)(ce,2),se=ie[0],oe=ie[1],je=Object(r.useState)([]),be=Object(d.a)(je,2),ue=be[0],me=be[1],he=Object(r.useState)([]),Oe=Object(d.a)(he,2),pe=Oe[0],fe=Oe[1],ge=Object(r.useState)([]),ve=Object(d.a)(ge,2),ye=ve[0],Ne=ve[1],Se=Object(r.useState)([]),Ie=Object(d.a)(Se,2),Ce=Ie[0],De=Ie[1],Re=Object(r.useState)({}),we=Object(d.a)(Re,2),Te=we[0],Ae=we[1],Pe=Object(r.useState)([]),Be=Object(d.a)(Pe,2),ke=(Be[0],Be[1]),Ee=Object(r.useState)({person:"",hivEnrollment:""}),qe=Object(d.a)(Ee,2),ze=qe[0],Ye=(qe[1],e.location&&e.location.state?e.location.state.user:null),Le=ka(),Fe=Object(s.g)(),He=Object(s.h)(),_e=Object(r.useState)(!1),Me=Object(d.a)(_e,2),We=(Me[0],Me[1]),Ge=Object(r.useState)({id:"",uniqueId:"",dateOfRegistration:"",entryPointId:"",facilityName:"",statusAtRegistrationId:"",dateConfirmedHiv:"",sourceOfReferrerId:"",enrollmentSettingId:"",pregnancyStatusId:"",dateOfLpm:"",tbStatusId:"",targetGroupId:"",ovc_enrolled:"",ovcNumber:"",householdNumber:"",referredToOVCPartner:"",dateReferredToOVCPartner:"",referredFromOVCPartner:"",dateReferredFromOVCPartner:"",careEntryPointOther:""}),Qe=Object(d.a)(Ge,2),et=Qe[0],tt=Qe[1],at=Object(r.useState)([]),rt=Object(d.a)(at,2),ct=rt[0],nt=rt[1],it=Object(r.useState)([]),st=Object(d.a)(it,2),ot=(st[0],st[1]),dt=Object(r.useState)([]),lt=Object(d.a)(dt,2),jt=lt[0],bt=lt[1],ut=Object(r.useState)([]),mt=Object(d.a)(ut,2),ht=(mt[0],mt[1]),Ot=Object(r.useState)([]),pt=Object(d.a)(Ot,2),xt=(pt[0],pt[1]),ft=Object(r.useState)([]),gt=Object(d.a)(ft,2),vt=(gt[0],gt[1]),yt=Object(r.useState)([]),Nt=Object(d.a)(yt,2),St=(Nt[0],Nt[1]),It=Object(r.useState)(!1),Ct=Object(d.a)(It,2),Dt=(Ct[0],Ct[1]),Rt=Object(r.useState)(!1),wt=Object(d.a)(Rt,2),Tt=(wt[0],wt[1],Object(r.useState)("false")),Bt=Object(d.a)(Tt,2),Et=(Bt[0],Bt[1],Object(r.useState)(!1)),qt=Object(d.a)(Et,2),zt=qt[0],Yt=qt[1],Lt=Object(r.useState)(!1),Ft=Object(d.a)(Lt,2),Ht=(Ft[0],Ft[1]),_t=c.a.useState(!1),Mt=Object(d.a)(_t,2),Wt=Mt[0],Vt=Mt[1],Ut=function(){return Vt(!Wt)},Gt=He.state;t=Gt?Gt.patientId:null,Object(r.useEffect)((function(){Kt(),Xt(),Zt(),Jt(),Qt(),$t(),da(),la(),ja(),ba(),ua(),ma(),ha(),ea(),i.dateOfRegistration<i.dob&&alert("Date of registration can not be earlier than date of birth")}),[i.dateOfRegistration]);var Kt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,K(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Xt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,Q(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Zt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,re(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Jt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,oe(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Qt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,me(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),$t=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(y,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(N)}});case 2:t=e.sent,ke(t.data);case 4:case"end":return e.stop()}}),e)}))),[]),ea=function(){v.a.get("".concat(y,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){fe(e.data)})).catch((function(e){}))};var ta=function(e){"Actual"==e.target.value?Y(!0):"Estimated"==e.target.value&&Y(!1)},aa=function(e){if(l(Object(p.a)(Object(p.a)({},i),{},Object(Ue.a)({},e.target.name,e.target.value))),"sexId"===e.target.name&&"377"===e.target.value&&We(!0),"firstName"===e.target.name&&""!==e.target.value){var t=oa(e.target.value);l(Object(p.a)(Object(p.a)({},i),{},Object(Ue.a)({},e.target.name,t)))}if("lastName"===e.target.name&&""!==e.target.value){var a=oa(e.target.value);l(Object(p.a)(Object(p.a)({},i),{},Object(Ue.a)({},e.target.name,a)))}if("middleName"===e.target.name&&""!==e.target.value){var r=oa(e.target.value);l(Object(p.a)(Object(p.a)({},i),{},Object(Ue.a)({},e.target.name,r)))}if("ninNumber"===e.target.name&&""!==e.target.value){var c=xa(e.target.value);l(Object(p.a)(Object(p.a)({},i),{},Object(Ue.a)({},e.target.name,c)))}if("hospitalNumber"===e.target.name&&""!==e.target.value){var n=function(){var t=Object(O.a)(Object(h.a)().mark((function t(){var a;return Object(h.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,v.a.post("".concat(y,"patient/exist/hospital-number"),a,{headers:{Authorization:"Bearer ".concat(N),"Content-Type":"text/plain"}});case 3:!0!==t.sent.data?(Yt(!1),Te.hospitalNumber="",tt(Object(p.a)(Object(p.a)({},et),{},{uniqueId:e.target.value})),Ht(!0)):(Te.hospitalNumber="",o.b.error("Error! Hosiptal Number already exist"),Yt(!0),Ht(!1));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n()}},ra=function(e){var t=ue.find((function(t){return t.id==e}));return t?t.display:""},ca=function(e){m(Object(p.a)(Object(p.a)({},u),{},Object(Ue.a)({},e.target.name,e.target.value)))},ia=function(){var e=Object(p.a)({},Te);return e.firstName=i.firstName?"":"First Name is required",e.hospitalNumber=i.hospitalNumber?"":"Hospital Number  is required.",e.lastName=i.lastName?"":"Last Name  is required.",e.sexId=i.sexId?"":"Gender is required.",e.dateOfRegistration=i.dateOfRegistration?"":"Date of Registration is required.",e.educationId=i.educationId?"":"Education is required.",e.address=i.address?"":"Address is required.",e.phoneNumber=i.phoneNumber?"":"Phone Number  is required.",e.countryId=i.countryId?"":"Country is required.",e.stateId=i.stateId?"":"State is required.",e.district=i.district?"":"Province/LGA is required.",e.targetGroupId=et.targetGroupId?"":"Target group is required.","55"!==et.statusAtRegistrationId&&(e.dateConfirmedHiv=et.dateConfirmedHiv?"":"date confirm HIV is required."),e.sourceOfReferrerId=et.sourceOfReferrerId?"":"Source of referrer is required.",e.enrollmentSettingId=et.enrollmentSettingId?"":"Enrollment Setting Number  is required.",e.tbStatusId=et.tbStatusId?"":"TB status is required.",e.statusAtRegistrationId=et.statusAtRegistrationId?"":"Status at Registration is required.",e.entryPointId=et.entryPointId?"":"Care Entry Point is required.",e.dateOfRegistration=et.dateOfRegistration?"":"Date of Registration is required.",e.uniqueId=et.uniqueId?"":"Unique ID is required.",Ae(Object(p.a)({},e)),Object.values(e).every((function(e){return""==e}))},sa=function(){var e=Object(O.a)(Object(h.a)().mark((function e(a){var r,c,n,s,d,l;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!ia()){e.next=23;break}return r=[],C&&C.length>0&&C.map((function(e){var t={address:{line:[e.address]},contactPoint:{type:"phone",value:e.phone},firstName:e.firstName,fullName:e.firstName+" "+e.middleName+" "+e.lastName,relationshipId:e.relationshipId,surname:e.lastName,otherName:e.middleName};r.push(t)})),e.prev=4,c={active:!0,address:[{city:i.address,countryId:i.countryId,district:i.district,line:[i.landmark],organisationUnitId:0,postalCode:"",stateId:i.stateId}],contact:r,contactPoint:[],dateOfBirth:i.dob,deceased:!1,deceasedDateTime:null,firstName:i.firstName,genderId:i.sexId,sexId:i.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:i.hospitalNumber}],otherName:i.middleName,maritalStatusId:i.maritalStatusId,surname:i.lastName,educationId:i.educationId,employmentStatusId:i.employmentStatusId,dateOfRegistration:i.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=i.dateOfBirth,ninNumber:i.ninNumber},n={type:"phone",value:i.phoneNumber},i.email&&(s={type:"email",value:i.email},c.contactPoint.push(s)),i.altPhonenumber&&(d={type:"altphone",value:i.altPhonenumber},c.contactPoint.push(d)),c.contactPoint.push(n),c.id=t,ze.person=c,ze.hivEnrollment=et,e.next=15,v.a.post("".concat(y,"hiv/patient"),ze,{headers:{Authorization:"Bearer ".concat(N)}});case 15:e.sent,o.b.success("Patient Register successful"),Fe.push("/"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),e.t0.response&&e.t0.response.data&&(l=e.t0.response.data&&""!==e.t0.response.data.apierror.message?e.t0.response.data.apierror.message:"Something went wrong, please try again",o.b.error(l));case 23:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t){return e.apply(this,arguments)}}(),oa=function(e){return e.replace(/[^a-z]/gi,"")},da=function(){v.a.get("".concat(y,"application-codesets/v2/POINT_ENTRY"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){nt(e.data)})).catch((function(e){}))},la=function(){v.a.get("".concat(y,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){ot(e.data)})).catch((function(e){}))},ja=function(){v.a.get("".concat(y,"application-codesets/v2/HIV_STATUS_ENROL"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){bt(e.data)})).catch((function(e){}))},ba=function(){v.a.get("".concat(y,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){ht(e.data)})).catch((function(e){}))},ua=function(){v.a.get("".concat(y,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){xt(e.data)})).catch((function(e){}))},ma=function(){v.a.get("".concat(y,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){vt(e.data)})).catch((function(e){}))},ha=function(){v.a.get("".concat(y,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){St(e.data)})).catch((function(e){}))},Oa=function(e){tt(Object(p.a)(Object(p.a)({},et),{},Object(Ue.a)({},e.target.name,e.target.value))),"entryPointId"===e.target.name&&("21"===e.target.value?Dt(!0):Dt(!1)),"pregnancyStatusId"===e.target.name&&(console.log(e.target.value),"72"===e.target.value?Dt(!0):Dt(!1))},pa=function(e,t){l(Object(p.a)(Object(p.a)({},i),{},Object(Ue.a)({},t,e.slice(0,10))))},xa=function(e){return e.slice(0,11)};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(le.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(le.jsx)("ol",{className:"breadcrumb",children:Object(le.jsx)("li",{className:"breadcrumb-item active",children:Object(le.jsxs)("h4",{children:[" ",Object(le.jsx)(S.b,{to:"/",children:"Prep /"})," Patient Registration"]})})})}),Object(le.jsx)(S.b,{to:{pathname:"/",state:"users"},children:Object(le.jsx)(ae.a,{variant:"contained",color:"primary",className:" float-end mr-10 pr-10",style:{backgroundColor:"#014d88",fontWeight:"bolder",margingRight:"-40px"},startIcon:Object(le.jsx)(de.a,{}),children:Object(le.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Back "})})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)(xe.a,{className:Le.cardBottom,children:Object(le.jsx)(wa.a,{children:Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(le.jsxs)(Ke.a,{children:[Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===Ye?"Basic Information":"Edit User Information"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsxs)("div",{className:"basic-form",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"dateOfRegistration",children:"Date of Registration* "}),Object(le.jsx)(Je.a,{className:"form-control",type:"date",name:"dateOfRegistration",id:"dateOfRegistration",min:"1983-12-31",max:ne(new Date).format("YYYY-MM-DD"),value:i.dateOfRegistration,onChange:aa,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Te.dateOfRegistration?Object(le.jsx)("span",{className:Le.error,children:Te.dateOfRegistration}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"patientId",children:"Hospital Number* "}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:i.hospitalNumber,onChange:aa,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Te.hospitalNumber?Object(le.jsx)("span",{className:Le.error,children:Te.hospitalNumber}):"",!0===zt?Object(le.jsx)("span",{className:Le.error,children:"Hospital number already exist"}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"patientId",children:"EMR Number* "}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"emrNumber",id:"emrNumber",disabled:"true",value:1094328,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"firstName",children:"First Names *"}),Object(le.jsx)(Je.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:i.firstName,onChange:aa,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Te.firstName?Object(le.jsx)("span",{className:Le.error,children:Te.firstName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Middle Name"}),Object(le.jsx)(Je.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:i.middleName,onChange:aa,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Last Name *"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:i.lastName,onChange:aa,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Te.lastName?Object(le.jsx)("span",{className:Le.error,children:Te.lastName}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Sex *"}),Object(le.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:aa,value:i.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),G.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Te.sexId?Object(le.jsx)("span",{className:Le.error,children:Te.sexId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date Of Birth"}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return ta(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return ta(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date "}),Object(le.jsx)("input",{className:"form-control",type:"date",name:"dob",min:"1940-01-01",id:"dob",max:i.dateOfRegistration,value:i.dob,onChange:function(e){if(e.target.value){var t=new Date,a=new Date(e.target.value),r=t.getFullYear()-a.getFullYear(),c=t.getMonth()-a.getMonth();c<18?(alert("The child is less than 18months"),k(!0)):k(!1),(c<0||0===c&&t.getDate()<a.getDate())&&r--,i.age=r}else l(Object(p.a)(Object(p.a)({},i),{},{age:""}));l(Object(p.a)(Object(p.a)({},i),{},{dob:e.target.value})),""!==i.age&&i.age>=60&&Ut()},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Age"}),Object(le.jsx)("input",{type:"number",name:"age",className:"form-control",id:"age",min:"1",value:i.age,disabled:z,onChange:function(e){if(!z&&e.target.value){""!==e.target.value&&e.target.value>=60&&Ut(),e.target.value<=1?k(!0):k(!1);var t=new Date;t.setDate(15),t.setMonth(5);var a=ne(t.toISOString()).add(-1*e.target.value,"years");i.dob=ne(a).format("YYYY-MM-DD")}l(Object(p.a)(Object(p.a)({},i),{},{age:Math.abs(e.target.value)}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Marital Status"}),Object(le.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:aa,value:i.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),J.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Employment Status *"}),Object(le.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:aa,value:i.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),se.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Te.employmentStatusId?Object(le.jsx)("span",{className:Le.error,children:Te.employmentStatusId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Education Level *"}),Object(le.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:aa,value:i.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),te.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Te.educationId?Object(le.jsx)("span",{className:Le.error,children:Te.educationId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"ninNumber",children:"National Identity Number (NIN)  "}),Object(le.jsx)("input",{className:"form-control",type:"number",name:"ninNumber",value:i.ninNumber,id:"ninNumber",onChange:aa,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Phone Number *"}),Object(le.jsx)(Ba.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"phoneNumber",id:"phoneNumber",masks:{ng:"...-...-....",at:"(....) ...-...."},value:i.phoneNumber,onChange:function(e){pa(e,"phoneNumber")}}),""!==Te.phoneNumber?Object(le.jsx)("span",{className:Le.error,children:Te.phoneNumber}):""]})}),Object(le.jsx)("div",{className:"form-group col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Alt. Phone Number"}),Object(le.jsx)(Ba.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",value:i.altPhonenumber,masks:{ng:"...-...-....",at:"(....) ...-...."},onChange:function(e){pa(e,"altPhonenumber")}})]})}),Object(le.jsx)("div",{className:"form-group col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Email"}),Object(le.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:aa,value:i.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Country *"}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:i.countryId,onChange:function(e){var t=e.target.value;console.log(t),function(e){v.a.get("".concat(y,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){console.log(e.data),Ne(e.data)})).catch((function(e){}))}(t),l(Object(p.a)(Object(p.a)({},i),{},{countryId:t}))},children:[Object(le.jsx)("option",{value:"",children:"Select"}),pe.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==Te.countryId?Object(le.jsx)("span",{className:Le.error,children:Te.countryId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"State *"}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:i.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:function(e){var t=e.target.value;l(Object(p.a)(Object(p.a)({},i),{},{stateId:e.target.value})),v.a.get("".concat(y,"organisation-units/parent-organisation-units/").concat(t),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){De(e.data)})).catch((function(e){}))},children:[Object(le.jsx)("option",{value:"",children:"Select"}),ye.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==Te.stateId?Object(le.jsx)("span",{className:Le.error,children:Te.stateId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Province/District/LGA *"}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:i.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:aa,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Ce.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==Te.district?Object(le.jsx)("span",{className:Le.error,children:Te.district}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Street Address*"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",onChange:aa,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Te.address?Object(le.jsx)("span",{className:Le.error,children:Te.address}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Landmark"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",onChange:aa,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[C&&C.length>0&&Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(le.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(le.jsx)("thead",{className:"mb-3",children:Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{children:"Relationship Type"}),Object(le.jsx)("th",{children:"Name"}),Object(le.jsx)("th",{children:"Phone"}),Object(le.jsx)("th",{children:"Address"}),Object(le.jsx)("th",{children:"Actions"})]})}),Object(le.jsx)("tbody",{className:"mb-3",children:C.map((function(e,t){return Object(le.jsxs)("tr",{className:"mb-3",children:[Object(le.jsx)("td",{children:ra(e.relationshipId)}),Object(le.jsx)("td",{children:e.firstName+" "+e.middleName+" "+e.lastName}),Object(le.jsx)("td",{children:e.phone}),Object(le.jsx)("td",{children:e.address}),Object(le.jsxs)("td",{children:[Object(le.jsx)("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:function(){return function(e,t){m(e),_(!0),C.splice(t,1)}(e,t)},children:Object(le.jsx)(Ca.a,{icon:"edit"})}),"\xa0\xa0",Object(le.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:function(e){return function(e){C.splice(e,1),D(Object(Ve.a)(C))}(t)},children:Object(le.jsx)(Ca.a,{icon:"trash"})})]})]},e.index)}))})]})}),Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:H&&Object(le.jsx)("div",{className:"card",children:Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"relationshipType",children:"Relationship Type *"}),Object(le.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:u.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ca,children:[Object(le.jsx)("option",{value:"",children:"Select"}),ue.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Te.relationshipId?Object(le.jsx)("span",{className:Le.error,children:Te.relationshipId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"cfirstName",children:"First Name *"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:u.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ca}),""!==Te.firstName?Object(le.jsx)("span",{className:Le.error,children:Te.firstName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Middle Name"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:u.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ca})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Last Name *"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:u.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ca}),""!==Te.lastName?Object(le.jsx)("span",{className:Le.error,children:Te.lastName}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(le.jsx)(Ba.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",name:"phone",value:u.phone,masks:{ng:"...-...-....",at:"(....) ...-...."},id:"phone",onChange:function(e){!function(e,t){m(Object(p.a)(Object(p.a)({},u),{},Object(Ue.a)({},t,e.slice(0,10))))}(e,"phone")}}),""!==Te.phone?Object(le.jsx)("span",{className:Le.error,children:Te.phone}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"contactEmail",children:"Email"}),Object(le.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",value:u.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ca,required:!0})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"contactAddress",children:"Address"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:u.address,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ca})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-1",children:Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"primary",className:Le.button,onClick:function(e){(function(){var e=Object(p.a)({},Te);return e.firstName=u.firstName?"":"First Name is required",e.lastName=u.lastName?"":"Last Name  is required.",e.phone=u.phone?"":"Phone Number  is required.",e.relationshipId=u.relationshipId?"":"Relationship Type is required.",Ae(Object(p.a)({},e)),Object.values(e).every((function(e){return""==e}))})()&&(D([].concat(Object(Ve.a)(C),[u])),m({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}))},children:"Add"})}),Object(le.jsx)("div",{className:"col-1",children:Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"secondary",className:Le.button,onClick:function(){_(!1)},children:"Cancel"})})]})]})})})]}),Object(le.jsx)("div",{className:"row"}),Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"primary",className:Le.button,startIcon:Object(le.jsx)(Aa.a,{}),onClick:function(){_(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Prep  Enrollment"})}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("h2",{children:"PrEP Registration Form"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"uniqueId",children:"Unique Client's ID  * "}),Object(le.jsx)(Je.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:Oa,value:et.uniqueId,required:!0}),""!==Te.uniqueId?Object(le.jsx)("span",{className:Le.error,children:Te.uniqueId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date enrolled in PrEP *"}),Object(le.jsx)(na.DateTimePicker,{time:!1,name:"dateConfirmedHiv",id:"dateConfirmedHiv",value:et.regDate,onChange:function(e){return tt(Object(p.a)(Object(p.a)({},et),{},{dateConfirmedHiv:ne(e).format("YYYY-MM-DD")}))},max:new Date})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"entryPointId",children:"Population Type *"}),Object(le.jsxs)(Je.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:Oa,value:et.entryPointId,required:!0,children:[Object(le.jsx)("option",{value:"",children:" "}),ct.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==Te.entryPointId?Object(le.jsx)("span",{className:Le.error,children:Te.entryPointId}):""]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"entryPointId",children:"Partner Type *"}),Object(le.jsxs)(Je.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:Oa,value:et.entryPointId,required:!0,children:[Object(le.jsx)("option",{value:"",children:" "}),ct.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==Te.entryPointId?Object(le.jsx)("span",{className:Le.error,children:Te.entryPointId}):""]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"HIV Testing Point "}),Object(le.jsxs)(Je.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:Oa,value:et.statusAtRegistrationId,required:!0,children:[Object(le.jsx)("option",{value:"Select",children:" "}),jt.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)})),""!==Te.statusAtRegistrationId?Object(le.jsx)("span",{className:Le.error,children:Te.statusAtRegistrationId}):""]})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date of last HIV Negative test*"}),Object(le.jsx)(na.DateTimePicker,{time:!1,name:"dateConfirmedHiv",id:"dateConfirmedHiv",value:et.regDate,onChange:function(e){return tt(Object(p.a)(Object(p.a)({},et),{},{dateConfirmedHiv:ne(e).format("YYYY-MM-DD")}))},max:new Date})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date Referred for PrEP * "}),Object(le.jsx)(na.DateTimePicker,{time:!1,name:"dateConfirmedHiv",id:"dateConfirmedHiv",value:et.regDate,onChange:function(e){return tt(Object(p.a)(Object(p.a)({},et),{},{dateConfirmedHiv:ne(e).format("YYYY-MM-DD")}))},max:new Date}),""!==Te.sourceOfReferrer?Object(le.jsx)("span",{className:Le.error,children:Te.sourceOfReferrer}):""]})})]})]})]}),T?Object(le.jsx)(kt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:Le.button,startIcon:Object(le.jsx)($e.a,{}),onClick:sa,disabled:B,style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:T?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)(ae.a,{variant:"contained",className:Le.button,startIcon:Object(le.jsx)(At.a,{}),style:{backgroundColor:"#992E62"},onClick:function(){Fe.push({pathname:"/"})},children:Object(le.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})})}),Object(le.jsxs)(Pt.a,{show:Wt,toggle:Ut,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(le.jsx)(Pt.a.Header,{children:Object(le.jsx)(Pt.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(le.jsx)(Pt.a.Body,{children:Object(le.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(le.jsx)(Pt.a.Footer,{children:Object(le.jsx)(ae.a,{onClick:Ut,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})};a(656),a(651),a(650);Da.b.add(Ra.a,Ra.b,Ra.c,Ra.d);var qa=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),za=function(e){var t,a,n=Object(r.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",landmark:"",sexId:"",ninNumber:""}),i=Object(d.a)(n,2),l=i[0],j=i[1],b=Object(r.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}),u=Object(d.a)(b,2),m=u[0],x=u[1],f=Object(r.useState)((new Date).toISOString().substr(0,10).replace("T"," ")),g=Object(d.a)(f,2),I=g[0],C=(g[1],Object(r.useState)([])),D=Object(d.a)(C,2),R=D[0],w=D[1],T=Object(r.useState)(!1),A=Object(d.a)(T,2),P=A[0],B=(A[1],Object(r.useState)(!1)),k=Object(d.a)(B,2),E=k[0],q=k[1],z=Object(r.useState)(!0),Y=Object(d.a)(z,2),L=Y[0],F=Y[1],H=Object(r.useState)(!1),_=Object(d.a)(H,2),M=_[0],W=_[1],V=Object(r.useState)(null),U=Object(d.a)(V,2),G=(U[0],U[1],Object(r.useState)([])),K=Object(d.a)(G,2),X=K[0],Z=K[1],J=Object(r.useState)([]),Q=Object(d.a)(J,2),$=Q[0],ee=Q[1],te=Object(r.useState)([]),re=Object(d.a)(te,2),ce=re[0],ie=re[1],se=Object(r.useState)([]),oe=Object(d.a)(se,2),je=oe[0],be=oe[1],ue=Object(r.useState)([]),me=Object(d.a)(ue,2),he=me[0],Oe=me[1],pe=Object(r.useState)([]),fe=Object(d.a)(pe,2),ge=fe[0],ve=fe[1],ye=Object(r.useState)([]),Ne=Object(d.a)(ye,2),Se=Ne[0],Ie=Ne[1],Ce=Object(r.useState)([]),De=Object(d.a)(Ce,2),Re=De[0],we=De[1],Te=Object(r.useState)({}),Ae=Object(d.a)(Te,2),Pe=Ae[0],Be=Ae[1],ke=Object(r.useState)([]),Ee=Object(d.a)(ke,2),qe=(Ee[0],Ee[1]),ze=Object(r.useState)({person:"",hivEnrollment:""}),Ye=Object(d.a)(ze,2),Le=Ye[0],Fe=(Ye[1],e.location&&e.location.state?e.location.state.user:null),He=qa(),_e=Object(s.g)(),Me=Object(s.h)(),We=Object(r.useState)(!1),Ge=Object(d.a)(We,2),Qe=Ge[0],et=Ge[1],tt=Object(r.useState)({id:"",uniqueId:"",dateOfRegistration:"",entryPointId:"",facilityName:"",statusAtRegistrationId:"",dateConfirmedHiv:"",sourceOfReferrer:"",enrollmentSettingId:"",pregnancyStatusId:"",dateOfLpm:"",tbStatusId:"",targetGroupId:"",ovc_enrolled:"",ovcNumber:"",householdNumber:"",referredToOVCPartner:"",dateReferredToOVCPartner:"",referredFromOVCPartner:"",dateReferredFromOVCPartner:"",careEntryPointOther:""}),at=Object(d.a)(tt,2),rt=at[0],ct=at[1],nt=Object(r.useState)([]),it=Object(d.a)(nt,2),st=it[0],ot=it[1],dt=Object(r.useState)([]),lt=Object(d.a)(dt,2),jt=lt[0],bt=lt[1],ut=Object(r.useState)([]),mt=Object(d.a)(ut,2),ht=mt[0],Ot=mt[1],pt=Object(r.useState)([]),xt=Object(d.a)(pt,2),ft=xt[0],gt=xt[1],vt=Object(r.useState)([]),yt=Object(d.a)(vt,2),Nt=yt[0],St=yt[1],It=Object(r.useState)([]),Ct=Object(d.a)(It,2),Dt=Ct[0],Rt=Ct[1],wt=Object(r.useState)([]),Tt=Object(d.a)(wt,2),Bt=(Tt[0],Tt[1],Object(r.useState)([])),Et=Object(d.a)(Bt,2),qt=Et[0],zt=Et[1],Yt=Object(r.useState)(!1),Lt=Object(d.a)(Yt,2),Ft=Lt[0],Ht=Lt[1],_t=Object(r.useState)(!1),Mt=Object(d.a)(_t,2),Wt=Mt[0],Vt=Mt[1],Ut=Object(r.useState)("false"),Gt=Object(d.a)(Ut,2),Kt=Gt[0],Xt=(Gt[1],c.a.useState(!1)),Zt=Object(d.a)(Xt,2),Jt=Zt[0],Qt=Zt[1],$t=function(){return Qt(!Jt)},ea=Me.state;t=ea?ea.patientId:null,a=ea?ea.patientObj:{},Object(r.useEffect)((function(){if(aa(),ta(),ra(),ca(),na(),ia(),sa(),xa(),fa(),ga(),va(),ya(),Na(),Sa(),oa(),a){var e=a&&a.contact?a.contact:[],t=[];e.contact&&e.contact.length>0&&e.contact.map((function(e){var a={address:e.address.line[0],phone:e.contactPoint.value,firstName:e.firstName,email:"",relationshipId:e.relationshipId,lastName:e.surname,middleName:e.otherName};t.push(a)}));w(t);var r=a.identifier,c=a.address,n=a.contactPoint,i=r.identifier.find((function(e){return"HospitalNumber"===e.type})),s=n.contactPoint.find((function(e){return"phone"===e.type})),o=n.contactPoint.find((function(e){return"email"===e.type})),d=n.contactPoint.find((function(e){return"altphone"===e.type})),j=c&&c.address&&c.address.length>0?c.address[0]:null;l.dob=a.dateOfBirth,l.firstName=a.firstName,l.dateOfRegistration=a.dateOfRegistration,l.middleName=a.otherName,l.lastName=a.surname,l.hospitalNumber=i&&i?i.value:"",ct(Object(p.a)(Object(p.a)({},rt),{},{uniqueId:i?i.value:""})),l.maritalStatusId=a&&a.maritalStatus?a.maritalStatus.id:"",l.employmentStatusId=a&&a.employmentStatus?a.employmentStatus.id:"",l.genderId=a&&a.gender?a.gender.id:null,l.educationId=a&&a.education?a.education.id:"",l.phoneNumber=s&&s.value?s.value:"",l.altPhonenumber=d&&d.value?d.value:"",l.email=o&&o.value?o.value:"",l.address=j&&j.city?j.city:"",l.landmark=j.line&&j.line.length>0?j.line[0]:"",l.countryId=j&&j.countryId?j.countryId:"",da(j.countryId),u=j&&j.stateId?j.stateId:"",v.a.get("".concat(y,"organisation-units/parent-organisation-units/").concat(u),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){we(e.data)})).catch((function(e){})),l.stateId=j&&j.stateId?j.stateId:"",l.district=j&&j.district?j.district:"";var b=la(ne(a.dateOfBirth).format("DD-MM-YYYY"));l.age=b,et("Female"===a.sex),a.age<=14&&Vt(!0),l.ninNumber=a.ninNumber}var u;l.dateOfRegistration<l.dob&&alert("Date of registration can not be earlier than date of birth")}),[a,t,l.dateOfRegistration]);var ta=function(){v.a.get("".concat(y,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){var t=e.data.find((function(e){return e.display===a.sex}));l.sexId=t.display})).catch((function(e){}))},aa=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,Z(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),ra=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,ee(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),ca=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,ie(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),na=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,be(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),ia=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,Oe(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),sa=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(y,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(N)}});case 2:t=e.sent,qe(t.data);case 4:case"end":return e.stop()}}),e)}))),[]),oa=function(){v.a.get("".concat(y,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){ve(e.data)})).catch((function(e){}))};function da(e){v.a.get("".concat(y,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){Ie(e.data)})).catch((function(e){}))}var la=function(e){var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),c=new Date(r),n=t.getFullYear()-c.getFullYear(),i=t.getMonth()-c.getMonth();return(i<0||0===i&&t.getDate()<c.getDate())&&n--,0===n?i+" month(s)":n};var ja=function(e){"Actual"==e.target.value?F(!0):"Estimated"==e.target.value&&F(!1)},ba=function(){var e=Object(p.a)({},Pe);return e.firstName=l.firstName?"":"First Name is required",e.hospitalNumber=l.hospitalNumber?"":"Hospital Number  is required.",e.lastName=l.lastName?"":"Last Name  is required.",e.sexId=l.sexId?"":"Sex is required.",e.dateOfRegistration1=l.dateOfRegistration?"":"Date of Registration is required.",e.educationId=l.educationId?"":"Education is required.",e.address=l.address?"":"Address is required.",e.phoneNumber=l.phoneNumber?"":"Phone Number  is required.",e.countryId=l.countryId?"":"Country is required.",e.stateId=l.stateId?"":"State is required.",e.district=l.district?"":"Province/LGA is required.",e.targetGroupId=rt.targetGroupId?"":"Target group is required.",e.dateConfirmedHiv=rt.dateConfirmedHiv?"":"date confirm HIV is required.",e.sourceOfReferrer=rt.sourceOfReferrer?"":"Source of referrer is required.",e.enrollmentSettingId=rt.enrollmentSettingId?"":"Enrollment Setting Number  is required.",e.tbStatusId=rt.tbStatusId?"":"TB status is required.",e.statusAtRegistrationId=rt.statusAtRegistrationId?"":"Status at Registration is required.",e.entryPointId=rt.entryPointId?"":"Care Entry Point is required.",e.dateOfRegistration=rt.dateOfRegistration?"":"Date of Registration is required.",e.uniqueId=rt.uniqueId?"":"Unique ID is required.",Be(Object(p.a)({},e)),Object.values(e).every((function(e){return""==e}))},ua=function(e){if(Be(Object(p.a)(Object(p.a)({},Pe),{},Object(Ue.a)({},e.target.name,""))),j(Object(p.a)(Object(p.a)({},l),{},Object(Ue.a)({},e.target.name,e.target.value))),"sexId"===e.target.name&&"Female"===e.target.value&&et(!0),"firstName"===e.target.name&&""!==e.target.value){var t=pa(e.target.value);j(Object(p.a)(Object(p.a)({},l),{},Object(Ue.a)({},e.target.name,t)))}if("lastName"===e.target.name&&""!==e.target.value){var a=pa(e.target.value);j(Object(p.a)(Object(p.a)({},l),{},Object(Ue.a)({},e.target.name,a)))}if("middleName"===e.target.name&&""!==e.target.value){var r=pa(e.target.value);j(Object(p.a)(Object(p.a)({},l),{},Object(Ue.a)({},e.target.name,r)))}if("ninNumber"===e.target.name&&""!==e.target.value){var c=ma(e.target.value);j(Object(p.a)(Object(p.a)({},l),{},Object(Ue.a)({},e.target.name,c)))}},ma=function(e){return e.slice(0,11)},ha=function(e){var t=he.find((function(t){return t.id==e}));return t?t.display:""},Oa=function(e){x(Object(p.a)(Object(p.a)({},m),{},Object(Ue.a)({},e.target.name,e.target.value)))},pa=function(e){return e.replace(/[^a-z]/gi,"")},xa=function(){v.a.get("".concat(y,"application-codesets/v2/POINT_ENTRY"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){ot(e.data)})).catch((function(e){}))},fa=function(){v.a.get("".concat(y,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){bt(e.data)})).catch((function(e){}))},ga=function(){v.a.get("".concat(y,"application-codesets/v2/HIV_STATUS_ENROL"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){Ot(e.data)})).catch((function(e){}))},va=function(){v.a.get("".concat(y,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){gt(e.data)})).catch((function(e){}))},ya=function(){v.a.get("".concat(y,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){St(e.data)})).catch((function(e){}))},Na=function(){v.a.get("".concat(y,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){Rt(e.data)})).catch((function(e){}))},Sa=function(){v.a.get("".concat(y,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){zt(e.data)})).catch((function(e){}))},Ia=function(e){Be(Object(p.a)(Object(p.a)({},Pe),{},Object(Ue.a)({},e.target.name,""))),ct(Object(p.a)(Object(p.a)({},rt),{},Object(Ue.a)({},e.target.name,e.target.value))),"entryPointId"===e.target.name&&("21"===e.target.value?Ht(!0):Ht(!1)),"pregnancyStatusId"===e.target.name&&("72"===e.target.value?Ht(!0):Ht(!1))},Da=function(e,t){Be(Object(p.a)(Object(p.a)({},Pe),{},Object(Ue.a)({},t,""))),j(Object(p.a)(Object(p.a)({},l),{},Object(Ue.a)({},t,e.slice(0,10))))},Ra=function(){var e=Object(O.a)(Object(h.a)().mark((function e(a){var r,c,n,i,s,d,j;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),r=X.find((function(e){return e.display===l.sexId})),l.sexId=r&&r.id?r.id:"",c=[],R&&R.length>0&&R.map((function(e){var t={address:{line:[e.address]},contactPoint:{type:"phone",value:e.phone},firstName:e.firstName,fullName:e.firstName+" "+e.middleName+" "+e.lastName,relationshipId:e.relationshipId,surname:e.lastName,otherName:e.middleName};c.push(t)})),!ba()){e.next=26;break}return e.prev=6,n={id:"",active:!0,address:[{city:l.address,countryId:l.countryId,district:l.district,line:[l.landmark],organisationUnitId:0,postalCode:"",stateId:l.stateId}],contact:c,contactPoint:[],dateOfBirth:l.dob,deceased:!1,deceasedDateTime:null,firstName:l.firstName,genderId:l.sexId,sexId:l.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:l.hospitalNumber}],otherName:l.middleName,maritalStatusId:l.maritalStatusId,surname:l.lastName,educationId:l.educationId,employmentStatusId:l.employmentStatusId,dateOfRegistration:l.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=l.dateOfBirth,ninNumber:l.ninNumber},i={type:"phone",value:l.phoneNumber},l.email&&(s={type:"email",value:l.email},n.contactPoint.push(s)),l.altPhonenumber&&(d={type:"altphone",value:l.altPhonenumber},n.contactPoint.push(d)),n.contactPoint.push(i),n.id=t,Le.person=n,Le.hivEnrollment=rt,e.next=17,v.a.post("".concat(y,"hiv/patient"),Le,{headers:{Authorization:"Bearer ".concat(N)}});case 17:e.sent,o.b.success("Patient Register successful"),_e.push("/"),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(6),j=e.t0.response.data&&""!==e.t0.response.data.apierror.message?e.t0.response.data.apierror.message:"An error occured while registering a patient !",o.b.error(j,{position:o.b.POSITION.TOP_RIGHT});case 26:case"end":return e.stop()}}),e,null,[[6,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"row page-titles mx-0",style:{marginTop:"0px",marginBottom:"-10px"},children:Object(le.jsx)("ol",{className:"breadcrumb",children:Object(le.jsx)("li",{className:"breadcrumb-item active",children:Object(le.jsxs)("h4",{children:[" ",Object(le.jsx)(S.b,{to:"/",children:"HIV /"})," Patient Enrollment"]})})})}),Object(le.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(le.jsx)(xe.a,{className:He.cardBottom,children:Object(le.jsxs)(wa.a,{children:[Object(le.jsx)(S.b,{to:{pathname:"/",state:"users"},children:Object(le.jsx)(ae.a,{variant:"contained",color:"primary",className:" float-end ms-1",style:{backgroundColor:"#014d88",fontWeight:"bolder"},startIcon:Object(le.jsx)(de.a,{}),children:Object(le.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Back "})})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(le.jsxs)(Ke.a,{children:[Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:null===Fe?"Basic Information":"Edit User Information"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsxs)("div",{className:"basic-form",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"dateOfRegistration",children:"Date of Registration* "}),Object(le.jsx)(Je.a,{className:"form-control",type:"date",name:"dateOfRegistration",min:"1983-12-31",max:ne(new Date).format("YYYY-MM-DD"),id:"dateOfRegistration",value:l.dateOfRegistration,onChange:ua,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Pe.dateOfRegistration1?Object(le.jsx)("span",{className:He.error,children:Pe.dateOfRegistration1}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"patientId",children:"Hospital Number* "}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:l.hospitalNumber,onChange:ua,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Pe.hospitalNumber?Object(le.jsx)("span",{className:He.error,children:Pe.hospitalNumber}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"patientId",children:"EMR Number* "}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"emrNumber",id:"emrNumber",disabled:"true",value:1094328,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"firstName",children:"First Names *"}),Object(le.jsx)(Je.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:l.firstName,onChange:ua,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Pe.firstName?Object(le.jsx)("span",{className:He.error,children:Pe.firstName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Middle Name"}),Object(le.jsx)(Je.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:l.middleName,onChange:ua,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Last Name *"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:l.lastName,onChange:ua,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Pe.lastName?Object(le.jsx)("span",{className:He.error,children:Pe.lastName}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Sex *"}),Object(le.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:ua,value:l.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),X.map((function(e,t){return Object(le.jsx)("option",{value:e.display,children:e.display},e.id)}))]}),""!==Pe.sexId||null!==Pe.sexId?Object(le.jsx)("span",{className:He.error,children:Pe.sexId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date Of Birth"}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return ja(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return ja(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date"}),Object(le.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",min:"1940-01-01",max:l.dateOfRegistration,value:l.dob,onChange:function(e){if(e.target.value){var t=new Date,a=new Date(e.target.value),r=t.getFullYear()-a.getFullYear(),c=t.getMonth()-a.getMonth();c<18?(alert("The child is less than 18months"),q(!0)):q(!1),(c<0||0===c&&t.getDate()<a.getDate())&&r--,l.age=r}else j(Object(p.a)(Object(p.a)({},l),{},{age:""}));j(Object(p.a)(Object(p.a)({},l),{},{dob:e.target.value})),""!==l.age&&l.age>=60&&$t()},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Age"}),Object(le.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:l.age,disabled:L,onChange:function(e){if(!L&&e.target.value){""!==e.target.value&&e.target.value>=60&&$t(),e.target.value<=1?q(!0):q(!1);var t=new Date;t.setDate(15),t.setMonth(5);var a=ne(t.toISOString()).add(-1*e.target.value,"years");l.dob=ne(a).format("YYYY-MM-DD")}j(Object(p.a)(Object(p.a)({},l),{},{age:Math.abs(e.target.value)}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Marital Status"}),Object(le.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:ua,value:l.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),$.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Employment Status *"}),Object(le.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:ua,value:l.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),je.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Pe.employmentStatusId?Object(le.jsx)("span",{className:He.error,children:Pe.employmentStatusId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Education Level *"}),Object(le.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:ua,value:l.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),ce.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Pe.educationId?Object(le.jsx)("span",{className:He.error,children:Pe.educationId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"ninNumber",children:"National Identity Number (NIN)  "}),Object(le.jsx)("input",{className:"form-control",type:"number",name:"ninNumber",id:"ninNumber",value:l.ninNumber,onChange:ua,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Phone Number *"}),Object(le.jsx)(Ba.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"phoneNumber",id:"phoneNumber",value:l.phoneNumber,onChange:function(e){Da(e,"phoneNumber")}}),""!==Pe.phoneNumber||null!==Pe.phoneNumber?Object(le.jsx)("span",{className:He.error,children:Pe.phoneNumber}):""]})}),Object(le.jsx)("div",{className:"form-group col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Alt. Phone Number"}),Object(le.jsx)(Ba.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",value:l.altPhonenumber,onChange:function(e){Da(e,"altPhonenumber")}})]})}),Object(le.jsx)("div",{className:"form-group col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Email"}),Object(le.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:ua,value:l.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Country *"}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:l.countryId,onChange:function(e){var t=e.target.value;da(t),j(Object(p.a)(Object(p.a)({},l),{},{countryId:t}))},children:[Object(le.jsx)("option",{value:"",children:"Select"}),ge.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==Pe.countryId?Object(le.jsx)("span",{className:He.error,children:Pe.countryId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"State *"}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:l.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:function(e){var t=e.target.value;Be(Object(p.a)(Object(p.a)({},Pe),{},Object(Ue.a)({},e.target.name,""))),j(Object(p.a)(Object(p.a)({},l),{},{stateId:e.target.value})),v.a.get("".concat(y,"organisation-units/parent-organisation-units/").concat(t),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){we(e.data)})).catch((function(e){}))},children:[Object(le.jsx)("option",{value:"",children:"Select"}),Se.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==Pe.stateId?Object(le.jsx)("span",{className:He.error,children:Pe.stateId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Province/District/LGA *"}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:l.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:ua,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Re.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==Pe.district?Object(le.jsx)("span",{className:He.error,children:Pe.district}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Street Address*"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:l.address,onChange:ua,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Pe.address?Object(le.jsx)("span",{className:He.error,children:Pe.address}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Landmark"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",value:l.landmark,onChange:ua,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[R&&R.length>0&&Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(le.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(le.jsx)("thead",{className:"mb-3",children:Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{children:"Relationship Type"}),Object(le.jsx)("th",{children:"Name"}),Object(le.jsx)("th",{children:"Phone"}),Object(le.jsx)("th",{children:"Address"}),Object(le.jsx)("th",{children:"Actions"})]})}),Object(le.jsx)("tbody",{className:"mb-3",children:R.map((function(e,t){return Object(le.jsxs)("tr",{className:"mb-3",children:[Object(le.jsx)("td",{children:ha(e.relationshipId)}),Object(le.jsx)("td",{children:e.firstName+" "+e.middleName+" "+e.lastName}),Object(le.jsx)("td",{children:e.phone}),Object(le.jsx)("td",{children:e.address}),Object(le.jsxs)("td",{children:[Object(le.jsx)("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:function(){return function(e,t){x(e),W(!0),R.splice(t,1)}(e,t)},children:Object(le.jsx)(Ca.a,{icon:"edit"})}),"\xa0\xa0",Object(le.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:function(e){return function(e){R.splice(e,1),w(Object(Ve.a)(R))}(t)},children:Object(le.jsx)(Ca.a,{icon:"trash"})})]})]},e.index)}))})]})}),Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:M&&Object(le.jsx)("div",{className:"card",children:Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"relationshipType",children:"Relationship Type *"}),Object(le.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:m.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Oa,children:[Object(le.jsx)("option",{value:"",children:"Select"}),he.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Pe.relationshipId?Object(le.jsx)("span",{className:He.error,children:Pe.relationshipId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"cfirstName",children:"First Name *"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:m.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Oa}),""!==Pe.firstName?Object(le.jsx)("span",{className:He.error,children:Pe.firstName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Middle Name"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:m.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Oa})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Last Name *"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:m.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Oa}),""!==Pe.lastName?Object(le.jsx)("span",{className:He.error,children:Pe.lastName}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(le.jsx)(Ba.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",name:"phone",value:m.phone,id:"phone",onChange:function(e){!function(e,t){x(Object(p.a)(Object(p.a)({},m),{},Object(Ue.a)({},t,e.slice(0,10))))}(e.slice(0,10),"phone")}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"contactEmail",children:"Email"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"email",id:"email",value:m.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Oa})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"contactAddress",children:"Address"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:m.address,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Oa})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-1",children:Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"primary",className:He.button,onClick:function(e){(function(){var e=Object(p.a)({},Pe);return e.firstName=m.firstName?"":"First Name is required",e.lastName=m.lastName?"":"Last Name  is required.",e.relationshipId=m.relationshipId?"":"Relationship Type is required.",Be(Object(p.a)({},e)),Object.values(e).every((function(e){return""==e}))})()&&w([].concat(Object(Ve.a)(R),[m]))},children:"Add"})}),Object(le.jsx)("div",{className:"col-1",children:Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"secondary",className:He.button,onClick:function(){W(!1)},children:"Cancel"})})]})]})})})]}),Object(le.jsx)("div",{className:"row"}),Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"primary",className:He.button,startIcon:Object(le.jsx)(Aa.a,{}),onClick:function(){W(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"HIV Enrollment"})}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"uniqueId",children:"Unique ID No  * "}),Object(le.jsx)(Je.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:Ia,value:rt.uniqueId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:!0}),""!==Pe.uniqueId?Object(le.jsx)("span",{className:He.error,children:Pe.uniqueId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"dateOfRegistration",children:"Date of Enrollment * "}),Object(le.jsx)(Je.a,{type:"date",name:"dateOfRegistration",id:"dateOfRegistration",min:l.dateOfRegistration,max:ne(new Date).format("YYYY-MM-DD"),onChange:Ia,value:rt.dateOfRegistration,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Pe.dateOfRegistration?Object(le.jsx)("span",{className:He.error,children:Pe.dateOfRegistration}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"entryPointId",children:"Care Entry Point * "}),Object(le.jsxs)(Je.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:Ia,value:rt.entryPointId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:" "}),st.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Pe.entryPointId?Object(le.jsx)("span",{className:He.error,children:Pe.entryPointId}):""]})}),Object(le.jsxs)("div",{className:"form-group mb-3 col-md-6",children:[!0===Ft?Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Facility Name"}),Object(le.jsx)(Je.a,{type:"text",name:"facilityName",id:"facilityName",onChange:Ia,value:rt.facilityName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]}):"","24"===rt.entryPointId?Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Care Entry Point (Others)"}),Object(le.jsx)(Je.a,{type:"text",name:"careEntryPointOther",id:"careEntryPointOther",onChange:Ia,value:rt.careEntryPointOther,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]}):""]}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"HIV Status at Registration *"}),Object(le.jsxs)(Je.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:Ia,value:rt.statusAtRegistrationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:" Select"}),ht.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Pe.statusAtRegistrationId?Object(le.jsx)("span",{className:He.error,children:Pe.statusAtRegistrationId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date of Confirmed HIV Test *"}),Object(le.jsx)(Je.a,{type:"date",name:"dateConfirmedHiv",id:"dateConfirmedHiv",min:l.dob,max:rt.dateOfRegistration,onChange:Ia,value:rt.dateConfirmedHiv,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==Pe.dateConfirmedHiv?Object(le.jsx)("span",{className:He.error,children:Pe.dateConfirmedHiv}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Source of Referral *"}),Object(le.jsxs)(Je.a,{type:"select",name:"sourceOfReferrer",id:"sourceOfReferrer",value:rt.sourceOfReferrer,onChange:Ia,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:"Select "}),jt.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Pe.sourceOfReferrer?Object(le.jsx)("span",{className:He.error,children:Pe.sourceOfReferrer}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Enrollment Setting *"}),Object(le.jsxs)(Je.a,{type:"select",name:"enrollmentSettingId",id:"enrollmentSettingId",value:rt.enrollmentSettingId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ia,required:!0,children:[Object(le.jsx)("option",{value:"",children:" Select"}),ft.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Pe.enrollmentSettingId?Object(le.jsx)("span",{className:He.error,children:Pe.enrollmentSettingId}):""]})}),Qe&&l.age>9&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:" Pregnancy "}),Object(le.jsxs)(Je.a,{type:"select",name:"pregnancyStatusId",id:"pregnancyStatusId",value:rt.pregnancyStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:Ia,children:[Object(le.jsx)("option",{value:"",children:"Select "}),qt.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),"72"!==rt.pregnancyStatusId&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date of LMP "}),Object(le.jsx)(Je.a,{type:"date",name:"dateOfLpm",id:"dateOfLpm",max:I,onChange:Ia,value:rt.dateOfLpm,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0})]})})})]}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"TB Status * "}),Object(le.jsxs)(Je.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:rt.tbStatusId,onChange:Ia,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},required:!0,children:[Object(le.jsx)("option",{value:"",children:" Select"}),Nt.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Pe.tbStatusId?Object(le.jsx)("span",{className:He.error,children:Pe.tbStatusId}):""]})}),"false"===Kt?Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Target Group *"}),Object(le.jsxs)(Je.a,{type:"select",name:"targetGroupId",id:"targetGroupId",value:rt.targetGroupId,onChange:Ia,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:" Select"}),Dt.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==Pe.targetGroupId?Object(le.jsx)("span",{className:He.error,children:Pe.targetGroupId}):""]})}):"",l.age<=14&&Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)("div",{className:"form-check custom-checkbox ml-1 ",children:[Object(le.jsx)("input",{type:"checkbox",className:"form-check-input",name:"ovc_enrolled",id:"ovc_enrolled",onChange:function(e){e.target.checked?Vt(!0):Vt(!1)}}),Object(le.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:"Enrolled into OVC?"})]})}),!0===Wt&&Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Household Unique Number"}),Object(le.jsx)(Je.a,{type:"text",name:"householdNumber",id:"householdNumber",required:Wt,onChange:Ia,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:rt.householdNumber})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Referred To OVC Partner"}),Object(le.jsx)(Je.a,{type:"text",name:"referredToOVCPartner",id:"referredToOVCPartner",required:Wt,onChange:Ia,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:rt.referredToOVCPartner})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date Referred To OVC Partner"}),Object(le.jsx)(Je.a,{type:"date",name:"dateReferredToOVCPartner",id:"dateReferredToOVCPartner",min:l.dob,max:rt.dateOfRegistration,onChange:Ia,value:rt.dateReferredToOVCPartner,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Referred From OVC Partner"}),Object(le.jsx)(Je.a,{type:"text",name:"referredFromOVCPartner",id:"referredFromOVCPartner",required:Wt,onChange:Ia,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:rt.referredFromOVCPartner})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date Referred From OVC Partner"}),Object(le.jsx)(Je.a,{type:"date",name:"dateReferredFromOVCPartner",id:"dateReferredFromOVCPartner",min:l.dob,max:rt.dateOfRegistration,onChange:Ia,value:rt.dateReferredFromOVCPartner,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]})]})]}),P?Object(le.jsx)(kt.a,{}):"",Object(le.jsx)("br",{}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:He.button,startIcon:Object(le.jsx)($e.a,{}),disabled:E,onClick:Ra,children:P?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Saving..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Save"})}),Object(le.jsx)(ae.a,{variant:"contained",className:He.button,startIcon:Object(le.jsx)(At.a,{}),onClick:function(){_e.push({pathname:"/"})},style:{backgroundColor:"#992E62"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]})})]})}),Object(le.jsxs)(Pt.a,{show:Jt,toggle:$t,className:"fade",size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,backdrop:"static",children:[Object(le.jsx)(Pt.a.Header,{children:Object(le.jsx)(Pt.a.Title,{id:"contained-modal-title-vcenter",children:"Notification!"})}),Object(le.jsx)(Pt.a.Body,{children:Object(le.jsx)("h4",{children:"Are you Sure of the Age entered?"})}),Object(le.jsx)(Pt.a.Footer,{children:Object(le.jsx)(ae.a,{onClick:$t,style:{backgroundColor:"#014d88",color:"#fff"},children:"Yes"})})]})]})};Da.b.add(Ra.a,Ra.b,Ra.c,Ra.d);var Ya=Object(te.a)((function(e){return{card:{margin:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},cardBottom:{marginBottom:20},Select:{height:45,width:300},button:{margin:e.spacing(1)},root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.default},inline:{display:"inline"},error:{color:"#f85032",fontSize:"12.8px"}}})),La=function(e){console.log(e);var t,a,c=Object(r.useState)({active:!0,address:[],contact:[],contactPoint:[],dateOfBirth:"",deceased:!1,deceasedDateTime:null,firstName:"",genderId:"",identifier:"",otherName:"",maritalStatusId:"",educationId:"",employmentStatusId:"",dateOfRegistration:"",isDateOfBirthEstimated:null,age:"",phoneNumber:"",altPhonenumber:"",dob:"",countryId:"",stateId:"",district:"",landmark:"",sexId:"",ninNumber:""}),n=Object(d.a)(c,2),i=n[0],l=n[1],j=Object(r.useState)({address:"",phone:"",firstName:"",email:"",relationshipId:"",lastName:"",middleName:""}),b=Object(d.a)(j,2),u=b[0],m=b[1],x=Object(r.useState)((new Date).toISOString().substr(0,10).replace("T"," ")),f=Object(d.a)(x,2),g=f[0],I=(f[1],Object(r.useState)([])),C=Object(d.a)(I,2),D=C[0],R=C[1],w=Object(r.useState)(!1),T=Object(d.a)(w,2),A=T[0],P=(T[1],Object(r.useState)(!0)),B=Object(d.a)(P,2),k=B[0],E=B[1],q=Object(r.useState)(!1),z=Object(d.a)(q,2),Y=z[0],L=z[1],F=Object(r.useState)(null),H=Object(d.a)(F,2),_=(H[0],H[1],Object(r.useState)([])),M=Object(d.a)(_,2),W=M[0],V=M[1],U=Object(r.useState)([]),G=Object(d.a)(U,2),K=G[0],X=G[1],Z=Object(r.useState)([]),J=Object(d.a)(Z,2),Q=J[0],$=J[1],ee=Object(r.useState)([]),te=Object(d.a)(ee,2),re=te[0],ce=te[1],ie=Object(r.useState)([]),se=Object(d.a)(ie,2),oe=se[0],je=se[1],be=Object(r.useState)([]),ue=Object(d.a)(be,2),me=ue[0],he=ue[1],Oe=Object(r.useState)([]),pe=Object(d.a)(Oe,2),fe=pe[0],ge=pe[1],ve=Object(r.useState)([]),ye=Object(d.a)(ve,2),Ne=ye[0],Se=ye[1],Ie=Object(r.useState)({}),Ce=Object(d.a)(Ie,2),De=Ce[0],Re=Ce[1],we=Object(r.useState)([]),Te=Object(d.a)(we,2),Ae=(Te[0],Te[1]),Pe=Object(r.useState)({person:"",hivEnrollment:""}),Be=Object(d.a)(Pe,2),ke=Be[0],Ee=(Be[1],e.location&&e.location.state&&e.location.state.user,Ya()),qe=Object(s.g)(),ze=Object(s.h)(),Ye=Object(r.useState)(!1),Le=Object(d.a)(Ye,2),Fe=Le[0],He=Le[1],_e=Object(r.useState)({id:"",uniqueId:"",dateOfRegistration:"",entryPointId:"",facilityName:"",statusAtRegistrationId:"",dateConfirmedHiv:"",sourceOfReferrerId:"",enrollmentSettingId:"",pregnancyStatusId:"",dateOfLpm:"",tbStatusId:"",targetGroupId:"",ovc_enrolled:"",ovcNumber:"",householdNumber:"",referredToOVCPartner:"",dateReferredToOVCPartner:"",referredFromOVCPartner:"",dateReferredFromOVCPartner:"",careEntryPointOther:""}),Me=Object(d.a)(_e,2),We=Me[0],Ge=Me[1],Qe=Object(r.useState)([]),et=Object(d.a)(Qe,2),tt=et[0],at=et[1],rt=Object(r.useState)([]),ct=Object(d.a)(rt,2),nt=ct[0],it=ct[1],st=Object(r.useState)([]),ot=Object(d.a)(st,2),dt=ot[0],lt=ot[1],jt=Object(r.useState)([]),bt=Object(d.a)(jt,2),ut=bt[0],mt=bt[1],ht=Object(r.useState)([]),Ot=Object(d.a)(ht,2),pt=Ot[0],xt=Ot[1],ft=Object(r.useState)([]),gt=Object(d.a)(ft,2),vt=gt[0],yt=gt[1],Nt=Object(r.useState)([]),St=Object(d.a)(Nt,2),It=St[0],Ct=St[1],Dt=Object(r.useState)(!1),Rt=Object(d.a)(Dt,2),wt=Rt[0],Tt=Rt[1],Pt=Object(r.useState)(!1),Bt=Object(d.a)(Pt,2),Et=Bt[0],qt=Bt[1],zt=Object(r.useState)("false"),Yt=Object(d.a)(zt,2),Lt=Yt[0],Ft=(Yt[1],ze.state);t=Ft?Ft.patientId:null,a=Ft?Ft.patientObj:{};var Ht=Object(r.useState)(!1),_t=Object(d.a)(Ht,2),Mt=_t[0],Wt=_t[1],Vt=Object(r.useState)(!1),Ut=Object(d.a)(Vt,2),Gt=Ut[0],Kt=Ut[1];Object(r.useEffect)((function(){if(Xt(),Zt(),Jt(),Qt(),$t(),ea(),ja(),ba(),ua(),ma(),ha(),Oa(),pa(),ta(),a){var e=a.contact?a.contact:[],t=[];e.contact&&e.contact.length>0&&e.contact.map((function(e){var a={address:e.address.line[0],phone:e.contactPoint.value,firstName:e.firstName,email:"",relationshipId:e.relationshipId,lastName:e.surname,middleName:e.otherName};t.push(a)}));R(t);var r=a.identifier,c=a.address,n=a.contactPoint,s=r.identifier.find((function(e){return"HospitalNumber"==e.type})),o=n.contactPoint.find((function(e){return"phone"==e.type})),d=n.contactPoint.find((function(e){return"email"==e.type})),l=n.contactPoint.find((function(e){return"altphone"==e.type})),j=c&&c.address&&c.address.length>0?c.address[0]:null;i.dob=a.dateOfBirth,i.firstName=a.firstName,i.dateOfRegistration=a.dateOfRegistration,i.middleName=a.otherName,i.lastName=a.surname,i.hospitalNumber=s?s.value:"",i.maritalStatusId=a.maritalStatus.id,i.employmentStatusId=a.employmentStatus.id,i.genderId=a.gender?a.gender.id:null,i.sexId=a.sex,i.educationId=a.education.id,i.phoneNumber=o&&o.value?o.value:"",i.altPhonenumber=l&&l.value?l.value:"",i.email=d&&d.value?d.value:"",i.address=j&&j.city?j.city:"",i.landmark=j.line[0],i.countryId=j.countryId,ra(j.countryId),u=j.stateId,v.a.get("".concat(y,"organisation-units/parent-organisation-units/").concat(u),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){Se(e.data)})).catch((function(e){})),i.stateId=j.stateId,i.district=j.district,Ge(a.enrollment);var b=aa(ne(a.dateOfBirth).format("DD-MM-YYYY"));i.age=b,He("Female"===a.sex),i.ninNumber=a.ninNumber}var u;i.dateOfRegistration<i.dob&&alert("Date of registration can not be earlier than date of birth")}),[a,t,i.dateOfRegistration]);var Xt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/SEX"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,V(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Zt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/MARITAL_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,X(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Jt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/EDUCATION"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,$(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),Qt=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/OCCUPATION"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,ce(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),$t=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("".concat(y,"application-codesets/v2/RELATIONSHIP"),{headers:{Authorization:"Bearer ".concat(N)}});case 3:t=e.sent,je(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),ea=Object(r.useCallback)(Object(O.a)(Object(h.a)().mark((function e(){var t;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("".concat(y,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(N)}});case 2:t=e.sent,Ae(t.data);case 4:case"end":return e.stop()}}),e)}))),[]),ta=function(){v.a.get("".concat(y,"organisation-units/parent-organisation-units/0"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){he(e.data)})).catch((function(e){}))},aa=function(e){var t=new Date,a=e.split("-"),r=new Date(+a[2],a[1]-1,+a[0]),c=new Date(r),n=t.getFullYear()-c.getFullYear(),i=t.getMonth()-c.getMonth();return(i<0||0===i&&t.getDate()<c.getDate())&&n--,0===n?i+" month(s)":n};function ra(e){v.a.get("".concat(y,"organisation-units/parent-organisation-units/").concat(e),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){ge(e.data)})).catch((function(e){}))}var ca=function(e){"Actual"==e.target.value?E(!0):"Estimated"==e.target.value&&E(!1)},na=function(e){if(l(Object(p.a)(Object(p.a)({},i),{},Object(Ue.a)({},e.target.name,e.target.value))),"sexId"===e.target.name&&"Female"===e.target.value&&He(!0),"firstName"===e.target.name&&""!==e.target.value){var t=la(e.target.value);l(Object(p.a)(Object(p.a)({},i),{},Object(Ue.a)({},e.target.name,t)))}if("lastName"===e.target.name&&""!==e.target.value){var a=la(e.target.value);l(Object(p.a)(Object(p.a)({},i),{},Object(Ue.a)({},e.target.name,a)))}if("middleName"===e.target.name&&""!==e.target.value){var r=la(e.target.value);l(Object(p.a)(Object(p.a)({},i),{},Object(Ue.a)({},e.target.name,r)))}if("hospitalNumber"===e.target.name&&""!==e.target.value){var c=function(){var t=Object(O.a)(Object(h.a)().mark((function t(){var a;return Object(h.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.target.value,t.next=3,v.a.post("".concat(y,"patient/exist/hospital-number"),a,{headers:{Authorization:"Bearer ".concat(N),"Content-Type":"text/plain"}});case 3:!0!==t.sent.data?(Wt(!1),Ge(Object(p.a)(Object(p.a)({},We),{},{uniqueId:e.target.value})),Kt(!0)):(Wt(!1),Kt(!0));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();c()}},ia=function(e){var t=oe.find((function(t){return t.id==e}));return t?t.display:""},sa=function(e){m(Object(p.a)(Object(p.a)({},u),{},Object(Ue.a)({},e.target.name,e.target.value)))},oa=function(){var e=Object(p.a)({},De);return e.firstName=i.firstName?"":"First Name is required",e.hospitalNumber=i.hospitalNumber?"":"Hospital Number  is required.",e.lastName=i.lastName?"":"Last Name  is required.",e.sexId=i.sexId?"":"Sex is required.",e.dateOfRegistration1=i.dateOfRegistration?"":"Date of Registration is required.",e.educationId=i.educationId?"":"Education is required.",e.address=i.address?"":"Address is required.",e.phoneNumber=i.phoneNumber?"":"Phone Number  is required.",e.countryId=i.countryId?"":"Country is required.",e.stateId=i.stateId?"":"State is required.",e.district=i.district?"":"Province/LGA is required.",e.targetGroupId=We.targetGroupId?"":"Target group is required.",e.dateConfirmedHiv=We.dateConfirmedHiv?"":"date confirm HIV is required.",e.sourceOfReferrerId=We.sourceOfReferrerId?"":"Source of referrer is required.",e.enrollmentSettingId=We.enrollmentSettingId?"":"Enrollment Setting Number  is required.",e.tbStatusId=We.tbStatusId?"":"TB status is required.",e.statusAtRegistrationId=We.statusAtRegistrationId?"":"Status at Registration is required.",e.entryPointId=We.entryPointId?"":"Care Entry Point is required.",e.dateOfRegistration=We.dateOfRegistration?"":"Date of Registration is required.",e.uniqueId=We.uniqueId?"":"Unique ID is required.",Re(Object(p.a)({},e)),Object.values(e).every((function(e){return""==e}))},da=function(){var e=Object(O.a)(Object(h.a)().mark((function e(r){var c,n,s,d,l,j,b;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),c=W.find((function(e){return e.display===i.sexId})),i.sexId=c.id,!oa()){e.next=25;break}return n=[],D&&D.length>0&&D.map((function(e){var t={address:{line:[e.address]},contactPoint:{type:"phone",value:e.phone},firstName:e.firstName,fullName:e.firstName+" "+e.middleName+" "+e.lastName,relationshipId:e.relationshipId,surname:e.lastName,otherName:e.middleName};n.push(t)})),e.prev=6,s={active:!0,address:[{city:i.address,countryId:i.countryId,district:i.district,line:[i.landmark],organisationUnitId:0,postalCode:"",stateId:i.stateId}],contact:n,contactPoint:[],dateOfBirth:i.dob,deceased:!1,deceasedDateTime:null,firstName:i.firstName,genderId:i.genderId,sexId:i.sexId,identifier:[{assignerId:1,type:"HospitalNumber",value:i.hospitalNumber}],otherName:i.middleName,maritalStatusId:i.maritalStatusId,surname:i.lastName,educationId:i.educationId,employmentStatusId:i.employmentStatusId,dateOfRegistration:i.dateOfRegistration,isDateOfBirthEstimated:"Actual"!=i.dateOfBirth,ninNumber:i.ninNumber},d={type:"phone",value:i.phoneNumber},i.email&&(l={type:"email",value:i.email},s.contactPoint.push(l)),i.altPhonenumber&&(j={type:"altphone",value:i.altPhonenumber},s.contactPoint.push(j)),s.contactPoint.push(d),s.id=t,ke.person=s,ke.hivEnrollment=We,e.next=17,v.a.put("".concat(y,"hiv/patient/").concat(a.id),ke,{headers:{Authorization:"Bearer ".concat(N)}});case 17:e.sent,o.b.success("Patient Updated successful"),qe.push("/"),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(6),e.t0.response&&e.t0.response.data&&(b=e.t0.response.data&&""!==e.t0.response.data.apierror.message?e.t0.response.data.apierror.message:"Something went wrong, please try again",o.b.error(b));case 25:case"end":return e.stop()}}),e,null,[[6,22]])})));return function(t){return e.apply(this,arguments)}}(),la=function(e){return e.replace(/[^a-z]/gi,"")},ja=function(){v.a.get("".concat(y,"application-codesets/v2/POINT_ENTRY"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){at(e.data)})).catch((function(e){}))},ba=function(){v.a.get("".concat(y,"application-codesets/v2/SOURCE_REFERRAL"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){it(e.data)})).catch((function(e){}))},ua=function(){v.a.get("".concat(y,"application-codesets/v2/HIV_STATUS_ENROL"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){lt(e.data)})).catch((function(e){}))},ma=function(){v.a.get("".concat(y,"application-codesets/v2/ENROLLMENT_SETTING"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){mt(e.data)})).catch((function(e){}))},ha=function(){v.a.get("".concat(y,"application-codesets/v2/TB_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){xt(e.data)})).catch((function(e){}))},Oa=function(){v.a.get("".concat(y,"application-codesets/v2/TARGET_GROUP"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){yt(e.data)})).catch((function(e){}))},pa=function(){v.a.get("".concat(y,"application-codesets/v2/PREGANACY_STATUS"),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){Ct(e.data)})).catch((function(e){}))},xa=function(e){Ge(Object(p.a)(Object(p.a)({},We),{},Object(Ue.a)({},e.target.name,e.target.value))),"entryPointId"===e.target.name&&("21"===e.target.value?Tt(!0):Tt(!1)),"pregnancyStatusId"===e.target.name&&(console.log(e.target.value),"72"===e.target.value?Tt(!0):Tt(!1))},fa=function(e,t){l(Object(p.a)(Object(p.a)({},i),{},Object(Ue.a)({},t,e.slice(0,10))))},ga=function(e){e.target.checked?qt(!0):qt(!1)};return Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(o.a,{autoClose:3e3,hideProgressBar:!0}),Object(le.jsx)(xe.a,{className:Ee.cardBottom,children:Object(le.jsxs)(wa.a,{children:[Object(le.jsx)(S.b,{to:{pathname:"/patient-history",state:{patientObj:a}},children:Object(le.jsx)(ae.a,{variant:"contained",color:"primary",className:" float-end ms-1",style:{backgroundColor:"#014d88",fontWeight:"bolder"},startIcon:Object(le.jsx)(de.a,{}),children:Object(le.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Back "})})}),Object(le.jsx)("br",{}),Object(le.jsx)("br",{}),Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(le.jsxs)(Ke.a,{children:[Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Edit User Information"})}),Object(le.jsx)("div",{className:"card-body",children:Object(le.jsxs)("div",{className:"basic-form",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"dateOfRegistration",children:"Date of Registration* "}),Object(le.jsx)(Je.a,{className:"form-control",type:"date",name:"dateOfRegistration",id:"dateOfRegistration",value:i.dateOfRegistration,onChange:na,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==De.dateOfRegistration1?Object(le.jsx)("span",{className:Ee.error,children:De.dateOfRegistration1}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"patientId",children:"Hospital Number* "}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"hospitalNumber",id:"hospitalNumber",value:i.hospitalNumber,onChange:na,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:"update"!==Ft.actionType}),""!==De.hospitalNumber?Object(le.jsx)("span",{className:Ee.error,children:De.hospitalNumber}):"",""!==De.hospitalNumber?Object(le.jsx)("span",{className:Ee.error,children:De.hospitalNumber}):"",!0===Mt?Object(le.jsx)("span",{className:Ee.error,children:"Hospital number already exist"}):"",!0===Gt?Object(le.jsx)("span",{className:Ee.success,children:"Hospital number is OK."}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"patientId",children:"EMR Number* "}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"emrNumber",id:"emrNumber",disabled:"true",value:Math.floor(1094328*Math.random()),style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"firstName",children:"First Names *"}),Object(le.jsx)(Je.a,{className:"form-control",type:"text",name:"firstName",id:"firstName",value:i.firstName,onChange:na,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==De.firstName?Object(le.jsx)("span",{className:Ee.error,children:De.firstName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Middle Name"}),Object(le.jsx)(Je.a,{className:"form-control",type:"text",name:"middleName",id:"middleName",value:i.middleName,onChange:na,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Last Name *"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:i.lastName,onChange:na,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==De.lastName?Object(le.jsx)("span",{className:Ee.error,children:De.lastName}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Sex *"}),Object(le.jsxs)("select",{className:"form-control",name:"sexId",id:"sexId",onChange:na,value:i.sexId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),W.map((function(e,t){return Object(le.jsx)("option",{value:e.display,children:e.display},e.id)}))]}),""!==De.sexId?Object(le.jsx)("span",{className:Ee.error,children:De.sexId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-2 col-md-2",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date Of Birth"}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Actual",name:"dateOfBirth",defaultChecked:!0,onChange:function(e){return ca(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Actual"]})}),Object(le.jsx)("div",{className:"radio",children:Object(le.jsxs)("label",{children:[Object(le.jsx)("input",{type:"radio",value:"Estimated",name:"dateOfBirth",onChange:function(e){return ca(e)},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})," Estimated"]})})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date"}),Object(le.jsx)("input",{className:"form-control",type:"date",name:"dob",id:"dob",max:g,value:i.dob,onChange:function(e){if(e.target.value){var t=new Date,a=new Date(e.target.value),r=t.getFullYear()-a.getFullYear(),c=t.getMonth()-a.getMonth();(c<0||0===c&&t.getDate()<a.getDate())&&r--,i.age=r}else l(Object(p.a)(Object(p.a)({},i),{},{age:""}));l(Object(p.a)(Object(p.a)({},i),{},{dob:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Age"}),Object(le.jsx)("input",{className:"form-control",type:"number",name:"age",id:"age",value:i.age,disabled:k,onChange:function(e){if(!k&&e.target.value){var t=new Date;t.setDate(15),t.setMonth(5);var a=ne(t.toISOString()).add(-1*e.target.value,"years");i.dob=ne(a).format("YYYY-MM-DD")}l(Object(p.a)(Object(p.a)({},i),{},{age:e.target.value}))},style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Marital Status"}),Object(le.jsxs)("select",{className:"form-control",name:"maritalStatusId",id:"maritalStatusId",onChange:na,value:i.maritalStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),K.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Employment Status *"}),Object(le.jsxs)("select",{className:"form-control",name:"employmentStatusId",id:"employmentStatusId",onChange:na,value:i.employmentStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),re.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==De.employmentStatusId?Object(le.jsx)("span",{className:Ee.error,children:De.employmentStatusId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Education Level *"}),Object(le.jsxs)("select",{className:"form-control",name:"educationId",id:"educationId",onChange:na,value:i.educationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select"}),Q.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==De.educationId?Object(le.jsx)("span",{className:Ee.error,children:De.educationId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"patientId",children:"National Identity Number (NIN)  "}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"nin",id:"nin",value:i.ninNumber,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Contact Details"})}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Phone Number *"}),Object(le.jsx)(Ba.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",maxLength:5,name:"phoneNumber",id:"phoneNumber",value:i.phoneNumber,onChange:function(e){fa(e,"phoneNumber")}}),""!==De.phoneNumber?Object(le.jsx)("span",{className:Ee.error,children:De.phoneNumber}):""]})}),Object(le.jsx)("div",{className:"form-group col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Alt. Phone Number"}),Object(le.jsx)(Ba.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",value:i.altPhonenumber,onChange:function(e){fa(e,"altPhonenumber")}})]})}),Object(le.jsx)("div",{className:"form-group col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Email"}),Object(le.jsx)("input",{className:"form-control",type:"email",name:"email",id:"email",onChange:na,value:i.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Country *"}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"countryId",id:"countryId",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:i.countryId,onChange:function(e){var t=e.target.value;ra(t),l(Object(p.a)(Object(p.a)({},i),{},{countryId:t}))},children:[Object(le.jsx)("option",{value:"",children:"Select"}),me.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==De.countryId?Object(le.jsx)("span",{className:Ee.error,children:De.countryId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"State *"}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"stateId",id:"stateId",value:i.stateId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:function(e){var t=e.target.value;l(Object(p.a)(Object(p.a)({},i),{},{stateId:e.target.value})),v.a.get("".concat(y,"organisation-units/parent-organisation-units/").concat(t),{headers:{Authorization:"Bearer ".concat(N)}}).then((function(e){Se(e.data)})).catch((function(e){}))},children:[Object(le.jsx)("option",{value:"",children:"Select"}),fe.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==De.stateId?Object(le.jsx)("span",{className:Ee.error,children:De.stateId}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Province/District/LGA *"}),Object(le.jsxs)("select",{className:"form-control",type:"text",name:"district",id:"district",value:i.district,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:na,children:[Object(le.jsx)("option",{value:"",children:"Select"}),Ne.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.name},t)}))]}),""!==De.district?Object(le.jsx)("span",{className:Ee.error,children:De.district}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Street Address*"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:i.address,onChange:na,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==De.address?Object(le.jsx)("span",{className:Ee.error,children:De.address}):""]})}),Object(le.jsx)("div",{className:"form-group  col-md-4",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Landmark"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"landmark",id:"landmark",value:i.landmark,onChange:na,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})]})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"Relationship / Next Of Kin"})}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[D&&D.length>0&&Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:Object(le.jsxs)("table",{style:{width:"100%"},className:"mb-3",children:[Object(le.jsx)("thead",{className:"mb-3",children:Object(le.jsxs)("tr",{children:[Object(le.jsx)("th",{children:"Relationship Type"}),Object(le.jsx)("th",{children:"Name"}),Object(le.jsx)("th",{children:"Phone"}),Object(le.jsx)("th",{children:"Address"}),Object(le.jsx)("th",{children:"Actions"})]})}),Object(le.jsx)("tbody",{className:"mb-3",children:D.map((function(e,t){return Object(le.jsxs)("tr",{className:"mb-3",children:[Object(le.jsx)("td",{children:ia(e.relationshipId)}),Object(le.jsx)("td",{children:e.firstName+" "+e.middleName+" "+e.lastName}),Object(le.jsx)("td",{children:e.phone}),Object(le.jsx)("td",{children:e.address}),Object(le.jsxs)("td",{children:[Object(le.jsx)("button",{type:"button",className:"btn btn-default btn-light btn-sm editRow",onClick:function(){return function(e,t){m(e),L(!0),D.splice(t,1)}(e,t)},children:Object(le.jsx)(Ca.a,{icon:"edit"})}),"\xa0\xa0",Object(le.jsx)("button",{type:"button",className:"btn btn-danger btn-sm removeRow",onClick:function(e){return function(e){D.splice(e,1),R(Object(Ve.a)(D))}(t)},children:Object(le.jsx)(Ca.a,{icon:"trash"})})]})]},e.index)}))})]})}),Object(le.jsx)("div",{className:"col-xl-12 col-lg-12",children:Y&&Object(le.jsx)("div",{className:"card",children:Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"relationshipType",children:"Relationship Type *"}),Object(le.jsxs)("select",{className:"form-control",name:"relationshipId",id:"relationshipId",value:u.relationshipId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:sa,children:[Object(le.jsx)("option",{value:"",children:"Select"}),oe.map((function(e,t){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==De.relationshipId?Object(le.jsx)("span",{className:Ee.error,children:De.relationshipId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"cfirstName",children:"First Name *"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:u.firstName,id:"firstName",style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:sa}),""!==De.firstName?Object(le.jsx)("span",{className:Ee.error,children:De.firstName}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Middle Name"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"middleName",id:"middleName",value:u.middleName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:sa})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Last Name *"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"lastName",id:"lastName",value:u.lastName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:sa}),""!==De.lastName?Object(le.jsx)("span",{className:Ee.error,children:De.lastName}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"contactPhoneNumber",children:"Phone Number"}),Object(le.jsx)(Ba.a,{containerStyle:{width:"100%",border:"1px solid #014D88"},inputStyle:{width:"100%",borderRadius:"0px"},country:"ng",placeholder:"(234)7099999999",name:"phone",value:u.phone,id:"phone",onChange:function(e){!function(e,t){m(Object(p.a)(Object(p.a)({},u),{},Object(Ue.a)({},t,e.slice(0,10))))}(e.slice(0,10),"phone")}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"contactEmail",children:"Email"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"email",id:"email",value:u.email,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:sa})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"contactAddress",children:"Address"}),Object(le.jsx)("input",{className:"form-control",type:"text",name:"address",id:"address",value:u.address,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:sa})]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"col-1",children:Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"primary",className:Ee.button,onClick:function(e){(function(){var e=Object(p.a)({},De);return e.firstName=u.firstName?"":"First Name is required",e.lastName=u.lastName?"":"Last Name  is required.",e.relationshipId=u.relationshipId?"":"Relationship Type is required.",Re(Object(p.a)({},e)),Object.values(e).every((function(e){return""==e}))})()&&R([].concat(Object(Ve.a)(D),[u]))},children:"Add"})}),Object(le.jsx)("div",{className:"col-1",children:Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"secondary",className:Ee.button,onClick:function(){L(!1)},children:"Cancel"})})]})]})})})]}),Object(le.jsx)("div",{className:"row"}),Object(le.jsx)(ae.a,{type:"button",variant:"contained",color:"primary",className:Ee.button,startIcon:Object(le.jsx)(Aa.a,{}),onClick:function(){L(!0)},style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:"Add a Relative/Next Of Kin"})]})]}),Object(le.jsxs)("div",{className:"card",children:[Object(le.jsx)("div",{className:"card-header",style:{backgroundColor:"#014d88",color:"#fff",fontWeight:"bolder",borderRadius:"0.2rem"},children:Object(le.jsx)("h5",{className:"card-title",style:{color:"#fff"},children:"HIV Enrollment"})}),Object(le.jsxs)("div",{className:"card-body",children:[Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"uniqueId",children:"Unique ID No  * "}),Object(le.jsx)(Je.a,{type:"text",name:"uniqueId",id:"uniqueId",onChange:xa,value:We.uniqueId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},disabled:!0}),""!==De.uniqueId?Object(le.jsx)("span",{className:Ee.error,children:De.uniqueId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"dateOfRegistration",children:"Date of Enrollment * "}),Object(le.jsx)(Je.a,{type:"date",name:"dateOfRegistration",id:"dateOfRegistration",min:i.dateOfRegistration,max:ne(new Date).format("YYYY-MM-DD"),onChange:xa,value:We.dateOfRegistration,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==De.dateOfRegistration?Object(le.jsx)("span",{className:Ee.error,children:De.dateOfRegistration}):""]})})]}),Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{for:"entryPointId",children:"Care Entry Point * "}),Object(le.jsxs)(Je.a,{type:"select",name:"entryPointId",id:"entryPointId",onChange:xa,value:We.entryPointId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:" "}),tt.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==De.entryPointId?Object(le.jsx)("span",{className:Ee.error,children:De.entryPointId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:!0===wt?Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Facility Name"}),Object(le.jsx)(Je.a,{type:"text",name:"facilityName",id:"facilityName",onChange:xa,value:We.facilityName,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]}):""}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"HIV Status at Registration *"}),Object(le.jsxs)(Je.a,{type:"select",name:"statusAtRegistrationId",id:"statusAtRegistrationId",onChange:xa,value:We.statusAtRegistrationId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:" Select"}),dt.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==De.statusAtRegistrationId?Object(le.jsx)("span",{className:Ee.error,children:De.statusAtRegistrationId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date of Confirmed HIV Test *"}),Object(le.jsx)(Je.a,{type:"date",name:"dateConfirmedHiv",id:"dateConfirmedHiv",min:i.dob,max:We.dateOfRegistration,onChange:xa,value:We.dateConfirmedHiv,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}}),""!==De.dateConfirmedHiv?Object(le.jsx)("span",{className:Ee.error,children:De.dateConfirmedHiv}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Source of Referral *"}),Object(le.jsxs)(Je.a,{type:"select",name:"sourceOfReferrerId",id:"sourceOfReferrerId",value:We.sourceOfReferrerId,onChange:xa,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:"Select "}),nt.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==De.sourceOfReferrerId?Object(le.jsx)("span",{className:Ee.error,children:De.sourceOfReferrerId}):""]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Enrollment Setting *"}),Object(le.jsxs)(Je.a,{type:"select",name:"enrollmentSettingId",id:"enrollmentSettingId",value:We.enrollmentSettingId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:xa,children:[Object(le.jsx)("option",{value:"",children:" Select"}),ut.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==De.enrollmentSettingId?Object(le.jsx)("span",{className:Ee.error,children:De.enrollmentSettingId}):""]})}),Fe&&i.age>9&&Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:" Pregnancy "}),Object(le.jsxs)(Je.a,{type:"select",name:"pregnancyStatusId",id:"pregnancyStatusId",value:We.pregnancyStatusId,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},onChange:xa,children:[Object(le.jsx)("option",{value:"",children:"Select "}),It.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]})]})}),"72"!==We.pregnancyStatusId&&Object(le.jsx)(le.Fragment,{children:Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date of LMP "}),Object(le.jsx)(Je.a,{type:"date",name:"dateOfLpm",id:"dateOfLpm",max:g,onChange:xa,value:We.dateOfLpm,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})})]}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"TB Status * "}),Object(le.jsxs)(Je.a,{type:"select",name:"tbStatusId",id:"tbStatusId",value:We.tbStatusId,onChange:xa,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:" Select"}),pt.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==De.tbStatusId?Object(le.jsx)("span",{className:Ee.error,children:De.tbStatusId}):""]})}),"false"===Lt?Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Target Group *"}),Object(le.jsxs)(Je.a,{type:"select",name:"targetGroupId",id:"targetGroupId",value:We.targetGroupId,onChange:xa,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},children:[Object(le.jsx)("option",{value:"",children:" Select"}),vt.map((function(e){return Object(le.jsx)("option",{value:e.id,children:e.display},e.id)}))]}),""!==De.targetGroupId?Object(le.jsx)("span",{className:Ee.error,children:De.targetGroupId}):""]})}):"",Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)("div",{className:"form-check custom-checkbox ml-1 ",children:[Object(le.jsx)("input",{type:"checkbox",className:"form-check-input",name:"ovc_enrolled",id:"ovc_enrolled",onChange:ga}),Object(le.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:"Enrolled into OVC?"})]})}),i.age<=14&&Object(le.jsx)("div",{className:"form-group mb-3 col-md-3",children:Object(le.jsxs)("div",{className:"form-check custom-checkbox ml-1 ",children:[Object(le.jsx)("input",{type:"checkbox",className:"form-check-input",name:"ovc_enrolled",id:"ovc_enrolled",onChange:ga}),Object(le.jsx)("label",{className:"form-check-label",htmlFor:"basic_checkbox_1",children:"Enrolled into OVC?"})]})}),!0===Et&&Object(le.jsx)(le.Fragment,{children:Object(le.jsxs)("div",{className:"row",children:[Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Household Unique Number"}),Object(le.jsx)(Je.a,{type:"text",name:"householdNumber",id:"householdNumber",required:Et,onChange:xa,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:We.householdNumber})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6"}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Referred To OVC Partner"}),Object(le.jsx)(Je.a,{type:"text",name:"referredToOVCPartner",id:"referredToOVCPartner",required:Et,onChange:xa,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:We.referredToOVCPartner})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date Referred To OVC Partner"}),Object(le.jsx)(Je.a,{type:"date",name:"dateReferredToOVCPartner",id:"dateReferredToOVCPartner",min:i.dob,max:We.dateOfRegistration,onChange:xa,value:We.dateReferredToOVCPartner,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Referred From OVC Partner"}),Object(le.jsx)(Je.a,{type:"text",name:"referredFromOVCPartner",id:"referredFromOVCPartner",required:Et,onChange:xa,style:{border:"1px solid #014D88",borderRadius:"0.2rem"},value:We.referredFromOVCPartner})]})}),Object(le.jsx)("div",{className:"form-group mb-3 col-md-6",children:Object(le.jsxs)(Xe.a,{children:[Object(le.jsx)(Ze.a,{children:"Date Referred From OVC Partner"}),Object(le.jsx)(Je.a,{type:"date",name:"dateReferredFromOVCPartner",id:"dateReferredFromOVCPartner",min:i.dob,max:We.dateOfRegistration,onChange:xa,value:We.dateReferredFromOVCPartner,style:{border:"1px solid #014D88",borderRadius:"0.2rem"}})]})})]})})]})]})]}),A?Object(le.jsx)(kt.a,{}):"",Object(le.jsx)("br",{}),"update"===Ft.actionType?Object(le.jsxs)(le.Fragment,{children:[Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:Ee.button,startIcon:Object(le.jsx)($e.a,{}),onClick:da,style:{backgroundColor:"#014d88",fontWeight:"bolder"},children:A?Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Updating..."}):Object(le.jsx)("span",{style:{textTransform:"capitalize"},children:"Update"})}),Object(le.jsx)(ae.a,{variant:"contained",className:Ee.button,startIcon:Object(le.jsx)(At.a,{}),onClick:function(){qe.push({pathname:"/"})},style:{backgroundColor:"#992E62"},children:Object(le.jsx)("span",{style:{textTransform:"capitalize",color:"#fff"},children:"Cancel"})})]}):""]})})]})})]})};function Fa(){return Object(le.jsx)(s.a,{children:Object(le.jsxs)("div",{children:[Object(le.jsx)(o.a,{}),Object(le.jsxs)(s.d,{children:[Object(le.jsx)(s.b,{path:"/patient-history",children:Object(le.jsx)(Ia,{})}),Object(le.jsx)(s.b,{path:"/register-patient",children:Object(le.jsx)(Ea,{})}),Object(le.jsx)(s.b,{path:"/enroll-patient",children:Object(le.jsx)(za,{})}),Object(le.jsx)(s.b,{path:"/update-patient",children:Object(le.jsx)(La,{})}),Object(le.jsx)(s.b,{path:"/",children:Object(le.jsx)(Be,{})})]})]})})}var Ha=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,1240)).then((function(t){var a=t.getCLS,r=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),r(e),c(e),n(e),i(e)}))},_a=a(673),Ma="ltr",Wa=[{typography:"poppins",version:"light",layout:"vertical",headerBg:"color_1",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"full",direction:Ma},{typography:"poppins",version:"light",layout:"vertical",primary:"color_5",headerBg:"color_5",navheaderBg:"color_1",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",direction:Ma},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_11",headerBg:"color_1",sidebarBg:"color_11",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_11",direction:Ma},{typography:"poppins",version:"dark",layout:"vertical",headerBg:"color_3",navheaderBg:"color_3",sidebarBg:"color_1",sidebarStyle:"full",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_1",direction:Ma},{typography:"poppins",version:"light",layout:"vertical",navheaderBg:"color_15",headerBg:"color_1",sidebarStyle:"full",sidebarBg:"color_1",sidebarPosition:"fixed",headerPosition:"fixed",containerLayout:"wide",primary:"color_15",direction:Ma},{typography:"poppins",version:"light",layout:"horizontal",navheaderBg:"color_1",headerBg:"color_1",sidebarBg:"color_9",sidebarStyle:"modern",sidebarPosition:"static",headerPosition:"fixed",containerLayout:"wide",primary:"color_9",direction:Ma}],Va=Object(r.createContext)(),Ua=function(e){var t=Object(r.useState)({value:"full",label:"Full"}),a=Object(d.a)(t,2),c=a[0],n=a[1],i=Object(r.useState)({value:"fixed",label:"Fixed"}),s=Object(d.a)(i,2),o=s[0],l=s[1],j=Object(r.useState)({value:"fixed",label:"Fixed"}),b=Object(d.a)(j,2),u=b[0],m=b[1],h=Object(r.useState)({value:"vertical",label:"Vertical"}),O=Object(d.a)(h,2),p=O[0],x=O[1],f=Object(r.useState)({value:"ltr",label:"LTR"}),g=Object(d.a)(f,2),v=g[0],y=g[1],N=Object(r.useState)("color_1"),S=Object(d.a)(N,2),I=S[0],C=S[1],D=Object(r.useState)("color_1"),R=Object(d.a)(D,2),w=R[0],T=R[1],A=Object(r.useState)("color_1"),P=Object(d.a)(A,2),B=P[0],k=P[1],E=Object(r.useState)("color_1"),q=Object(d.a)(E,2),z=q[0],Y=q[1],L=Object(r.useState)(!1),F=Object(d.a)(L,2),H=F[0],_=F[1],M=Object(r.useState)(!1),W=Object(d.a)(M,2),V=W[0],U=W[1],G=Object(r.useState)({value:"light",label:"Light"}),K=Object(d.a)(G,2),X=K[0],Z=K[1],J=Object(r.useState)({value:"wide-boxed",label:"Wide Boxed"}),Q=Object(d.a)(J,2),$=Q[0],ee=Q[1],te=document.querySelector("body"),ae=Object(r.useState)(0),re=Object(d.a)(ae,2),ce=re[0],ne=re[1],ie=Object(r.useState)(0),se=Object(d.a)(ie,2),oe=se[0],de=se[1],je=function(e){C(e),te.setAttribute("data-primary",e)},be=function(e){T(e),te.setAttribute("data-nav-headerbg",e)},ue=function(e){k(e),te.setAttribute("data-headerbg",e)},me=function(e){Y(e),te.setAttribute("data-sibebarbg",e)},he=function(e){l(e),te.setAttribute("data-sidebar-position",e.value)},Oe=function(e){y(e),te.setAttribute("direction",e.value);var t=document.querySelector("html");t.setAttribute("dir",e.value),t.className=e.value},pe=function(e){"horizontal"===e.value&&"overlay"===c.value?(x(e),te.setAttribute("data-layout",e.value),n({value:"full",label:"Full"}),te.setAttribute("data-sidebar-style","full")):(x(e),te.setAttribute("data-layout",e.value))},xe=function(e){"horizontal"===p.value&&"overlay"===e.value?alert("Sorry! Overlay is not possible in Horizontal layout."):(n(e),_("icon-hover"===e.value?"_i-hover":""),te.setAttribute("data-sidebar-style",e.value))},fe=function(e){m(e),te.setAttribute("data-header-position",e.value)},ge=function(e){te.setAttribute("data-theme-version",e.value),Z(e)},ve=function(e){ee(e),te.setAttribute("data-container",e.value),"boxed"===e.value&&xe({value:"overlay",label:"Overlay"})};return Object(r.useEffect)((function(){var e=document.querySelector("body");e.setAttribute("data-typography","poppins"),e.setAttribute("data-theme-version","light"),e.setAttribute("data-layout","vertical"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-nav-headerbg","color_1"),e.setAttribute("data-headerbg","color_1"),e.setAttribute("data-sidebar-style","overlay"),e.setAttribute("data-sibebarbg","color_1"),e.setAttribute("data-primary","color_1"),e.setAttribute("data-sidebar-position","fixed"),e.setAttribute("data-header-position","fixed"),e.setAttribute("data-container","wide"),e.setAttribute("direction","ltr");var t=function(){ne(window.innerWidth),de(window.innerHeight),window.innerWidth>=768&&window.innerWidth<1024?e.setAttribute("data-sidebar-style","mini"):window.innerWidth<=768?e.setAttribute("data-sidebar-style","overlay"):e.setAttribute("data-sidebar-style","full")};return t(),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),Object(le.jsx)(Va.Provider,{value:{body:te,sideBarOption:[{value:"compact",label:"Compact"},{value:"full",label:"Full"},{value:"mini",label:"Mini"},{value:"modern",label:"Modern"},{value:"overlay",label:"Overlay"},{value:"icon-hover",label:"Icon-hover"}],layoutOption:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"}],backgroundOption:[{value:"light",label:"Light"},{value:"dark",label:"Dark"}],sidebarposition:o,headerPositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],containerPosition:[{value:"wide-boxed",label:"Wide Boxed"},{value:"boxed",label:"Boxed"},{value:"wide",label:"Wide"}],directionPosition:[{value:"ltr",label:"LTR"},{value:"rtl",label:"RTL"}],fontFamily:[{value:"poppins",label:"Poppins"},{value:"roboto",label:"Roboto"},{value:"cairo",label:"Cairo"},{value:"opensans",label:"Open Sans"},{value:"HelveticaNeue",label:"HelveticaNeue"}],primaryColor:I,navigationHader:w,windowWidth:ce,windowHeight:oe,changePrimaryColor:je,changeNavigationHader:be,changeSideBarStyle:xe,sideBarStyle:c,changeSideBarPostion:he,sidebarpositions:[{value:"fixed",label:"Fixed"},{value:"static",label:"Static"}],changeHeaderPostion:fe,headerposition:u,changeSideBarLayout:pe,sidebarLayout:p,changeDirectionLayout:Oe,changeContainerPosition:ve,direction:v,colors:["color_1","color_2","color_3","color_4","color_5","color_6","color_7","color_8","color_9","color_10","color_11","color_12","color_13","color_14","color_15"],haderColor:B,chnageHaderColor:ue,chnageSidebarColor:me,sidebarColor:z,iconHover:H,menuToggle:V,openMenuToggle:function(){"overly"===c.value?U(!0):U(!1)},changeBackground:ge,background:X,containerPosition_:$,setDemoTheme:function(e,t){var a={},r=Wa[e];te.setAttribute("data-typography",r.typography),a.value=r.version,ge(a),a.value=r.layout,pe(a),je(r.primary),be(r.navheaderBg),ue(r.headerBg),a.value=r.sidebarStyle,xe(a),me(r.sidebarBg),a.value=r.sidebarPosition,he(a),a.value=r.headerPosition,fe(a),a.value=r.containerLayout,ve(a),a.value=t,Oe(a)}},children:e.children})};i.a.render(Object(le.jsx)(c.a.StrictMode,{children:Object(le.jsx)(_a.a,{children:Object(le.jsx)(S.a,{basename:"/",children:Object(le.jsx)(Ua,{children:Object(le.jsx)(Fa,{})})})})}),document.getElementById("root")),Ha()}},[[954,1,2]]]);
//# sourceMappingURL=main.4d5e50aa.chunk.js.map